{
  "components": {
    "src/widget/Capybara": {
      "code": "return (\n  <svg\n    height=\"30px\"\n    width=\"30px\"\n    viewBox=\"0 0 512 512\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g>\n      <path\n        fill=\"#878791\"\n        d=\"M181.696,65.849c0,0-40.248-65.849-49.536-65.849s-8.256,98.873-8.256,98.873L181.696,65.849z\"\n      />\n      <path\n        fill=\"#878791\"\n        d=\"M330.27,65.849c0,0,40.248-65.849,49.536-65.849c9.288,0,8.256,98.873,8.256,98.873L330.27,65.849z\"\n      />\n    </g>\n    <path\n      fill=\"#C39B6E\"\n      d=\"M256,512c81.872,0,185.928-18.287,209.564-107.328c23.285-87.72-29.233-150.366-44.444-181.632\n            c-12.384-25.456-16.512-40.592-16.512-74.304C404.608,33.152,256,33.023,256,33.023s-148.608,0.129-148.608,115.713\n            c0,33.712-4.128,48.848-16.512,74.304c-15.211,31.265-67.729,93.912-44.444,181.632C70.072,493.714,174.128,512,256,512z\"\n    />\n    <path\n      fill=\"#AC8A67\"\n      d=\"M256,82.361L256,82.361c-31.918,0-57.792,25.874-57.792,57.792v206.4\n            c0,31.918,25.874,57.792,57.792,57.792l0,0c31.918,0,57.792-25.874,57.792-57.792v-206.4C313.792,108.235,287.918,82.361,256,82.361\n            z\"\n    />\n    <g>\n      <path\n        fill=\"#464655\"\n        d=\"M313.792,429.03c0,42.147-39.553,28.617-57.792,28.617s-57.792,13.53-57.792-28.617\n                s25.874-28.617,57.792-28.617S313.792,386.882,313.792,429.03z\"\n      />\n      <ellipse\n        fill=\"#464655\"\n        cx=\"115.646\"\n        cy=\"164.924\"\n        rx=\"16.512\"\n        ry=\"24.768\"\n      />\n      <ellipse\n        fill=\"#464655\"\n        cx=\"396.35\"\n        cy=\"164.924\"\n        rx=\"16.512\"\n        ry=\"24.768\"\n      />\n    </g>\n    <path\n      fill=\"#C0C0C6\"\n      d=\"M283.628,200.296l-0.012-0.011c-7.849-7.065-17.732-10.597-27.615-10.597\n            c-9.883,0-19.765,3.531-27.615,10.597l-0.012,0.011c-34.966,31.47-54.932,76.303-54.932,123.346v91.214\n            c0,13.679,11.089,24.768,24.768,24.768h22.819c12.14,0,24.115-2.827,34.973-8.256c10.859,5.429,22.832,8.256,34.973,8.256h22.819\n            c13.679,0,24.768-11.089,24.768-24.768v-91.214C338.56,276.599,318.594,231.767,283.628,200.296z\"\n    />\n    <g>\n      <path\n        fill=\"#9E9EA6\"\n        d=\"M308.029,241.48h-9.262c-6.409,0-12.73,1.492-18.461,4.358l-13.228,6.614\n                c-6.973,3.487-15.181,3.487-22.154,0l-13.228-6.614c-5.732-2.866-12.053-4.358-18.461-4.358h-9.262\n                c-15.647,0-29.672,11.716-30.49,27.342c-0.873,16.665,12.381,30.45,28.855,30.45h4.128c24.768,0,24.768,33.024,49.536,33.024\n                s24.768-33.024,49.536-33.024h4.128c16.474,0,29.728-13.785,28.855-30.45C337.701,253.196,323.675,241.48,308.029,241.48z\"\n      />\n      <path\n        fill=\"#9E9EA6\"\n        d=\"M256,431.368c2.687,1.344,5.446,2.523,8.256,3.545V406.6c0-4.559-3.697-8.256-8.256-8.256\n                c-4.559,0-8.256,3.697-8.256,8.256v28.313C250.554,433.891,253.313,432.711,256,431.368z\"\n      />\n    </g>\n    <g>\n      <circle fill=\"#464655\" cx=\"202.334\" cy=\"270.374\" r=\"12.384\" />\n      <circle fill=\"#464655\" cx=\"309.662\" cy=\"270.374\" r=\"12.384\" />\n    </g>\n  </svg>\n);\n"
    },
    "src/widget/SocialDbEditor": {
      "code": "const contractId = \"social.dapplets.near\";\n\nconst [query, setQuery] = useState(\n  `${context.accountId}/settings/dapplets.near/mutation/Sandbox/**`\n);\n\nconst originalData = Near.view(contractId, \"get\", {\n  keys: [query],\n});\n\nconst [modifiedJson, setModifiedJson] = useState(\"\");\n\nuseEffect(() => {\n  setModifiedJson(JSON.stringify(originalData, null, 2));\n}, [originalData]);\n\nconst isArray = (a) => Array.isArray(a);\n\nconst isObject = (o) => !isArray(o) && typeof o === \"object\";\n\nconst removeDuplicates = (data, prevData) => {\n  const obj = Object.entries(data).reduce((obj, [key, value]) => {\n    const prevValue = isObject(prevData) ? prevData[key] : undefined;\n    if (isObject(value)) {\n      const newValue = isObject(prevValue)\n        ? removeDuplicates(value, prevValue)\n        : value;\n      if (newValue !== undefined) {\n        obj[key] = newValue;\n      }\n    } else if (value !== prevValue) {\n      obj[key] = value;\n    }\n\n    return obj;\n  }, {});\n  return Object.keys(obj).length ? obj : undefined;\n};\n\nconst handleSaveClick = () => {\n  Near.call(\n    contractId,\n    \"set\",\n    {\n      data: removeDuplicates(JSON.parse(modifiedJson), originalData),\n    },\n    null, // gas\n    \"10000000000000000000000\" // deposit 0.01 near\n  );\n};\n\nreturn (\n  <div>\n    <div style={{ marginBottom: \"1rem\" }}>\n      <label for=\"query\">Contract ID</label>\n      <input\n        className=\"form-control\"\n        id=\"query\"\n        placeholder=\"bos.dapplets.near/settings/dapplets.near/mutation/Zoo/**\"\n        value={query}\n        onChange={(e) => setQuery(e.target.value)}\n      />\n    </div>\n    <div style={{ marginBottom: \"1rem\" }}>\n      <label for=\"codeInput\">Data</label>\n      <textarea\n        id=\"codeInput\"\n        className=\"form-control\"\n        value={modifiedJson}\n        onChange={(e) => setModifiedJson(e.target.value)}\n        rows=\"15\"\n      ></textarea>\n    </div>\n    <div style={{ marginBottom: \"1rem\" }}>\n      <button type=\"button\" class=\"btn btn-primary\" onClick={handleSaveClick}>\n        Save\n      </button>\n    </div>\n  </div>\n);\n"
    },
    "src/widget/Tipping.TipIcon": {
      "code": "return (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 20 20\" fill=\"currentColor\" stroke=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M7.35231 19C6.18917 18.7603 5.12315 18.2531 4.00627 17.8797L3.84671 17.8312C3.83052 17.9163 3.8205 17.991 3.80355 18.0642C3.76769 18.2289 3.67504 18.377 3.54084 18.4839C3.40664 18.5909 3.23887 18.6504 3.06512 18.6527C2.63604 18.6597 2.20696 18.6597 1.77788 18.6527C1.67509 18.6527 1.57332 18.6328 1.47858 18.5942C1.38383 18.5555 1.29802 18.4989 1.2262 18.4277C1.15438 18.3564 1.09799 18.2719 1.06036 18.1792C1.02273 18.0865 1.00462 17.9875 1.00709 17.8879C1.00246 17.2083 1.00709 16.5294 1.00709 15.8497C1.00709 14.5263 1.0225 13.2028 1.00015 11.8794C0.990899 11.2924 1.41561 10.9585 1.91586 10.9884C2.25886 11.0078 2.60495 10.9884 2.9495 10.9921C3.49985 10.9921 3.81125 11.2841 3.83438 11.8204C3.83438 11.8436 3.839 11.866 3.84286 11.907L4.62445 11.9683C4.62445 11.6404 4.60287 11.3185 4.62907 11.0011C4.72003 9.87556 5.13395 8.85236 5.73517 7.89637C6.44353 6.76264 7.38468 5.82682 8.44915 5.00153C8.51341 4.95674 8.56616 4.89822 8.60331 4.8305C8.43451 4.84469 8.26416 4.84992 8.0969 4.87456C7.43247 4.97166 6.83202 5.18078 6.44508 5.76632C6.42751 5.79556 6.40394 5.82099 6.37582 5.84105C6.3477 5.8611 6.31563 5.87535 6.2816 5.88291C6.24757 5.89047 6.2123 5.89119 6.17797 5.885C6.14364 5.87882 6.11099 5.86588 6.08203 5.84698C6.05147 5.82859 6.02502 5.80445 6.00426 5.77599C5.9835 5.74752 5.96883 5.71531 5.96115 5.68126C5.95346 5.64721 5.95289 5.61201 5.95949 5.57774C5.96609 5.54347 5.97971 5.51084 5.99955 5.48176C6.2028 5.15071 6.49863 4.88218 6.85283 4.70727C7.32841 4.45781 7.84562 4.35101 8.38055 4.31367C8.44684 4.30919 8.51313 4.30769 8.57942 4.30396C8.58944 4.30396 8.59869 4.29425 8.63415 4.27483C8.3713 3.96414 8.05759 3.76398 7.63982 3.75203C7.38699 3.74456 7.13263 3.76696 6.87981 3.75576C6.4786 3.73059 6.09104 3.60473 5.75521 3.39055C5.58332 3.28673 5.53476 3.14632 5.61647 3.0089C5.69817 2.87147 5.86158 2.83787 6.03964 2.94392C6.42141 3.17653 6.87321 3.27708 7.32148 3.22922C7.90882 3.17171 8.42218 3.32781 8.84766 3.72813C8.93168 3.8073 8.98794 3.7946 9.055 3.71244C8.90084 3.44805 8.74668 3.18964 8.60254 2.91778C8.4268 2.58319 8.26185 2.23963 8.25337 1.85723C8.2488 1.6947 8.2798 1.53307 8.34433 1.38298C8.45918 1.13427 8.69812 1.04614 8.94709 1.17012C9.2161 1.30455 9.43655 1.28065 9.68937 1.12829C9.99769 0.943819 10.3314 0.963985 10.6336 1.15219C10.8779 1.3053 11.0922 1.30157 11.3366 1.15219C11.4825 1.05462 11.6556 1.00237 11.833 1.00237C12.0103 1.00237 12.1834 1.05462 12.3294 1.15219C12.4218 1.21701 12.5314 1.25513 12.6453 1.26213C12.7592 1.26914 12.8728 1.24474 12.973 1.19178C13.3168 1.03195 13.632 1.18058 13.6867 1.55102C13.7279 1.79207 13.7065 2.03925 13.6243 2.27025C13.4085 2.79305 13.1341 3.29569 12.8689 3.83866C12.9827 3.94662 13.0685 4.07921 13.1192 4.22554C13.1698 4.37187 13.1839 4.52775 13.1603 4.68038C13.1557 4.7222 13.2081 4.78121 13.2489 4.81481C13.5256 5.03887 13.8124 5.25696 14.0852 5.48699C14.2664 5.64085 14.2217 5.89553 14.0028 5.94034C13.899 5.94981 13.7954 5.9207 13.7129 5.85893C13.4308 5.64906 13.1626 5.42202 12.8936 5.20617C12.2831 5.54824 11.6241 5.59379 10.9666 5.5796C10.4324 5.56541 9.90057 5.48027 9.36795 5.42575C9.33143 5.42465 9.29583 5.41435 9.26466 5.39587C9.02494 5.2241 8.85845 5.35704 8.67423 5.50492C7.54655 6.40638 6.56609 7.43108 5.88856 8.70224C5.38523 9.64852 5.1008 10.6486 5.14242 11.7226C5.14336 11.8161 5.15291 11.9093 5.17094 12.0011C5.17716 12.0243 5.18881 12.0458 5.20498 12.064C5.22116 12.0821 5.24142 12.0964 5.26421 12.1057C5.90475 12.261 6.48207 12.5538 7.03705 12.8884C7.61207 13.2372 8.25337 13.3134 8.9047 13.3798C9.68552 13.4598 10.4687 13.5292 11.2433 13.6472C12.1182 13.7794 12.6762 14.4568 12.6739 15.3105C12.6739 15.3628 12.6739 15.4151 12.6739 15.492C12.7387 15.4711 12.7872 15.4591 12.8327 15.4397C13.8604 15.002 14.8882 14.5624 15.9159 14.1207C16.0067 14.0795 16.084 14.0149 16.1394 13.934C16.7314 13.0333 16.9164 12.0385 16.8023 10.9914C16.6273 9.37815 15.8296 8.04799 14.745 6.85599C14.7032 6.81389 14.6636 6.76977 14.6263 6.7238C14.6043 6.6976 14.5878 6.66742 14.5778 6.635C14.5679 6.60258 14.5647 6.56857 14.5684 6.53494C14.5721 6.50131 14.5827 6.46874 14.5995 6.4391C14.6164 6.40947 14.6391 6.38337 14.6664 6.36232C14.6909 6.34057 14.7195 6.32373 14.7507 6.31274C14.7819 6.30176 14.8151 6.29686 14.8482 6.29832C14.8814 6.29977 14.9139 6.30756 14.944 6.32124C14.974 6.33491 15.001 6.3542 15.0233 6.378C15.1543 6.50721 15.2769 6.64463 15.3964 6.78429C16.2759 7.81198 16.9434 8.9502 17.2316 10.2654C17.4791 11.3984 17.4213 12.5105 16.9434 13.586C16.9326 13.6114 16.9264 13.639 16.9102 13.692C17.086 13.6174 17.2363 13.5516 17.392 13.4964C18.1258 13.2365 18.8018 13.571 18.9706 14.2753C19.0237 14.4964 19.0046 14.7279 18.9159 14.938C18.8273 15.1481 18.6734 15.3263 18.4757 15.4479L13.5642 18.4645C13.1392 18.7358 12.6555 18.9088 12.1505 18.9701C12.1216 18.9763 12.0934 18.9856 12.0665 18.9978L7.35231 19ZM3.82821 12.45C3.82821 12.6845 3.82821 12.8981 3.82821 13.1162C3.82821 13.3343 3.71953 13.4545 3.54379 13.4486C3.36804 13.4426 3.28557 13.3291 3.2848 13.1147C3.2848 12.6927 3.2848 12.2715 3.2848 11.8495C3.2848 11.6008 3.20309 11.5202 2.95181 11.5194C2.59211 11.5194 2.22957 11.5194 1.86421 11.5194C1.63297 11.5194 1.54665 11.5986 1.54665 11.8241C1.54665 13.8272 1.54665 15.8298 1.54665 17.8319C1.54665 18.0522 1.62373 18.1262 1.85496 18.1307C2.21185 18.1307 2.56795 18.1307 2.92483 18.1307C3.21851 18.1307 3.28788 18.0634 3.28865 17.7811V14.8683C3.28865 14.719 3.2848 14.5756 3.28865 14.4292C3.28677 14.3612 3.31254 14.2952 3.36042 14.2455C3.40829 14.1957 3.47443 14.1662 3.54456 14.1633C3.61485 14.1621 3.683 14.1868 3.73522 14.2324C3.78745 14.278 3.81986 14.3412 3.8259 14.409C3.82975 14.4617 3.82975 14.5147 3.8259 14.5674C3.8259 15.4106 3.8259 16.2538 3.8259 17.097C3.81782 17.1468 3.82967 17.1978 3.85904 17.2394C3.8884 17.281 3.93307 17.3102 3.98391 17.3211C4.85646 17.6295 5.72669 17.9462 6.59615 18.2621C6.9501 18.3986 7.32674 18.4715 7.70765 18.4772C9.0437 18.4742 10.3798 18.4742 11.7158 18.4772C12.2387 18.483 12.7521 18.3422 13.1942 18.0716C14.8581 17.0529 16.521 16.0322 18.1828 15.0095C18.3021 14.9372 18.3909 14.826 18.4333 14.696C18.4756 14.566 18.4688 14.4256 18.4141 14.3C18.3675 14.171 18.2721 14.0639 18.1472 14.0004C18.0223 13.9368 17.8772 13.9217 17.7411 13.9579C17.6186 13.9884 17.4991 14.0296 17.3843 14.0812C15.799 14.7548 14.2135 15.4292 12.6277 16.1044C12.5121 16.1522 12.388 16.1776 12.2623 16.1791C11.3258 16.1858 10.3893 16.1836 9.45274 16.1791C9.37566 16.1791 9.27314 16.1896 9.22612 16.1477C9.1445 16.0799 9.08793 15.9881 9.06502 15.8863C9.04729 15.7653 9.1421 15.6839 9.27237 15.6623C9.33217 15.6549 9.3925 15.6524 9.45274 15.6548H11.9193C11.9833 15.6548 12.048 15.6496 12.1343 15.6458V15.2836C12.1401 15.0083 12.0403 14.7408 11.8542 14.5327C11.6681 14.3247 11.4089 14.1909 11.1269 14.1573C10.3661 14.0677 9.60458 13.9729 8.84072 13.9079C8.0599 13.8422 7.31531 13.6838 6.64086 13.2775C6.45201 13.1633 6.25546 13.0647 6.05428 12.9646C5.36847 12.6151 4.60301 12.4381 3.82821 12.45ZM8.76518 1.68023C8.7991 1.85275 8.79833 2.00586 8.85999 2.12835C9.08429 2.58617 9.33172 3.0328 9.56527 3.48689C9.62925 3.61087 9.73177 3.6512 9.8628 3.67883C10.6461 3.83735 11.457 3.81535 12.2299 3.6146C12.275 3.60295 12.3144 3.57657 12.3417 3.53992C12.65 3.07985 12.9545 2.61381 13.121 2.08129C13.1565 1.93895 13.184 1.79484 13.2034 1.64961C12.7533 1.88561 12.3833 1.81242 12.0249 1.58313C11.9602 1.5432 11.8842 1.52376 11.8076 1.52751C11.7309 1.53125 11.6574 1.558 11.5971 1.60405C11.1901 1.87142 10.7854 1.8662 10.3792 1.60853C10.1996 1.495 10.0293 1.5189 9.85586 1.62795C9.59533 1.79226 9.3163 1.85649 9.01184 1.75342C8.94555 1.73699 8.87772 1.71682 8.76518 1.68023ZM10.8941 5.10833C11.3736 5.03365 11.8569 4.97315 12.3348 4.88427C12.566 4.84245 12.6647 4.6408 12.6053 4.40927C12.5529 4.20388 12.4003 4.12098 12.1644 4.16355C11.9285 4.20612 11.715 4.24795 11.4884 4.27782C10.8462 4.35054 10.1958 4.31031 9.56836 4.15907C9.49286 4.1348 9.4106 4.13975 9.33878 4.17288C9.26696 4.206 9.21113 4.26474 9.18296 4.33682C9.06734 4.58403 9.18296 4.84469 9.45505 4.89324C9.92755 4.97912 10.4047 5.03738 10.8941 5.10833Z\" strokeWidth=\"1\"/>\n        <path d=\"M10.0075 8.32734C9.98929 8.53101 10.0296 8.70886 10.1425 8.85292C10.2539 8.99493 10.4263 9.09165 10.6479 9.15467L10.6752 9.05849H10.7752V7.69696V7.58483L10.6638 7.59761C10.316 7.63752 10.0396 7.96272 10.0075 8.32734ZM10.0075 8.32734L10.1071 8.33627M10.0075 8.32734C10.0075 8.32741 10.0075 8.32748 10.0075 8.32755L10.1071 8.33627M10.1071 8.33627C10.1324 8.04849 10.3279 7.7963 10.5752 7.71835V9.02626C10.2265 8.89923 10.0768 8.67518 10.1071 8.33627ZM11.2023 12.1731L11.1271 12.1924V12.27C11.1271 12.3196 11.1277 12.3672 11.1282 12.4137C11.1292 12.5025 11.1302 12.5871 11.1272 12.6729C11.1238 12.7432 11.1015 12.7888 11.0744 12.816C11.0479 12.8426 11.008 12.8604 10.9507 12.8594C10.8927 12.8583 10.856 12.8396 10.8325 12.8136C10.8079 12.7864 10.7873 12.7399 10.7852 12.6653V12.6652V12.6644V12.6637V12.663V12.6623V12.6616V12.6609V12.6602V12.6595V12.6587V12.658V12.6573V12.6566V12.6559V12.6552V12.6545V12.6537V12.653V12.6523V12.6516V12.6509V12.6502V12.6495V12.6488V12.648V12.6473V12.6466V12.6459V12.6452V12.6445V12.6438V12.643V12.6423V12.6416V12.6409V12.6402V12.6395V12.6388V12.638V12.6373V12.6366V12.6359V12.6352V12.6345V12.6338V12.6331V12.6323V12.6316V12.6309V12.6302V12.6295V12.6288V12.6281V12.6273V12.6266V12.6259V12.6252V12.6245V12.6238V12.6231V12.6223V12.6216V12.6209V12.6202V12.6195V12.6188V12.6181V12.6173V12.6166V12.6159V12.6152V12.6145V12.6138V12.613V12.6123V12.6116V12.6109V12.6102V12.6095V12.6088V12.608V12.6073V12.6066V12.6059V12.6052V12.6045V12.6037V12.603V12.6023V12.6016V12.6009V12.6002V12.5995V12.5987V12.598V12.5973V12.5966V12.5959V12.5952V12.5944V12.5937V12.593V12.5923V12.5916V12.5909V12.5901V12.5894V12.5887V12.588V12.5873V12.5866V12.5858V12.5851V12.5844V12.5837V12.583V12.5823V12.5815V12.5808V12.5801V12.5794V12.5787V12.5779V12.5772V12.5765V12.5758V12.5751V12.5744V12.5736V12.5729V12.5722V12.5715V12.5708V12.57V12.5693V12.5686V12.5679V12.5672V12.5664V12.5657V12.565V12.5643V12.5636V12.5629V12.5621V12.5614V12.5607V12.56V12.5593V12.5585V12.5578V12.5571V12.5564V12.5557V12.5549V12.5542V12.5535V12.5528V12.552V12.5513V12.5506V12.5499V12.5492V12.5484V12.5477V12.547V12.5463V12.5456V12.5448V12.5441V12.5434V12.5427V12.5419V12.5412V12.5405V12.5398V12.5391V12.5383V12.5376V12.5369V12.5362V12.5354V12.5347V12.534V12.5333V12.5325V12.5318V12.5311V12.5304V12.5296V12.5289V12.5282V12.5275V12.5267V12.526V12.5253V12.5246V12.5238V12.5231V12.5224V12.5217V12.5209V12.5202V12.5195V12.5188V12.518V12.5173V12.5166V12.5159V12.5151V12.5144V12.5137V12.513V12.5122V12.5115V12.5108V12.51V12.5093V12.5086V12.5079V12.5071V12.5064V12.5057V12.505V12.5042V12.5035V12.5028V12.502V12.5013V12.5006V12.4998V12.4991V12.4984V12.4977V12.4969V12.4962V12.4955V12.4947V12.494V12.4933V12.4925V12.4918V12.4911V12.4904V12.4896V12.4889V12.4882V12.4874V12.4867V12.486V12.4852V12.4845V12.4838V12.483V12.4823V12.4816V12.4808V12.4801V12.4794V12.4786V12.4779V12.4772V12.4764V12.4757V12.475V12.4742V12.4735V12.4728V12.472V12.4713V12.4706V12.4698V12.4691V12.4683V12.4676V12.4669V12.4661V12.4654V12.4647V12.4639V12.4632V12.4625V12.4617V12.461V12.4602V12.4595V12.4588V12.458V12.4573V12.4565V12.4558V12.4551V12.4543V12.4536V12.4529V12.4521V12.4514V12.4506V12.4499V12.4492V12.4484V12.4477V12.4469V12.4462V12.4454V12.4447V12.444V12.4432V12.4425V12.4417V12.441V12.4403V12.4395V12.4388V12.438V12.4373V12.4365V12.4358V12.435V12.4343V12.4336V12.4328V12.4321V12.4313V12.4306V12.4298V12.4291V12.4283V12.4276V12.4268V12.4261V12.4254V12.4246V12.4239V12.4231V12.4224V12.4216V12.4209V12.4201V12.4194V12.4186V12.4179V12.4171V12.4164V12.4156V12.4149V12.4141V12.4134V12.4126V12.4119V12.4111V12.4104V12.4096V12.4089V12.4081V12.4074V12.4066V12.4059V12.4051V12.4044V12.4036V12.4029V12.4021V12.4014V12.4006V12.3999V12.3991V12.3983V12.3976V12.3968V12.3961V12.3953V12.3946V12.3938V12.3931V12.3923V12.3915V12.3908V12.39V12.3893V12.3885V12.3878V12.387V12.3862V12.3855V12.3847V12.384V12.3832V12.3825V12.3817V12.3809V12.3802V12.3794V12.3787V12.3779V12.3771V12.3764V12.3756V12.3749V12.3741V12.3733V12.3726V12.3718V12.371V12.3703V12.3695V12.3688V12.368V12.3672V12.3665V12.3657V12.3649V12.3642V12.3634V12.3626V12.3619V12.3611V12.3603V12.3596V12.3588V12.358V12.3573V12.3565V12.3557V12.355V12.3542V12.3534V12.3527V12.3519V12.3511V12.3504V12.3496V12.3488V12.3481V12.3473V12.3465V12.3457V12.345V12.3442V12.3434V12.3427V12.3419V12.3411V12.3403V12.3396V12.3388V12.338V12.3372V12.3365V12.3357V12.3349V12.3341V12.3334V12.3326V12.3318V12.331V12.3303V12.3295V12.3287V12.3279V12.3272V12.3264V12.3256V12.3248V12.324V12.3233V12.3225V12.3217V12.3209V12.3202V12.3194V12.3186V12.3178V12.317V12.3162V12.3155V12.3147V12.3139V12.3131V12.3123V12.3116V12.3108V12.31V12.3092V12.3084V12.3076V12.3069V12.3061V12.3053V12.3045V12.3037V12.3029V12.3021V12.3014V12.3006V12.2998V12.299V12.2982V12.2974V12.2966V12.2958V12.295V12.2943V12.2935V12.2927V12.2919V12.2911V12.2903V12.2895V12.2887V12.2879V12.1916L10.689 12.188C10.3263 12.1743 9.97432 12.0663 9.67007 11.8753L9.66972 11.8751C9.5798 11.8192 9.53808 11.7693 9.52322 11.7311C9.51107 11.6998 9.51166 11.6632 9.54609 11.6113C9.58091 11.5588 9.618 11.5391 9.65735 11.5353C9.70161 11.5311 9.76549 11.5456 9.85184 11.5973C10.0986 11.7603 10.3897 11.848 10.6879 11.8494L10.7883 11.8499V11.7494V11.376C10.7883 11.2075 10.7878 11.0394 10.7873 10.8715C10.7863 10.5363 10.7852 10.2018 10.7883 9.86677H10.7883V9.86585C10.7883 9.79152 10.781 9.71393 10.7422 9.64546C10.7017 9.57388 10.6358 9.52709 10.5499 9.49493C10.4337 9.44684 10.3218 9.38938 10.2155 9.32315L10.2156 9.32302L10.2108 9.32037C9.99373 9.20119 9.846 9.05311 9.75873 8.88175C9.67146 8.7104 9.6407 8.50798 9.67064 8.2735L9.67072 8.27351L9.67108 8.26931C9.68964 8.05106 9.77287 7.84231 9.91118 7.66821C10.0495 7.49407 10.2372 7.36193 10.4518 7.28814L10.4519 7.2882L10.4552 7.28692C10.4722 7.28037 10.491 7.27495 10.5137 7.26897C10.5182 7.26776 10.5231 7.26649 10.5282 7.26518C10.5464 7.26043 10.5673 7.255 10.5874 7.24884L10.5874 7.24889L10.5903 7.2479L10.7175 7.20458L10.7852 7.1815V7.10992V7.10923V7.10853V7.10783V7.10714V7.10644V7.10575V7.10505V7.10436V7.10366V7.10297V7.10227V7.10158V7.10088V7.10018V7.09949V7.09879V7.0981V7.0974V7.09671V7.09601V7.09532V7.09462V7.09393V7.09323V7.09254V7.09184V7.09115V7.09045V7.08976V7.08906V7.08837V7.08767V7.08698V7.08628V7.08559V7.0849V7.0842V7.08351V7.08281V7.08212V7.08142V7.08073V7.08003V7.07934V7.07864V7.07795V7.07726V7.07656V7.07587V7.07517V7.07448V7.07379V7.07309V7.0724V7.0717V7.07101V7.07032V7.06962V7.06893V7.06823V7.06754V7.06685V7.06615V7.06546V7.06477V7.06407V7.06338V7.06268V7.06199V7.0613V7.0606V7.05991V7.05922V7.05852V7.05783V7.05714V7.05644V7.05575V7.05506V7.05436V7.05367V7.05298V7.05228V7.05159V7.0509V7.05021V7.04951V7.04882V7.04813V7.04743V7.04674V7.04605V7.04536V7.04466V7.04397V7.04328V7.04258V7.04189V7.0412V7.04051V7.03981V7.03912V7.03843V7.03774V7.03704V7.03635V7.03566V7.03497V7.03427V7.03358V7.03289V7.0322V7.03151V7.03081V7.03012V7.02943V7.02874V7.02805V7.02735V7.02666V7.02597V7.02528V7.02459V7.02389V7.0232V7.02251V7.02182V7.02113V7.02044V7.01974V7.01905V7.01836V7.01767V7.01698V7.01629V7.01559V7.0149V7.01421V7.01352V7.01283V7.01214V7.01145V7.01075V7.01006V7.00937V7.00868V7.00799V7.0073V7.00661V7.00592V7.00523V7.00453V7.00384V7.00315V7.00246V7.00177V7.00108V7.00039V6.9997V6.99901V6.99832V6.99763V6.99694V6.99624V6.99555V6.99486V6.99417V6.99348V6.99279V6.9921V6.99141V6.99072V6.99003V6.98934V6.98865V6.98796V6.98727V6.98658V6.98589V6.9852V6.98451V6.98382V6.98313V6.98244V6.98175V6.98106V6.98037V6.97968V6.97899V6.9783V6.97761V6.97692V6.97623V6.97554V6.97485V6.97416V6.97347V6.97278V6.97209V6.9714V6.97071V6.97002V6.96933V6.96864V6.96795V6.96726V6.96657V6.96588V6.96519V6.9645V6.96382V6.96313V6.96244V6.96175V6.96106V6.96037V6.95968V6.95899V6.9583V6.95761V6.95692V6.95623V6.95555V6.95486V6.95417V6.95348V6.95279V6.9521V6.95141V6.95072V6.95003V6.94935V6.94866V6.94797V6.94728V6.94659V6.9459V6.94521V6.94452V6.94384V6.94315V6.94246V6.94177V6.94108V6.94039V6.9397V6.93902V6.93833V6.93764V6.93695V6.93626V6.93557V6.93489V6.9342V6.93351V6.93282V6.93213V6.93145V6.93076V6.93007V6.92938V6.92869V6.92801V6.92732V6.92663V6.92594V6.92525V6.92457V6.92388V6.92319V6.9225V6.92182V6.92113V6.92044V6.91975V6.91906V6.91838V6.91769V6.917V6.91631V6.91563V6.91494V6.91425V6.91356V6.91288V6.91219V6.9115V6.91081V6.91013V6.90944V6.90875V6.90807V6.90738V6.90669V6.906V6.90532V6.90463V6.90394V6.90325V6.90257V6.90188V6.90119V6.90051V6.89982V6.89913V6.89845V6.89776V6.89707V6.89639V6.8957V6.89501V6.89432V6.89364V6.89295V6.89226V6.89158V6.89089V6.8902V6.88952V6.88883V6.88814V6.88746V6.88677V6.88609V6.8854V6.88471V6.88403V6.88334V6.88265V6.88197V6.88128V6.88059V6.87991V6.87922V6.87854V6.87785V6.87716V6.87648V6.87579V6.8751V6.87442V6.87373V6.87305V6.87236V6.87167V6.87099V6.8703V6.86962V6.86893V6.86824V6.86756V6.86687V6.86619V6.8655V6.86482V6.86413V6.86344V6.86276V6.86207V6.86139V6.8607V6.86002V6.85933V6.85864V6.85796V6.85727V6.85659V6.8559V6.85522V6.85453V6.85385V6.85316V6.85248V6.85179V6.8511V6.85042V6.84973V6.84905V6.84836V6.84768V6.84699V6.84631V6.84562V6.84494V6.84425V6.84357V6.84288V6.8422V6.84151V6.84083V6.84014V6.83946V6.83877V6.83809V6.8374V6.83672V6.83603V6.83535V6.83466V6.83398V6.83329V6.83261V6.83192V6.83124V6.83055V6.82987V6.82918V6.8285V6.82782V6.82713V6.82645V6.82576V6.82508V6.82439V6.82371V6.82302V6.82234V6.82165V6.82097V6.82029V6.8196V6.81892V6.81823V6.81755V6.81686V6.81618V6.8155V6.81481V6.81413V6.81344V6.81276V6.81207V6.81139V6.81071V6.81002V6.80934V6.80865V6.80797V6.80729V6.8066V6.80592V6.80523V6.80455V6.80387V6.80318V6.8025V6.80181V6.80113V6.80045V6.79976V6.79908V6.7984V6.79771V6.79703V6.79634V6.79566V6.79498V6.79429V6.79361V6.79293V6.79224V6.79156V6.79087V6.79019V6.78951V6.78882V6.78814V6.78746V6.78677V6.78609V6.78541V6.78472V6.78404V6.78336V6.78267V6.78199V6.78131V6.78062V6.77994V6.77926V6.77857V6.77789V6.77721V6.77652V6.77584V6.77516V6.77447V6.77379V6.77311V6.77243V6.77174V6.77106V6.77038V6.76969V6.76901V6.76833V6.76764V6.76696V6.76628V6.7656V6.76491V6.76423V6.76355V6.76286V6.76218V6.7615V6.76082V6.76013V6.75945V6.75901C10.7876 6.68991 10.809 6.64228 10.8361 6.61303C10.8625 6.58452 10.9008 6.56613 10.9535 6.56613C11.0058 6.56613 11.045 6.58464 11.0727 6.6141C11.1009 6.64411 11.1231 6.69201 11.1271 6.75945V6.75973V6.76007V6.76041V6.76075V6.76109V6.76144V6.76178V6.76212V6.76246V6.7628V6.76314V6.76349V6.76383V6.76417V6.76451V6.76485V6.76519V6.76554V6.76588V6.76622V6.76656V6.7669V6.76724V6.76759V6.76793V6.76827V6.76861V6.76895V6.7693V6.76964V6.76998V6.77032V6.77066V6.77101V6.77135V6.77169V6.77203V6.77237V6.77272V6.77306V6.7734V6.77374V6.77408V6.77443V6.77477V6.77511V6.77545V6.7758V6.77614V6.77648V6.77682V6.77716V6.77751V6.77785V6.77819V6.77853V6.77888V6.77922V6.77956V6.7799V6.78024V6.78059V6.78093V6.78127V6.78161V6.78196V6.7823V6.78264V6.78298V6.78333V6.78367V6.78401V6.78435V6.7847V6.78504V6.78538V6.78572V6.78607V6.78641V6.78675V6.78709V6.78744V6.78778V6.78812V6.78847V6.78881V6.78915V6.78949V6.78984V6.79018V6.79052V6.79086V6.79121V6.79155V6.79189V6.79223V6.79258V6.79292V6.79326V6.79361V6.79395V6.79429V6.79463V6.79498V6.79532V6.79566V6.79601V6.79635V6.79669V6.79703V6.79738V6.79772V6.79806V6.79841V6.79875V6.79909V6.79943V6.79978V6.80012V6.80046V6.80081V6.80115V6.80149V6.80184V6.80218V6.80252V6.80286V6.80321V6.80355V6.80389V6.80424V6.80458V6.80492V6.80527V6.80561V6.80595V6.8063V6.80664V6.80698V6.80732V6.80767V6.80801V6.80835V6.8087V6.80904V6.80938V6.80973V6.81007V6.81041V6.81076V6.8111V6.81144V6.81179V6.81213V6.81247V6.81282V6.81316V6.8135V6.81385V6.81419V6.81453V6.81488V6.81522V6.81556V6.81591V6.81625V6.81659V6.81694V6.81728V6.81762V6.81797V6.81831V6.81865V6.819V6.81934V6.81968V6.82003V6.82037V6.82071V6.82106V6.8214V6.82174V6.82209V6.82243V6.82277V6.82312V6.82346V6.8238V6.82415V6.82449V6.82483V6.82518V6.82552V6.82586V6.82621V6.82655V6.82689V6.82724V6.82758V6.82792V6.82827V6.82861V6.82895V6.8293V6.82964V6.82998V6.83033V6.83067V6.83101V6.83136V6.8317V6.83205V6.83239V6.83273V6.83308V6.83342V6.83376V6.83411V6.83445V6.83479V6.83514V6.83548V6.83582V6.83617V6.83651V6.83685V6.8372V6.83754V6.83788V6.83823V6.83857V6.83892V6.83926V6.8396V6.83995V6.84029V6.84063V6.84098V6.84132V6.84166V6.84201V6.84235V6.84269V6.84304V6.84338V6.84372V6.84407V6.84441V6.84476V6.8451V6.84544V6.84579V6.84613V6.84647V6.84682V6.84716V6.8475V6.84785V6.84819V6.84853V6.84888V6.84922V6.84956V6.84991V6.85025V6.8506V6.85094V6.85128V6.85163V6.85197V6.85231V6.85266V6.853V6.85334V6.85369V6.85403V6.85437V6.85472V6.85506V6.8554V6.85575V6.85609V6.85643V6.85678V6.85712V6.85747V6.85781V6.85815V6.8585V6.85884V6.85918V6.85953V6.85987V6.86021V6.86056V6.8609V6.86124V6.86159V6.86193V6.86227V6.86262V6.86296V6.8633V6.86365V6.86399V6.86433V6.86468V6.86502V6.86536V6.86571V6.86605V6.86639V6.86674V6.86708V6.86742V6.86777V6.86811V6.86846V6.8688V6.86914V6.86949V6.86983V6.87017V6.87052V6.87086V6.8712V6.87155V6.87189V6.87223V6.87258V6.87292V6.87326V6.8736V6.87395V6.87429V6.87463V6.87498V6.87532V6.87566V6.87601V6.87635V6.87669V6.87704V6.87738V6.87772V6.87807V6.87841V6.87875V6.8791V6.87944V6.87978V6.88013V6.88047V6.88081V6.88116V6.8815V6.88184V6.88219V6.88253V6.88287V6.88321V6.88356V6.8839V6.88424V6.88459V6.88493V6.88527V6.88562V6.88596V6.8863V6.88665V6.88699V6.88733V6.88767V6.88802V6.88836V6.8887V6.88905V6.88939V6.88973V6.89007V6.89042V6.89076V6.8911V6.89145V6.89179V6.89213V6.89248V6.89282V6.89316V6.8935V6.89385V6.89419V6.89453V6.89488V6.89522V6.89556V6.8959V6.89625V6.89659V6.89693V6.89727V6.89762V6.89796V6.8983V6.89865V6.89899V6.89933V6.89967V6.90002V6.90036V6.9007V6.90104V6.90139V6.90173V6.90207V6.90241V6.90276V6.9031V6.90344V6.90378V6.90413V6.90447V6.90481V6.90515V6.9055V6.90584V6.90618V6.90652V6.90687V6.90721V6.90755V6.90789V6.90824V6.90858V6.90892V6.90926V6.90961V6.90995V6.91029V6.91063V6.91098V6.91132V6.91166V6.912V6.91234V6.91269V6.91303V6.91337V6.91371V6.91405V6.9144V6.91474V6.91508V6.91542V6.91577V6.91611V6.91645V6.91679V6.91713V6.91748V6.91782V6.91816V6.9185V6.91884V6.91919V6.91953V6.91987V6.92021V6.92055V6.9209V6.92124V6.92158V6.92192V6.92226V6.9226V6.92295V6.92329V6.92363V6.92397V6.92431V6.92465V6.925V6.92534V6.92568V6.92602V6.92636V6.9267V6.92705V6.92739V6.92773V6.92807V6.92841V6.92875V6.9291V6.92944V6.92978V6.93012V6.93046V6.9308V6.93114V6.93149V6.93183V6.93217V7.0427V7.10698L11.1856 7.13367C11.274 7.17403 11.3591 7.21157 11.4415 7.24795C11.6375 7.33441 11.8186 7.41428 11.9931 7.50958C12.0228 7.53045 12.0474 7.55685 12.0657 7.58701C12.0844 7.61771 12.096 7.65167 12.1002 7.68669C12.103 7.74435 12.0742 7.78331 12.0248 7.80409C11.971 7.82671 11.8911 7.8262 11.8129 7.7825C11.6927 7.71342 11.5658 7.65258 11.4272 7.58616C11.3758 7.56155 11.3228 7.53617 11.268 7.50931L11.124 7.43878V7.59912V7.59972C11.124 8.18569 11.124 8.71168 11.1279 9.23772L11.128 9.25029L11.1312 9.26245C11.1408 9.29913 11.1583 9.33322 11.1822 9.36256C11.2061 9.3919 11.236 9.41582 11.2697 9.43294L11.2697 9.43295L11.2714 9.43378C11.3524 9.47304 11.4361 9.50674 11.522 9.53464C11.8384 9.65155 12.0732 9.81981 12.2269 10.0264C12.3802 10.2327 12.4574 10.4832 12.4491 10.7734L12.4491 10.774C12.4423 11.0737 12.3396 11.3643 12.1548 11.6056C11.9705 11.8461 11.7136 12.026 11.419 12.1199C11.401 12.1243 11.3826 12.1287 11.3634 12.1333C11.3169 12.1445 11.2654 12.1569 11.2023 12.1731ZM12.549 10.7763C12.5418 11.0974 12.4318 11.4085 12.2342 11.6664C12.0366 11.9244 11.7612 12.1165 11.446 12.2162C11.4263 12.2211 11.4065 12.2258 11.386 12.2308C11.3397 12.2419 11.2895 12.254 11.2271 12.27L12.549 10.7763ZM11.1356 11.7084V11.8363L11.2597 11.8054C11.5108 11.7429 11.7323 11.5978 11.8861 11.3941C12.0398 11.1904 12.1162 10.9409 12.1016 10.6881C12.0796 10.2234 11.7375 9.87711 11.2492 9.8101L11.1356 9.79451V9.90917V11.7084Z\" strokeWidth=\"1\"/>\n    </svg>\n)"
    },
    "src/widget/Tipping.Main": {
      "code": "let accountId;\nlet itemGlobalId;\n\nif (props.accountGId && props.itemGId) {\n  accountId = props.accountGId;\n  itemGlobalId = props.itemGId;\n} else if ((props.accountId || props.notifyAccountId) && (props.blockHeight || props.item?.blockHeight)) {\n  accountId = props.accountId || props.notifyAccountId;\n  const blockHeight = props.blockHeight || props.item?.blockHeight;\n  itemGlobalId = `bos/${blockHeight}/${accountId}/post/main`;\n} else if (props.context && props.context.id && props.context.authorUsername) {\n  accountId = props.context.authorUsername + '/twitter';\n  itemGlobalId = 'tweet/' + props.context.id;\n} else if (props.context?.parsed?.id && props.context?.parsed?.authorUsername) {\n  accountId = props.context.parsed.authorUsername + '/twitter';\n  itemGlobalId = 'tweet/' + props.context.parsed.id;\n} else {\n  console.error('The context should provide accountGId with itemGId or accountId with blockHeight props.');\n  return <></>;\n}\n\nconst { nearAccountId } = props\nconst userAccountId = nearAccountId || context.accountId\n\nconst TIPPING_CONTRACT_NAME = \"v2.tipping.near\";\nconst MAX_AMOUNT_PER_ITEM = '10000000000000000000000000'; // 10 NEAR\nconst MAX_AMOUNT_PER_TIP = '1000000000000000000000000'; // 1 NEAR\nconst STEP_YOCTO = '50000000000000000000000'; // 0.05 NEAR\nconst LIMIT_PER_ITEM = 10;\nconst STEP = 0.05\nconst DEBOUNCE_DELAY = 2000; // in ms\n\nState.update({\n  totalTipsByItemId: Near.view(TIPPING_CONTRACT_NAME, \"getTotalTipsByItemId\", {\n    itemId: itemGlobalId\n  }, \"final\", true) || '0'\n})\n\n/**\n * From near-api-js/blob/master/packages/utils/src/format.ts\n */\nconst NEAR_NOMINATION_EXP = 24;\nconst NEAR_NOMINATION = new BN('10', 10).pow(new BN(NEAR_NOMINATION_EXP, 10));\nconst ROUNDING_OFFSETS = [];\nconst BN10 = new BN(10);\n\nfor (let i = 0, offset = new BN(5); i < NEAR_NOMINATION_EXP; i++) {\n  ROUNDING_OFFSETS[i] = offset;\n  offset = offset.mul(BN10)\n}\n\nfunction trimTrailingZeroes(value) {\n  return value.replace(/\\.?0*$/, '');\n}\n\nfunction formatWithCommas(value) {\n  const pattern = /(-?\\d+)(\\d{3})/;\n  while (pattern.test(value)) {\n    value = value.replace(pattern, '$1,$2');\n  }\n  return value;\n}\n\n/**\n * Convert account balance value from internal indivisible units to NEAR. 1 NEAR is defined by {@link NEAR_NOMINATION}.\n * Effectively this divides given amount by {@link NEAR_NOMINATION}.\n *\n * @param {string} balance decimal string representing balance in smallest non-divisible NEAR units (as specified by {@link NEAR_NOMINATION})\n * @param {number} fracDigits number of fractional digits to preserve in formatted string. Balance is rounded to match given number of digits.\n * @returns {string} Value in Ⓝ\n */\nfunction formatNearAmount(balance, fracDigitsExternal) {\n  const fracDigits = fracDigitsExternal || NEAR_NOMINATION\n\n  const balanceBN = new BN(balance, 10);\n  if (fracDigits !== NEAR_NOMINATION_EXP) {\n    const roundingExp = NEAR_NOMINATION_EXP - fracDigits - 1;\n    if (roundingExp > 0) {\n      balanceBN.iadd(ROUNDING_OFFSETS[roundingExp]);\n    }\n  }\n\n  balance = balanceBN.toString();\n  const wholeStr = balance.substring(0, balance.length - NEAR_NOMINATION_EXP) || '0';\n  const fractionStr = balance\n    .substring(balance.length - NEAR_NOMINATION_EXP)\n    .padStart(NEAR_NOMINATION_EXP, '0')\n    .substring(0, fracDigits);\n\n  return trimTrailingZeroes(`${formatWithCommas(wholeStr)}.${fractionStr}`);\n}\n\n/**\n * Converts a yocto number to a number with two digits after the dot\n * \n * @param {string} amount decimal string representing balance in smallest non-divisible NEAR units\n * @returns {number} examples: 0.3, 0.05, 0\n */\n\nfunction formatNear(amount) {\n  return Number(formatNearAmount(amount, 2))\n}\n\n/**\n * End\n */\n\n// Sum of 2 or 3 values!!!\nconst sum = (value1, value2, value3) => {\n  let _sum = Big('0');\n  const values = value3 ? [value1, value2, value3] : [value1, value2]\n\n  for (const v of values) {\n    const _a = Big(_sum);\n    const _b = Big(v);\n    _sum = _a.plus(_b);\n  }\n\n  return _sum.toFixed();\n}\n\nconst lte = (a, b) => {\n  const _a = Big(a);\n  const _b = Big(b);\n  return _a.lte(_b);\n}\n\nconst gte = (a, b) => {\n  const _a = Big(a);\n  const _b = Big(b);\n  return _a.gte(_b);\n}\n\nconst equals = (a, b) => {\n  const _a = Big(a);\n  const _b = Big(b);\n  return _a.eq(_b);\n}\n\nfunction debounce(func, timeout, id) {\n  return () => {\n    state[`debounceTimer#${id}`] && clearTimeout(state[`debounceTimer#${id}`]);\n    const timer = setTimeout(func, timeout);\n    State.update({ [`debounceTimer#${id}`]: timer })\n  };\n}\n\nfunction calculateFee(num) {\n  Big.PE = 40\n  const _num = Big(num)\n  const a = _num.times(3)\n  const b = a.div(100)\n  return b.toString()\n}\n\nuseEffect(() => {\n  if (!userAccountId) {\n    State.update({\n      accountId,\n      disabled: true,\n      loading: false,\n      amount: '0',\n      tooltip: 'You must be Logged In to start using this',\n    })\n  } else if (equals(state.totalTipsByItemId, '0')) {\n    State.update({\n      accountId,\n      disabled: false,\n      loading: false,\n      amount: '0',\n      tooltip: 'Send donation',\n    })\n  } else if (formatNear(state.totalTipsByItemId) === LIMIT_PER_ITEM) {\n    State.update({\n      accountId,\n      disabled: true,\n      loading: false,\n      amount: '0',\n      tooltip: `The ${LIMIT_PER_ITEM} NEAR limit for this content has been exceeded`,\n    })\n  } else {\n    State.update({\n      accountId,\n      disabled: false,\n      loading: false,\n      amount: '0',\n      tooltip: 'Send donation',\n    })\n  }\n}, [accountId, state.totalTipsByItemId, userAccountId]);\n\nconst onDebounceDonate = () => {\n  State.update({\n    loading: true,\n    disabled: true,\n  })\n  const fee = calculateFee(state.amount);\n  const total = sum(state.amount, fee);\n  Near.call(\n    TIPPING_CONTRACT_NAME,\n    \"sendTips\",\n    {\n      accountGId: accountId,\n      itemId: itemGlobalId,\n    },\n    '50000000000000',\n    total,\n  ).catch((e) => {\n    console.error(e);\n    State.update({\n      disabled: false,\n      loading: false,\n      amount: '0',\n    })\n  })\n};\n\nconst debouncedDonate = debounce(onDebounceDonate, DEBOUNCE_DELAY, 'donate')\n\nconst onClick = () => {\n  const result = formatNear(sum(state.totalTipsByItemId, state.amount, STEP_YOCTO));\n  if (result > LIMIT_PER_ITEM) {\n    if (state.amount === '0') {\n      State.update({\n        disabled: true,\n        exceeded: true,\n        tooltip: `The ${LIMIT_PER_ITEM} NEAR limit for this content has been exceeded`,\n      })\n      setTimeout(() => State.update({\n        disabled: false,\n        exceeded: false,\n        tooltip: 'Send donation',\n      }), 3000)\n      return \n    }\n    State.update({\n      disabled: true,\n      tooltip: `The ${LIMIT_PER_ITEM} NEAR limit for this content has been exceeded`,\n    })\n    return\n  }\n  const expectedItemAmount = sum(state.totalTipsByItemId, state.amount, STEP_YOCTO)\n  const expectedExpenses = sum(state.amount, STEP_YOCTO)\n  if (lte(expectedItemAmount, MAX_AMOUNT_PER_ITEM) && lte(expectedExpenses, MAX_AMOUNT_PER_TIP)) {\n    State.update({\n      disabled: result === LIMIT_PER_ITEM,\n      amount: expectedExpenses,\n    })\n  }\n\n  debouncedDonate();\n};\n\nconst TippingButton = styled.button`\n  display: flex;\n  position: relative;\n  width: 85px;\n  padding: 0;\n  align-items: center;\n  flex-shrink: 0;\n  overflow: hidden;\n\n  border: 1px solid #C1C6CE;\n  border-radius: 9em;\n  background: none;\n\n  color: #5B7083;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  font-size: 13px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: normal;\n\n  user-select: none;\n  transition: color .3s ease-out;\n\n  .icon {\n    display: flex;\n    padding: 3px 3px 3px 6px;\n    justify-content: center;\n    align-items: center;\n    gap: 10px;\n    flex: 1 0 0;\n    align-self: stretch;\n    border-right: 1px solid #C1C6CE;\n    z-index: 2;\n  }\n\n  .cost {\n    display: flex;\n    width: 51px;\n    justify-content: center;\n    align-items: center;\n    gap: 6px;\n    flex-shrink: 0;\n    white-space: nowrap;\n    flex-grow: 1;\n    z-index: 2;\n  }\n\n  &:not([disabled]) {\n    cursor: pointer;\n  }\n\n  &:not([disabled]):hover {\n    opacity: 1 !important;\n    color: #3D7FFF;\n  }\n\n  .progress-bar { \n    display: block;\n    position: absolute;\n    top:0;\n    left: 0;\n    width: 0;\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    background-color: #3D7FFF;\n    z-index: 1;\n  }\n\n  &.loading {\n    @keyframes progressAnimationStrike {\n        from { width: 0 }\n        to   { width: 100% }\n    }\n  \n    @keyframes waitingAnimation {\n      0% {\n        background: none;\n        border-color: #C1C6CE;\n        color: #5B7083;\n      }\n      98% {\n        background: none;\n        border-color: #3D7FFF;\n        color: white;\n      }\n      100% {\n        background: rgb(61, 127, 255);\n        border-color: #3D7FFF;\n        color: white;\n      }\n    }\n\n    animation: waitingAnimation 10s linear forwards;\n\n    .progress-bar {\n      animation: progressAnimationStrike 10s linear forwards;\n    }\n  }\n`;\n\nconst createLabel = () => {\n  if (state.totalTipsByItemId === '0' && state.amount === '0') return state.isHovered ? '+ ' + STEP : 'Tip'\n  if (state.amount === '0') {\n    return state.isHovered ? '+ ' + STEP : formatNear(state.totalTipsByItemId)\n  } else {\n    return '+ ' + (state.isHovered ? formatNear(sum(state.amount, STEP_YOCTO)) : formatNear(state.amount))\n  }\n}\n\nreturn (\n    <TippingButton\n      disabled={state.disabled}\n      title={state.tooltip}\n      onMouseEnter={() => State.update({ isHovered: true })}\n      onMouseLeave={() => State.update({ isHovered: false })}\n      onClick={onClick}\n      className={state.loading ? \"loading \" : \"\"}\n      style={{ height: props.context?.parent?.parsed?.websiteName === 'YouTube' ? 36 : 18 }}\n    >\n      <div className=\"progress-bar\"/>\n      <div className=\"icon\">\n        <Widget src=\"bos.dapplets.near/widget/Tipping.TipIcon\" />\n      </div>\n      <div className=\"cost\">\n        {createLabel()}\n        <Widget src=\"bos.dapplets.near/widget/Tipping.NearIcon\" />\n      </div>\n    </TippingButton>\n);\n"
    },
    "src/widget/OnboardingTest.Main": {
      "code": "const TIME_UNTIL_RESHOW = 1000 * 60 // TESTING\n// const TIME_UNTIL_RESHOW = 1000 * 60 * 60 * 3 // PROD\n\nconst [show, setShow] = useState(false)\nconst [start, setStart] = useState(false)\nconst [showFrom, setShowFrom] = useState(0)\n\nconst response = Near.view('app.webguide.near', 'get_guide', { guide_id: props?.link?.id })\nconst data = response && JSON.parse(response)\nconst lastShow = data && data?.reduce((acc, chapter) => {\n  acc[chapter.id] = Storage.privateGet(chapter.id + '/lastShow-test')\n  return acc\n}, {})\n\nuseEffect(() => {\n  if (\n    !start && (\n      lastShow === null || (\n        lastShow && Object.values(lastShow).every(a => a === null)\n      )\n    )\n  ) return;\n  // here if (start || (lastShow && Object.values(lastShow).some(a => a !== null))) -- ToDo: replace?\n\n  if (!start) {\n    setStart(true)\n    return\n  }\n  \n  // *** DISPLAY LOGIC ***\n\n  if (lastShow) {\n    const currentMutation = data.find((ch) => ch?.id.includes('mutation'))?.id\n    const currentTime = Date.now()\n\n    for (const key of Object.keys(lastShow)) {\n      if (!lastShow[key]) continue\n\n      // TESTING\n      if (lastShow[key].doNotShowAgain && currentTime - lastShow[key].time > TIME_UNTIL_RESHOW * 3) {\n        lastShow[key].doNotShowAgain = false\n        lastShow[key].isViewed = false\n      }\n      //\n\n      // DO NOT refactor the following code block to stay the logic clear!!!\n      if (currentMutation === lastShow[key].mutation) {\n        if (!lastShow[key].doNotShowAgain) {\n          lastShow[key].show = currentTime - lastShow[key].time > TIME_UNTIL_RESHOW\n        } else {\n          if (lastShow[key].isViewed) {\n            lastShow[key].show = false\n          } else {\n            lastShow[key].show = currentTime - lastShow[key].time > TIME_UNTIL_RESHOW\n          }\n        }\n      } else {\n        if (!lastShow[key].doNotShowAgain) {\n          if (lastShow[key].isViewed) {\n            lastShow[key].show = currentTime - lastShow[key].time > TIME_UNTIL_RESHOW\n          } else {\n            lastShow[key].show = true\n          }\n        } else {\n          if (lastShow[key].isViewed) {\n            lastShow[key].show = false\n          } else {\n            lastShow[key].show = true\n          }\n        }\n      }\n    }\n  }\n\n  // *** SORT LOGIC ***\n\n  if (!lastShow && context.accountId === props?.link?.authorId) {\n    // show form to the author\n    setShow(true)\n  } else if (lastShow && Object.values(lastShow).some((a) => a === undefined || a?.show)) {\n    // with sort - some chapters have been displayed or new\n    data.sort(\n      (a, b) =>\n        !lastShow[a.id] && !lastShow[b.id]\n          ? 0\n          : !lastShow[a.id]\n            ? lastShow[b.id].show ? 0 : 1\n            : !lastShow[b.id]\n              ? lastShow[a.id].show ? 0 : -1\n              : lastShow[a.id].show - lastShow[b.id].show\n    )\n    const index = Object.values(lastShow).filter((a) => a && !a.show)?.length\n    setShowFrom(index)\n    setShow(true)\n  }\n}, [start, lastShow])\n\nsetTimeout(() => setStart(true), 10000)\n\nconst OverlayTriggerWrapper = styled.div`\n  display: flex;\n  z-index: 500;\n\n  .OverlayTrigger {\n    position: absolute;\n    background: #db504a;\n    border: 1px solid #db504a;\n    width: 6px;\n    height: 49px;\n    right: -6px;\n    top: 10px;\n    border-radius: 0px 4px 4px 0px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    z-index: 79;\n  }\n`\n\nconst Onboarding = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  animation: falling-animation 0.3s linear forwards;\n\n  @keyframes falling-animation {\n    from {\n      transform: translate(-50%, -200%);\n    }\n\n    to {\n      transform: translate(-50%, -50%);\n    }\n  }\n`;\n\nconst handleClose = (isDoNotShowAgainChecked, viewedPages) => {\n  if (data) {\n    const time = Date.now()\n    const mutation = data.find((ch) => ch?.id.includes('mutation'))?.id\n    data.forEach((chapter) => {\n      const isViewed = !!(viewedPages.includes(chapter.id) || lastShow[chapter.id].isViewed)\n      const doNotShowAgain = !!((isDoNotShowAgainChecked && viewedPages.includes(chapter.id)) || lastShow[chapter.id].doNotShowAgain)\n      Storage.privateSet(\n        chapter.id + '/lastShow-test',\n        {\n          time,\n          doNotShowAgain,\n          mutation,\n          isViewed,\n        }\n      )\n    })\n  }\n  setShow(false)\n}\n\nconst saveData = (inputData) => {\n  if (context?.accountId) {\n    Near.call(\n      'app.webguide.near',\n      'set_guide',\n      {\n        guide_id: props.link.id,\n        data: inputData,\n      }\n    )\n  }\n}\n\nreturn (\n  <OverlayTriggerWrapper>\n    {show ? (\n      <DappletOverlay>\n        <Onboarding>\n          <Widget\n            props={{\n              handleClose,\n              data,\n              saveData,\n              setShow,\n              link: props.link,\n              showFrom,\n              oldRawData: response\n            }}\n            src=\"bos.dapplets.near/widget/OnboardingTest.SandboxOnboarding\"\n          />\n        </Onboarding>\n      </DappletOverlay>\n    ) : null}\n  </OverlayTriggerWrapper>\n)\n"
    },
    "src/widget/Tipping.NearIcon": {
      "code": "return (\n    <svg width=\"13\" height=\"12\" viewBox=\"0 0 13 12\"  fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M11.2215 1.46676e-07C10.7765 1.46676e-07 10.3645 0.23 10.1315 0.609L7.623 4.333C7.5868 4.38662 7.57134 4.45158 7.57951 4.51576C7.58768 4.57994 7.61891 4.63895 7.66739 4.6818C7.71586 4.72464 7.77827 4.74839 7.84297 4.74861C7.90766 4.74883 7.97023 4.72551 8.019 4.683L10.488 2.542C10.5024 2.52896 10.5204 2.52042 10.5396 2.51742C10.5588 2.51442 10.5785 2.51709 10.5962 2.52511C10.6139 2.53312 10.6289 2.54613 10.6394 2.56254C10.6498 2.57895 10.6552 2.59805 10.655 2.6175V9.32249C10.655 9.34309 10.6487 9.36319 10.6369 9.38005C10.6251 9.39692 10.6084 9.40973 10.589 9.41673C10.5696 9.42373 10.5486 9.42459 10.5287 9.41917C10.5089 9.41376 10.4911 9.40235 10.478 9.38649L3.015 0.4525C2.89501 0.310638 2.74552 0.196656 2.57695 0.118505C2.40839 0.0403526 2.2248 -8.8883e-05 2.039 1.46676e-07H1.7785C1.43942 1.46676e-07 1.11423 0.134699 0.874464 0.374464C0.634699 0.614229 0.5 0.93942 0.5 1.2785L0.5 10.7215C0.499999 11 0.590922 11.2708 0.758949 11.4929C0.926976 11.715 1.16292 11.8761 1.43091 11.9518C1.6989 12.0276 1.98428 12.0137 2.24367 11.9124C2.50306 11.811 2.72228 11.6278 2.868 11.3905L5.3765 7.66649C5.4127 7.61287 5.42816 7.54791 5.41999 7.48374C5.41182 7.41956 5.38059 7.36054 5.33211 7.31769C5.28364 7.27485 5.22123 7.2511 5.15653 7.25088C5.09184 7.25066 5.02927 7.27398 4.9805 7.3165L2.5115 9.45799C2.49701 9.4709 2.47909 9.47931 2.45991 9.4822C2.44072 9.48509 2.42111 9.48234 2.40347 9.47429C2.38582 9.46623 2.3709 9.45322 2.36051 9.43683C2.35013 9.42044 2.34474 9.40139 2.345 9.38199V2.676C2.34496 2.65541 2.35128 2.63531 2.36309 2.61844C2.3749 2.60157 2.39163 2.58876 2.411 2.58176C2.43036 2.57476 2.45141 2.57391 2.47128 2.57932C2.49115 2.58473 2.50886 2.59614 2.522 2.612L9.984 11.547C10.227 11.834 10.584 11.9995 10.96 12H11.2205C11.5595 12.0001 11.8848 11.8656 12.1247 11.6261C12.3646 11.3865 12.4996 11.0615 12.5 10.7225V1.2785C12.4999 0.939461 12.3651 0.614347 12.1254 0.37461C11.8857 0.134874 11.5605 0.000132661 11.2215 1.46676e-07Z\"\n        />\n    </svg>\n)\n"
    },
    "src/widget/OnboardingTest.SandboxOnboarding": {
      "code": "const { handleClose, saveData, setShow, link, data, showFrom, oldRawData } = props\n\nconst [doNotShowAgain, setDoNotShowAgain] = useState(false)\nconst [activeChapterNumber, setActiveChapterNumber] = useState(data && showFrom)\nconst [newData, setNewData] = useState(oldRawData ?? '')\nconst [isEditMode, setEditMode] = useState(false)\nconst [viewedPages, setViewed] = useState([])\n\nuseEffect(() => {\n  if (!viewedPages.includes(data[activeChapterNumber].id))\n    setViewed([...viewedPages, data[activeChapterNumber].id])\n})\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  width: 630px;\n  height: 690px;\n  background: #FFFFFE;\n  border: 1px solid #02193A;\n  border-radius: 20px;\n  padding: 20px;\n  gap: 20px;\n  z-index: 1000;\n  box-shadow: none;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  align-items: center;\n  justify-content: center;\n`\n\nconst Header = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  color: #02193A;\n\n  h1 {\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    padding: 0;\n    margin: 0;\n    font-size: 32px;\n    font-weight: 600;\n    line-height: 48px;\n  }\n`\n\nconst TopLine = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  margin: 0;\n  padding: 0;\n`\n\nconst PagesIndicators = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  gap: 6px;\n`\n\nconst PageIndicatorBtn = styled.button`\n  position: relative;\n  display: flex;\n  border: none;\n  border-radius: 9em;\n  margin: 0;\n  padding: 2px;\n  background: none;\n  cursor: pointer;\n  transition-duration: .15s;\n\n  &:not(:disabled, .active):hover {\n    background: rgba(29,155,240,0.10);\n\n    div {\n      background: rgba(0, 0, 0, .2);\n    }\n  }\n\n  &:not(:disabled, .active):active {\n    background: rgba(29,155,240,0.20);\n\n    div {\n      background: rgba(0, 0, 0, .3);\n    }\n  }\n`\n\nconst PageIndicator = styled.div`\n  position: relative;\n  width: 10px;\n  height: 10px;\n  border: none;\n  border-radius: 9em;\n  background: rgba(0, 0, 0, .1);\n  margin: 0;\n  padding: 0;\n  cursor: pointer;\n  transition-duration: .15s;\n\n  &.active {\n    background: rgba(56, 75, 255, 1);\n    cursor: default;\n  }\n`\n\nconst EditButton = styled.button`\n  position: absolute;\n  left: 0;\n  top: 0;\n  margin: 0;\n  padding: 0 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  border-radius: 24px;\n  background: none;\n  cursor: pointer;\n  height: 24px;\n  color: #222;\n  transition-duration: .15s;\n  \n  :hover {\n    color: #111;\n    background: #eee;\n  }\n  \n  :active {\n    color: #000;\n    background: #ddd;\n  }\n`\n\nconst CloseButton = styled.button`\n  position: absolute;\n  right: 0;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  background: none;\n  cursor: pointer;\n\n  svg {\n    path {\n      stroke: #838891;\n      transition-duration: .2s;\n    }\n  }\n  \n  :hover {\n    svg {\n      path {\n        stroke: #555555;\n      }\n    }\n  }\n`\n\nconst closeIcon =  (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M18 6L6 18\"  strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M6 6.5L18 18.5\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n)\n\nconst WarningMessage = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 4px 10px;\n  gap: 6px;\n  align-items: center;\n  background: rgba(56, 75, 255, 0.05);\n  border-radius: 5px;\n  flex: none;\n  flex-grow: 0;\n  position: relative;\n\n  p {\n    padding: 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 150%;\n    color: #384BFF;\n    flex: none;\n    flex-grow: 0;\n  }\n\n  svg {\n    padding: 0;\n    margin: 0;\n  }\n`\n\nconst AlertIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z\" stroke=\"#384BFF\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M12.01 16L12.01 12\" stroke=\"#384BFF\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M12.01 8L12 8\" stroke=\"#384BFF\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n)\n\nconst CardContainer = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  width: 100%;\n  gap: 10px;\n  flex: 1;\n  overflow: hidden;\n`\n\nconst ArrowButton = styled.button`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 4px;\n  width: 32px;\n  height: 32px;\n  background: #F5F6FE;\n  border: none;\n  border-radius: 40px;\n  cursor: default;\n  transform: ${(p) => (p.direction === 'left' ? 'rotate(0.5turn)' : '')};\n  transition-duration: .15s;\n\n  svg {\n    path {\n      stroke: rgba(153, 152, 154, 1);\n    }\n  }\n\n  &:not(:disabled) {\n    cursor: pointer;\n\n    svg {\n      path {\n        stroke: rgba(56, 75, 255, 1);\n      }\n    }\n  }\n\n  &:not(:disabled):hover {\n    background: rgba(56, 75, 255, 1);\n\n    svg {\n      path {\n        stroke: white;\n      }\n    }\n  }\n\n  &:not(:disabled):active {\n    background: rgba(26, 45, 225, 1);\n\n    svg {\n      path {\n        stroke: white;\n      }\n    }\n  }\n`\n\nconst arrowRight = (\n  <svg width=\"24\" height=\"25\" viewBox=\"0 0 24 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M5 12.5H19\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M12 5.5L19 12.5L12 19.5\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n)\n\nconst Card = styled.div`\n  position: relative;\n  overflow: auto;\n  display: flex;\n  flex 1;\n  height: 100%;\n  flex-direction: column;\n  box-sizing: border-box;\n  padding: 10px;\n  gap: 10px;\n  border: none;\n  border-radius: 20px;\n  background: rgba(248, 249, 255, 1);\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n\n\n  h3 {\n    padding: 8px 0 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 19px;\n    color: #121212;\n    flex: none;\n    align-self: stretch;\n    flex-grow: 0;\n    text-indent: 16px;\n  }\n\n  img {\n    position: relative;\n    display: flex;\n    box-sizing: border-box;\n    width: 100%;\n    height: auto !important;\n    border-radius: 10px;\n    flex: none;\n    /* align-self: stretch; */\n    flex-grow: 0;\n    border: 1px solid rgb(207, 217, 222);\n    /* object-fit: none; */\n    /* object-position: top; */\n  }\n\n  p {\n    padding: 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 149%;\n    color: #777777;\n    flex: none;\n    align-self: stretch;\n    flex-grow: 0;\n  }\n\n  a {\n    padding: 0;\n    margin: 0;\n    /* align-self: flex-start; */\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 149%;\n    text-decoration-line: underline !important;\n    color: #384BFF;\n    cursor: 'poiner';\n  }\n`\n\nconst Footer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0px;\n  margin: 0;\n  gap: 20px;\n  width: 100%;\n`\n\nconst Checkbox = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0px;\n  cursor: pointer;\n\n  label {\n    display: flex;\n    flex-direction: row;\n    gap: 4px;\n    align-items: center;\n    padding: 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 149%;\n    text-align: center;\n    color: #7A818B;\n\n    input {\n      padding: 0;\n      margin: 0;\n      margin-bottom: 1px;\n      width: 16px;\n      height: 16px;\n      border-radius: 4px;\n      border: 1px solid #384BFF\n      cursor: pointer;\n    }\n  }\n`\n\nconst SuccessButton = styled.button`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 0px 20px;\n  width: 180px;\n  height: 42px;\n  background: #02193A;\n  border-radius: 50px;\n  border: none;\n  cursor: pointer;\n\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  font-style: normal;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 149%;\n  text-align: center;\n  color: #FFFFFF;\n  transition-duration: 0.2s;\n\n  :hover {\n    background-color: rgb(32 45 63);\n  }\n`\n\nreturn (!data || isEditMode) ? (\n  <Container>\n    <Header>\n      <h1>Add data</h1>\n      <CloseButton onClick={() => handleClose(false, viewedPages)}>\n        {closeIcon}\n      </CloseButton>\n    </Header>\n    <textarea\n      autofocus\n      style={{ width: '100%', height: '100%' }}\n      onChange={(e) => setNewData(e.target.value)}\n      value={newData}\n    />\n    <div style={{ display: 'flex', width: '80%', justifyContent: 'space-evenly' }}>\n      {isEditMode ? (\n        <SuccessButton onClick={() => setEditMode(false)}>\n          Cancel\n        </SuccessButton>\n      ) : null}\n      <SuccessButton onClick={() => {\n        saveData(newData)\n        setNewData('')\n        setShow(false)\n      }}>\n        Save\n      </SuccessButton>\n    </div>\n  </Container>\n) : (\n  <Container>\n    <Header>\n      <TopLine>\n        {context.accountId === link.authorId ? (\n          <EditButton onClick={() => setEditMode(true)}>\n            Edit data\n          </EditButton>\n        ) : null}\n        <PagesIndicators>\n          {data?.map((chapter, i) => (\n            <PageIndicatorBtn\n              key={chapter.id}\n              disabled={i === activeChapterNumber}\n              onClick={() => setActiveChapterNumber(i)}\n            >\n              <PageIndicator\n                className={i === activeChapterNumber ? 'active' : '' }\n              />\n            </PageIndicatorBtn>\n          ))}\n        </PagesIndicators>\n        <CloseButton onClick={() => handleClose(false, viewedPages)}>\n          {closeIcon}\n        </CloseButton>\n      </TopLine>\n      <h1>{data[activeChapterNumber].title}</h1>\n    </Header>\n    <CardContainer>\n      <ArrowButton\n        direction='left'\n        disabled={activeChapterNumber - 1 < 0}\n        onClick={() => setActiveChapterNumber(activeChapterNumber - 1 < 0 ? activeChapterNumber : activeChapterNumber - 1)}\n      >\n        {arrowRight}\n      </ArrowButton>\n      <Card>\n        {context.accountId === null ? (<WarningMessage>\n          <AlertIcon/>\n          <p>You must be Logged In to start using this</p>\n        </WarningMessage>) : null}\n        <Markdown text={data[activeChapterNumber].content} />\n      </Card>\n      <ArrowButton\n        direction='right'\n        disabled={activeChapterNumber + 1 > data.length - 1}\n        onClick={() => setActiveChapterNumber(activeChapterNumber + 1 > data.length - 1 ? activeChapterNumber : activeChapterNumber + 1)}\n      >\n        {arrowRight}\n      </ArrowButton>\n    </CardContainer>\n    <Footer>\n      <Checkbox>\n        <label>\n          <input type=\"checkbox\" checked={doNotShowAgain} onChange={(e) => setDoNotShowAgain(e.target.checked)} />\n          Don't show it again\n        </label>\n      </Checkbox>\n      <SuccessButton onClick={() => handleClose(doNotShowAgain, viewedPages)}>Got it</SuccessButton>\n    </Footer>\n  </Container>\n)"
    },
    "src/widget/ModalSelectedMutationEditor": {
      "code": "const {\n  mutationId,\n  mutationName,\n  allApps,\n  selectedApps,\n  onClose,\n  onMutationNameChange,\n  onMutationAppsChange,\n  onMutationReset,\n  onMutationCreate,\n  onMutationEdit,\n  onMutationIdChange,\n  isRevertDisable,\n  isVisibleInputId,\n  setVisibleInputId,\n  selectedMutation,\n  editingMutation,\n  isSaveDisabled,\n  saveTooltype,\n  setSaveDisabled,\n  setSaveTooltype,\n  setVisibleInput,\n  isVisibleInput,\n} = props;\n\n// ToDo: check null props\n\nconst { accountId: loggedInAccountId } = context;\n\nconst [mutationOwnerId] = mutationId ? mutationId.split(\"/\") : null;\n\nconst isUserOwner = mutationOwnerId === loggedInAccountId;\n\nState.init({\n  isSaveDropdownOpened: false,\n});\n\nconst SelectedMutationEditorWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 100px;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 20px;\n  gap: 20px;\n  border-radius: 10px;\n  font-family: sans-serif;\n  border: 1px solid #02193a;\n  background: #f8f9ff;\n  width: 400px;\n  max-height: 446px;\n`;\n\nconst Close = styled.span`\n  cursor: pointer;\n  svg {\n    margin: 0;\n  }\n  &:hover {\n    opacity: 0.5;\n  }\n`;\n\nconst HeaderEditor = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: rgba(2, 25, 58, 1);\n  font-size: 18px;\n  font-weight: 600;\n  line-height: 21.09px;\n  text-align: left;\n  .edit {\n    margin-right: auto;\n    margin-bottom: 2px;\n  }\n`;\n\nconst AppsList = styled.div`\n  overflow: hidden;\n  overflow-y: auto;\n  max-height: 400px;\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n`;\n\nconst ButtonsBlock = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst ButtonsRevert = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid rgba(226, 226, 229, 1);\n  color: rgba(2, 25, 58, 1);\n  width: 175px;\n  height: 42px;\n  border-radius: 10px;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 20.86px;\n  text-align: center;\n  cursor: pointer;\n  &:hover {\n    opacity: 0.5;\n  }\n  &:disabled {\n    cursor: auto;\n    opacity: 1;\n  }\n`;\n\nconst ButtonsSave = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 175px;\n  height: 42px;\n  border-radius: 10px;\n  border: none;\n  background: ${loggedInAccountId\n    ? \"rgba(56, 75, 255, 1)\"\n    : \"rgba(56, 75, 255, 0.5)\"};\n  color: #fff;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 20.86px;\n  text-align: center;\n  position: relative;\n  cursor: pointer;\n  &:disabled {\n    opacity: 0.5;\n  }\n`;\n\nconst TextSave = styled.div`\n  display: inline-block;\n  overflow: hidden;\n  word-wrap: no-wrap;\n  text-overflow: ellipsis;\n  width: 100%;\n  padding: 0 10px;\n  text-align: center;\n  &:hover {\n    opacity: 0.5;\n  }\n`;\n\nconst ArrowWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 42px;\n  height: 42px;\n  margin-left: auto;\n  transform: ${(props) =>\n    props.$isOpened ? \"rotate(180deg)\" : \"rotate(0deg)\"};\n`;\n\nconst SaveChanges = styled.div`\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  right: 0;\n  top: 52px;\n  width: 175px;\n  max-height: 112px;\n  padding: 10px;\n  gap: 10px;\n  border-radius: 10px;\n  background: rgba(231, 236, 239, 1);\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 20.86px;\n  text-align: center;\n  color: rgba(34, 34, 34, 1);\n`;\n\nconst SaveChangesItem = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 41px;\n  border-radius: 4px;\n  cursor: pointer;\n  &:hover {\n    background: rgba(217, 222, 225, 1);\n    color: rgba(56, 75, 255, 1);\n  }\n`;\n\nconst Input = styled.input`\n  display: flex;\n  flex: 1;\n  border: none;\n  background: none;\n  margin: 0;\n  max-width: 250px;\n  height: 40px;\n  line-height: 40px;\n  padding: 0;\n  padding-right: 20px;\n  color: var(--sand12);\n  font: var(--text-base);\n  outline: none !important;\n  text-align: left;\n  transition: color 200ms, opacity 200ms;\n\n  [data-textarea=\"true\"] & {\n    line-height: 1.5;\n    padding: 8px 12px;\n    height: unset;\n    min-height: 5.5rem;\n  }\n\n  &::placeholder {\n    color: var(--sand10);\n    font: var(--text-base);\n    opacity: 1;\n  }\n\n  [data-disabled=\"true\"] & {\n    opacity: 1;\n    color: var(--sand9);\n\n    &::placeholder {\n      color: var(--sand9);\n    }\n  }\n`;\n\nconst CloseIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"30\"\n    height=\"30\"\n    viewBox=\"0 0 30 30\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M21 9L9 21\"\n      stroke=\"#02193A\"\n      stroke-width=\"2\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M9 9L21 21\"\n      stroke=\"#02193A\"\n      stroke-width=\"2\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n);\n\nconst EditIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    className=\"edit\"\n  >\n    <path\n      d=\"M12 18H19\"\n      stroke=\"#7A818B\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M15.2504 5.47176C15.5524 5.1697 15.9621 5 16.3893 5C16.6008 5 16.8103 5.04166 17.0057 5.12261C17.2011 5.20355 17.3787 5.32219 17.5282 5.47176C17.6778 5.62133 17.7964 5.79889 17.8774 5.99431C17.9583 6.18972 18 6.39917 18 6.61069C18 6.82221 17.9583 7.03166 17.8774 7.22708C17.7964 7.42249 17.6778 7.60006 17.5282 7.74962L8.03715 17.2407L5 18L5.75929 14.9629L15.2504 5.47176Z\"\n      stroke=\"#7A818B\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n);\n\nconst ArrowIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"14\"\n    height=\"8\"\n    viewBox=\"0 0 14 8\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M1 1L7 7L13 1\"\n      stroke=\"white\"\n      stroke-width=\"2\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n);\n\nconst handlePublishButtonClick = () => {\n  State.update({ isSaveDropdownOpened: false });\n  setVisibleInputId(false);\n};\n\nconst handleForkButtonClick = () => {\n  State.update({ isSaveDropdownOpened: false });\n  setVisibleInputId(true);\n};\n\nconst handleDropdownOpen = () => {\n  if (!isUserOwner) return;\n\n  State.update({\n    isSaveDropdownOpened: !state.isSaveDropdownOpened,\n  });\n};\n\nconst arraysAreEqual = (a, b) => {\n  if (a.length != b.length) return false;\n  for (var i = 0; i <= a.length; i++) {\n    if (a[i] != b[i]) return false;\n  }\n  return true;\n};\n\nif (!loggedInAccountId) {\n  setSaveDisabled(true);\n  setSaveTooltype(\"Connect the Wallet\");\n} else if (loggedInAccountId && selectedMutation) {\n  if (editingMutation.id === selectedMutation.id) {\n    setSaveDisabled(true);\n    setSaveTooltype(\"Change the mutation to create a new one\");\n  } else if (editingMutation.metadata.name === selectedMutation.metadata.name) {\n    setSaveDisabled(true);\n    setSaveTooltype(\"Mutation name has already been used\");\n  } else if (\n    editingMutation.metadata.name !== selectedMutation.metadata.name &&\n    editingMutation.id === selectedMutation.id\n  ) {\n    setSaveDisabled(true);\n    setSaveTooltype(\"Add mutation ID\");\n  } else if (!editingMutation.apps || !editingMutation.apps.length) {\n    setSaveDisabled(true);\n    setSaveTooltype(\"Select applications\");\n  } else {\n    setSaveDisabled(false);\n    setSaveTooltype(null);\n  }\n} else if (loggedInAccountId && !selectedMutation) {\n  if (!editingMutation.metadata.name) {\n    setSaveDisabled(true);\n    setSaveTooltype(\"Mutation name has already been used\");\n  } else if (!editingMutation.id) {\n    setSaveDisabled(true);\n    setSaveTooltype(\"Add mutation ID\");\n  } else if (!editingMutation.apps || !editingMutation.apps.length) {\n    setSaveDisabled(true);\n    setSaveTooltype(\"Select applications\");\n  } else {\n    setSaveDisabled(false);\n    setSaveTooltype(null);\n  }\n} else {\n  setSaveDisabled(false);\n  setSaveTooltype(null);\n}\nconsole.log(selectedMutation, \"selectedMutation\");\nconsole.log(editingMutation, \"editingMutation\");\nconsole.log(loggedInAccountId, \"loggedInAccountId\");\nreturn (\n  <SelectedMutationEditorWrapper>\n    {isVisibleInput ? (\n      <HeaderEditor>\n        <Input\n          onChange={(e) => onMutationNameChange(e.target.value)}\n          value={\n            editingMutation\n              ? editingMutation.name\n              : mutationName\n              ? mutationName\n              : \"\"\n          }\n        />\n        <Close onClick={onClose}>\n          <CloseIcon />\n        </Close>\n      </HeaderEditor>\n    ) : (\n      <HeaderEditor>\n        {editingMutation\n          ? editingMutation.name\n          : mutationName\n          ? mutationName\n          : \"\"}\n        <span onClick={() => setVisibleInput(true)}>\n          <EditIcon />\n        </span>\n\n        <Close onClick={onClose}>\n          <CloseIcon />\n        </Close>\n      </HeaderEditor>\n    )}\n\n    {!isUserOwner || isVisibleInputId ? (\n      isVisibleInput ? (\n        <HeaderEditor>\n          <Input\n            onChange={(e) => {\n              onMutationIdChange(e.target.value, loggedInAccountId);\n            }}\n            placeholder={\"Enter Mutation ID\"}\n          />\n        </HeaderEditor>\n      ) : (\n        <HeaderEditor>\n          {loggedInAccountId}\n\n          <span onClick={() => setVisibleInput(true)}>\n            <EditIcon />\n          </span>\n        </HeaderEditor>\n      )\n    ) : null}\n    <AppsList>\n      {allApps && allApps.length\n        ? allApps.map((app, i) => (\n            <Widget\n              key={i}\n              src=\"bos.dapplets.near/widget/ApplicationCard\"\n              props={{\n                src: app.id,\n                metadata: app.metadata,\n                hideButtons: !loggedInAccountId,\n                selectedApps:\n                  selectedApps && selectedApps.filter((x) => x === app.id)[0],\n                handleEditMutationApps: onMutationAppsChange,\n              }}\n            />\n          ))\n        : null}\n    </AppsList>\n    <ButtonsBlock>\n      <ButtonsRevert disabled={isRevertDisable} onClick={onMutationReset}>\n        Revert changes\n      </ButtonsRevert>\n      <ButtonsSave title={saveTooltype} disabled={isSaveDisabled}>\n        {isUserOwner && !isVisibleInputId ? (\n          <TextSave onClick={onMutationEdit}>Publish</TextSave>\n        ) : (\n          <TextSave onClick={onMutationCreate}>Fork</TextSave>\n        )}\n\n        <ArrowWrapper\n          $isOpened={state.isSaveDropdownOpened}\n          onClick={handleDropdownOpen}\n        >\n          <ArrowIcon />\n        </ArrowWrapper>\n        {state.isSaveDropdownOpened && isUserOwner ? (\n          <SaveChanges>\n            {/* {isUserOwner && !isVisibleInputId ? ( */}\n            <SaveChangesItem onClick={handlePublishButtonClick}>\n              Publish\n            </SaveChangesItem>\n            {/* ) : ( */}\n            <SaveChangesItem onClick={handleForkButtonClick}>\n              Fork\n            </SaveChangesItem>\n            {/* )} */}\n          </SaveChanges>\n        ) : null}\n      </ButtonsSave>\n    </ButtonsBlock>\n  </SelectedMutationEditorWrapper>\n);\n"
    },
    "src/widget/ComponentSearchWidget": {
      "code": "const allMetadata = Social.get([\"*/widget/*/metadata/name\", \"*/widget/*/metadata/tags/*\"], \"final\") || {};\nconst keys = Social.keys([\"*/widget/*\"], \"final\", { values_only: true }) || {};\n\nconst requiredTag = props.filterTag;\nconst boostedTag = props.boostedTag;\nconst inputTerm = props.term;\n\nconst debounce = (func, wait) => {\n  const pause = wait || 350;\n  let timeout;\n\n  return (args) => {\n    const later = () => {\n      clearTimeout(timeout);\n      func(args);\n    };\n\n    clearTimeout(timeout);\n    timeout = setTimeout(later, pause);\n  };\n};\n\nconst _search = (term) => {\n  const terms = (term || \"\")\n    .toLowerCase()\n    .split(/[^\\w._\\/-]/)\n    .filter((s) => !!s.trim());\n\n  const matchedWidgets = [];\n\n  const limit = props.limit ?? 30;\n\n  const MaxSingleScore = 1;\n  const MaxScore = MaxSingleScore * 4;\n\n  const computeScore = (s) => {\n    s = s.toLowerCase();\n    return (\n      terms\n        .map((term) => {\n          const pos = s.indexOf(term);\n          return pos >= 0 ? Math.exp(-pos) : 0;\n        })\n        .reduce((s, v) => s + v, 0) / terms.length\n    );\n  };\n\n  Object.entries(keys).forEach(([accountId, data]) => {\n    Object.keys(data.widget).forEach((componentId) => {\n      const widgetSrc = `${accountId}/widget/${componentId}`;\n      const widgetSrcScore = computeScore(widgetSrc);\n      const componentIdScore = computeScore(componentId);\n      const metadata = allMetadata[accountId].widget[componentId].metadata;\n      const name = metadata.name || componentId;\n      if (requiredTag && !(metadata.tags && requiredTag in metadata.tags)) {\n        return;\n      }\n      const boosted = boostedTag && metadata.tags && boostedTag in metadata.tags;\n      const tags = Object.keys(metadata.tags || {}).slice(0, 10);\n      const nameScore = computeScore(name);\n      const tagsScore = Math.min(\n        MaxSingleScore,\n        tags.map(computeScore).reduce((s, v) => s + v, 0),\n      );\n      const score = (widgetSrcScore + componentIdScore + nameScore + tagsScore) / MaxScore;\n      if (score > 0) {\n        matchedWidgets.push({\n          score,\n          accountId,\n          widgetName: componentId,\n          widgetSrc,\n          name,\n          tags,\n          boosted,\n        });\n      }\n    });\n  });\n\n  matchedWidgets.sort((a, b) => (b.boosted ? 2 : 0) + b.score - (a.boosted ? 2 : 0) - a.score);\n  const result = matchedWidgets.slice(0, limit);\n\n  State.update({\n    result,\n  });\n\n  if (props.onChange) {\n    props.onChange({ term, result });\n  }\n};\n\nconst _searchDebounced = debounce(_search, 200);\n\nconst computeResults = (term) => {\n  State.update({\n    term: term,\n  });\n\n  _searchDebounced(term);\n};\n\nif (props.term && props.term !== state.oldTerm) {\n  State.update({\n    oldTerm: props.term,\n  });\n  if (props.term !== state.term) {\n    computeResults(props.term);\n  }\n}\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 40px;\n  position: relative;\n\n  .bi-search {\n    position: absolute;\n    top: 0;\n    left: 18px;\n    z-index: 100;\n    font-size: 14px;\n    line-height: 40px;\n    color: #687076;\n  }\n\n  .input-group {\n    height: 100%;\n  }\n\n  input {\n    padding: 0 14px 0 42px;\n    border: 1px solid #d0d5dd !important;\n    background: #ffffff;\n    border-radius: 100px;\n  }\n\n  button {\n    border-color: #d0d5dd !important;\n    border-radius: 0 100px 100px 0 !important;\n    border-left: none !important;\n    background: #fff !important;\n    color: #687076 !important;\n\n    &:hover,\n    &:focus {\n      color: #000 !important;\n    }\n  }\n\n  @media (max-width: 500px) {\n    width: 100%;\n  }\n`;\nconst iconSearch = (<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-search\" viewBox=\"0 0 16 16\">\n  <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0\" />\n</svg>)\nconst iconClose = (<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x\" viewBox=\"0 0 16 16\">\n  <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708\" />\n</svg>)\n\nconst SpanSearch = styled.span`\n    position: absolute;\n    top: 13px;\n    left: -5px;\n    display: inline-block;\n    width: 16px;\n    height: 16px;`\nreturn (\n  <Wrapper>\n    <SpanSearch>{iconSearch}</SpanSearch>\n\n    <div className=\"input-group\">\n      <input\n        type=\"text\"\n        className={`form-control ${state.term ? \"border-end-0\" : \"\"}`}\n        value={state.term ?? \"\"}\n        onChange={(e) => computeResults(e.target.value)}\n        placeholder={props.placeholder ?? `Search components`}\n      />\n\n      {state.term && (\n        <button\n          className=\"btn btn-outline-secondary border border-start-0\"\n          type=\"button\"\n          onClick={() => computeResults(\"\")}\n        >\n          <span>{iconClose}</span>\n        </button>\n      )}\n    </div>\n\n    {props.debug && <pre>{JSON.stringify(state.result, undefined, 2)}</pre>}\n  </Wrapper>\n);\n"
    },
    "src/widget/SearchCard": {
      "code": "const [accountId, unused, widgetName] = props.src.split(\"/\");\nconst detailsUrl = `/near/widget/ComponentDetailsPage?src=${accountId}/widget/${widgetName}`;\nconst appUrl = `/${accountId}/widget/${widgetName}`;\nconst accountUrl = `/near/widget/ProfilePage?accountId=${accountId}`;\nconst metadata =\n  props.metadata ??\n  Social.get(`${accountId}/widget/${widgetName}/metadata/**`, \"final\") ??\n  {};\n\nconst Card = styled.div`\n  position: relative;\n  width: 100%;\n  border-radius: 10px;\n  background: #fff;\n  border: 1px solid #eceef0;\n  overflow: hidden;\n  box-sizing: border-box;\n`;\n\nconst CardBody = styled.div`\n  padding: 9px;\n  display: flex;\n  gap: 16px;\n  align-items: center;\n\n  > * {\n    min-width: 0;\n  }\n`;\n\nconst CardContent = styled.div`\n  width: 100%;\n`;\n\nconst TextLink = styled.div`\n  display: block;\n  margin: 0;\n  font-size: 14px;\n  line-height: 18px;\n  color: ${(p) => (p.bold ? \"#11181C !important\" : \"#687076 !important\")};\n  font-weight: ${(p) => (p.bold ? \"600\" : \"400\")};\n  font-size: ${(p) => (p.small ? \"12px\" : \"14px\")};\n  overflow: ${(p) => (p.ellipsis ? \"hidden\" : \"visible\")};\n  text-overflow: ${(p) => (p.ellipsis ? \"ellipsis\" : \"unset\")};\n  white-space: nowrap;\n  outline: none;\n`;\n\nconst Text = styled.p`\n  margin: 0;\n  font-size: 14px;\n  line-height: 20px;\n  color: ${(p) => (p.bold ? \"#11181C\" : \"#687076\")};\n  font-weight: ${(p) => (p.bold ? \"600\" : \"400\")};\n  font-size: ${(p) => (p.small ? \"12px\" : \"14px\")};\n  overflow: ${(p) => (p.ellipsis ? \"hidden\" : \"\")};\n  text-overflow: ${(p) => (p.ellipsis ? \"ellipsis\" : \"\")};\n  white-space: nowrap;\n\n  i {\n    margin-right: 3px;\n  }\n`;\n\nconst Thumbnail = styled.div`\n  display: block;\n  width: 60px;\n  height: 60px;\n  flex-shrink: 0;\n  border: 1px solid #eceef0;\n  border-radius: 8px;\n  overflow: hidden;\n  outline: none;\n  transition: border-color 200ms;\n\n  &:focus,\n  &:hover {\n    border-color: #d0d5dd;\n  }\n\n  img {\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n  }\n`;\n\nconst ButtonLink = styled.button`\n  padding: 8px;\n  cursor: pointer;\n  text-decoration: none;\n  outline: none;\n  border: none;\n  background: #fff;\n  &:hover,\n  &:focus {\n    text-decoration: none;\n    outline: none;\n    border: none;\n    background: #fff;\n  }\n`;\n\nconst plus = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"40\"\n    height=\"40\"\n    viewBox=\"0 0 40 40\"\n    fill=\"none\"\n  >\n    <circle\n      cx=\"20\"\n      cy=\"20\"\n      r=\"14.4\"\n      stroke=\"#7E869E\"\n      strokeOpacity=\"0.25\"\n      strokeWidth=\"1.2\"\n    />\n    <path\n      d=\"M20 13.3333L20 26.6667\"\n      stroke=\"#222222\"\n      strokeWidth=\"1.2\"\n      strokeLinecap=\"round\"\n    />\n    <path\n      d=\"M26.6666 20L13.3333 20\"\n      stroke=\"#222222\"\n      strokeWidth=\"1.2\"\n      strokeLinecap=\"round\"\n    />\n  </svg>\n);\n\nreturn (\n  <Card>\n    <CardBody>\n      <Thumbnail>\n        <Widget\n          src=\"mob.near/widget/Image\"\n          props={{\n            image: metadata.image,\n            fallbackUrl:\n              \"https://ipfs.near.social/ipfs/bafkreifc4burlk35hxom3klq4mysmslfirj7slueenbj7ddwg7pc6ixomu\",\n            alt: metadata.name,\n          }}\n        />\n      </Thumbnail>\n\n      <CardContent>\n        <TextLink bold ellipsis>\n          {metadata.name || widgetName}\n        </TextLink>\n\n        <TextLink small ellipsis>\n          @{accountId}\n        </TextLink>\n      </CardContent>\n      {!props.hideButtons && (\n        <ButtonLink onClick={props.onComponentSelect} primary disabled={props.isWaiting}>\n          {props.isWaiting\n            ? <span role=\"status\" aria-hidden=\"true\" class=\"spinner-grow spinner-grow-sm\" />\n            : plus}\n        </ButtonLink>\n      )}\n    </CardBody>\n  </Card>\n);\n"
    },
    "src/widget/ComponentsSearch": {
      "code": "const { apps, waitingAppIdsSet } = props;\n\nconst CloseModal = styled.span`\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  cursor: pointer;\n  transition: all 0.3s;\n  &:hover {\n    transform: scale(1.2);\n  }\n`;\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding-left: 15px;\n  padding-right: 15px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n\n  padding-bottom: 25px;\n  padding-top: 50px;\n  width: 422px;\n  min-height: 350px;\n  max-height: 547px;\n  border: 1px solid #d9d9d9;\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: rgba(0, 0, 0, 0.01) 0px 16px 16px 0px,\n    rgba(0, 0, 0, 0.049) 0px 65px 65px 0px,\n    rgba(0, 0, 0, 0.005) 0px 15px 17px 0px, rgba(0, 0, 0, 0.01) 0px 8px 13px 0px,\n    rgba(0, 0, 0, 0) 0px 14px 13px 0px;\n`;\n\nconst Header = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;\n\nconst H1 = styled.h1`\n  font-weight: 600;\n  font-size: 32px;\n  line-height: 39px;\n  color: #11181c;\n  margin: 0;\n`;\n\nconst H2 = styled.h2`\n  font-weight: 400;\n  font-size: 20px;\n  line-height: 24px;\n  color: #687076;\n  margin: 0;\n`;\n\nconst Text = styled.p`\n  margin: 0;\n  line-height: 1.5rem;\n  color: ${(p) => (p.bold ? \"#11181C\" : \"#687076\")} !important;\n  font-weight: ${(p) => (p.bold ? \"600\" : \"400\")};\n  font-size: ${(p) => (p.small ? \"12px\" : \"14px\")};\n  overflow: ${(p) => (p.ellipsis ? \"hidden\" : \"\")};\n  text-overflow: ${(p) => (p.ellipsis ? \"ellipsis\" : \"\")};\n  white-space: ${(p) => (p.ellipsis ? \"nowrap\" : \"\")};\n  overflow-wrap: anywhere;\n\n  b {\n    font-weight: 600;\n    color: #11181c;\n  }\n\n  &[href] {\n    display: inline-flex;\n    gap: 0.25rem;\n\n    &:hover,\n    &:focus {\n      text-decoration: underline;\n    }\n  }\n`;\n\nconst Items = styled.div`\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  overflow-y: auto;\n  transition: all 0.15s;\n`;\n\nconst Item = styled.div`\n  width: 100%;\n  padding-top: 12px;\n  transition: all 0.15s;\n`;\n\nconst Button = styled.button`\n  display: block;\n  width: 100%;\n  padding: 8px;\n  height: 32px;\n  background: #fbfcfd;\n  border: 1px solid #d7dbdf;\n  border-radius: 50px;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 15px;\n  text-align: center;\n  cursor: pointer;\n  color: #11181c !important;\n  margin: 0;\n\n  &:hover,\n  &:focus {\n    background: #ecedee;\n    text-decoration: none;\n    outline: none;\n  }\n\n  span {\n    color: #687076 !important;\n  }\n`;\n\nconst WarningMessage = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 4px 10px;\n  gap: 6px;\n  align-items: center;\n  background: rgba(56, 75, 255, 0.05);\n  border-radius: 5px;\n  flex: none;\n  flex-grow: 0;\n  position: relative;\n\n  p {\n    padding: 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\",\n      \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\",\n      \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 150%;\n    color: #384bff;\n    flex: none;\n    flex-grow: 0;\n  }\n\n  svg {\n    padding: 0;\n    margin: 0;\n  }\n`;\n\nconst AlertIcon = () => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z\"\n      stroke=\"#384BFF\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M12.01 16L12.01 12\"\n      stroke=\"#384BFF\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M12.01 8L12 8\"\n      stroke=\"#384BFF\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n);\n\nconst iconCloseModal = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20\"\n    height=\"21\"\n    viewBox=\"0 0 20 21\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M16.25 4.25L3.75 16.75\"\n      stroke=\"#C1C6CE\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M3.75 4.25L16.25 16.75\"\n      stroke=\"#C1C6CE\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n);\n\nreturn (\n  <Wrapper>\n    <CloseModal onClick={props.handleCloseMenu}>{iconCloseModal}</CloseModal>\n\n    {context.accountId === null ? (\n      <WarningMessage>\n        <AlertIcon />\n        <p>You must be Logged In to start using this</p>\n      </WarningMessage>\n    ) : null}\n\n    {apps.length > 0 ? (\n      <Items style={{ paddingRight: apps && apps.length >= 5 ? \"20px\" : \"\" }}>\n        {apps.map((app) => {\n          return (\n            <Item key={app.id}>\n              <Widget\n                src=\"bos.dapplets.near/widget/SearchCard\"\n                props={{\n                  src: app.id,\n                  metadata: app.metadata,\n                  onComponentSelect: () => props.onSelect(app),\n                  hideButtons: !context.accountId,\n                  isWaiting: waitingAppIdsSet.has(app.id),\n                }}\n              />\n            </Item>\n          );\n        })}\n      </Items>\n    ) : (\n      <Text>No apps available for this context</Text>\n    )}\n  </Wrapper>\n);\n"
    },
    "src/widget/ComponentSearch": {
      "code": "const allMetadata = Social.get([\"*/widget/*/metadata/name\", \"*/widget/*/metadata/tags/*\"], \"final\") || {};\nconst keys = Social.keys([\"*/widget/*\"], \"final\", { values_only: true }) || {};\n\nconst requiredTag = props.filterTag;\nconst boostedTag = props.boostedTag;\nconst inputTerm = props.term;\n\nconst debounce = (func, wait) => {\n  const pause = wait || 350;\n  let timeout;\n\n  return (args) => {\n    const later = () => {\n      clearTimeout(timeout);\n      func(args);\n    };\n\n    clearTimeout(timeout);\n    timeout = setTimeout(later, pause);\n  };\n};\n\nconst _search = (term) => {\n  const terms = (term || \"\")\n    .toLowerCase()\n    .split(/[^\\w._\\/-]/)\n    .filter((s) => !!s.trim());\n\n  const matchedWidgets = [];\n\n  const limit = props.limit ?? 30;\n\n  const MaxSingleScore = 1;\n  const MaxScore = MaxSingleScore * 4;\n\n  const computeScore = (s) => {\n    s = s.toLowerCase();\n    return (\n      terms\n        .map((term) => {\n          const pos = s.indexOf(term);\n          return pos >= 0 ? Math.exp(-pos) : 0;\n        })\n        .reduce((s, v) => s + v, 0) / terms.length\n    );\n  };\n\n  Object.entries(keys).forEach(([accountId, data]) => {\n    Object.keys(data.widget).forEach((componentId) => {\n      const widgetSrc = `${accountId}/widget/${componentId}`;\n      const widgetSrcScore = computeScore(widgetSrc);\n      const componentIdScore = computeScore(componentId);\n      const metadata = allMetadata[accountId].widget[componentId].metadata;\n      const name = metadata.name || componentId;\n      if (requiredTag && !(metadata.tags && requiredTag in metadata.tags)) {\n        return;\n      }\n      const boosted = boostedTag && metadata.tags && boostedTag in metadata.tags;\n      const tags = Object.keys(metadata.tags || {}).slice(0, 10);\n      const nameScore = computeScore(name);\n      const tagsScore = Math.min(\n        MaxSingleScore,\n        tags.map(computeScore).reduce((s, v) => s + v, 0),\n      );\n      const score = (widgetSrcScore + componentIdScore + nameScore + tagsScore) / MaxScore;\n      if (score > 0) {\n        matchedWidgets.push({\n          score,\n          accountId,\n          widgetName: componentId,\n          widgetSrc,\n          name,\n          tags,\n          boosted,\n        });\n      }\n    });\n  });\n\n  matchedWidgets.sort((a, b) => (b.boosted ? 2 : 0) + b.score - (a.boosted ? 2 : 0) - a.score);\n  const result = matchedWidgets.slice(0, limit);\n\n  State.update({\n    result,\n  });\n\n  if (props.onChange) {\n    props.onChange({ term, result });\n  }\n};\n\nconst _searchDebounced = debounce(_search, 200);\n\nconst computeResults = (term) => {\n  State.update({\n    term: term,\n  });\n\n  _searchDebounced(term);\n};\n\nif (props.term && props.term !== state.oldTerm) {\n  State.update({\n    oldTerm: props.term,\n  });\n  if (props.term !== state.term) {\n    computeResults(props.term);\n  }\n}\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 40px;\n  position: relative;\n\n  .bi-search {\n    position: absolute;\n    top: 0;\n    left: 18px;\n    z-index: 100;\n    font-size: 14px;\n    line-height: 40px;\n    color: #687076;\n  }\n\n  .input-group {\n    height: 100%;\n  }\n\n  input {\n    padding: 0 14px 0 42px;\n    border: 1px solid #d0d5dd !important;\n    background: #ffffff;\n    border-radius: 100px;\n  }\n\n  button {\n    border-color: #d0d5dd !important;\n    border-radius: 0 100px 100px 0 !important;\n    border-left: none !important;\n    background: #fff !important;\n    color: #687076 !important;\n\n    &:hover,\n    &:focus {\n      color: #000 !important;\n    }\n  }\n\n  @media (max-width: 500px) {\n    width: 100%;\n  }\n`;\nconst iconSearch = (<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-search\" viewBox=\"0 0 16 16\">\n  <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0\"/>\n</svg>)\nconst iconClose = (<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x\" viewBox=\"0 0 16 16\">\n  <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708\"/>\n</svg>)\nreturn (\n  <Wrapper>\n    <span>{iconSearch}</span>\n    <div className=\"input-group\">\n      <input\n        type=\"text\"\n        className={`form-control ${state.term ? \"border-end-0\" : \"\"}`}\n        value={state.term ?? \"\"}\n        onChange={(e) => computeResults(e.target.value)}\n        placeholder={props.placeholder ?? `Search components`}\n      />\n\n      {state.term && (\n        <button\n          className=\"btn btn-outline-secondary border border-start-0\"\n          type=\"button\"\n          onClick={() => computeResults(\"\")}\n        >\n          <span>{iconClose}</span>\n        </button>\n      )}\n    </div>\n\n    {props.debug && <pre>{JSON.stringify(state.result, undefined, 2)}</pre>}\n  </Wrapper>\n);\n"
    },
    "src/widget/Cat": {
      "code": "return (\n  <svg\n    width=\"30px\"\n    height=\"30px\"\n    viewBox=\"0 0 128 128\"\n    role=\"img\"\n    preserveAspectRatio=\"xMidYMid meet\"\n  >\n    <path\n      d=\"M114.67 70.19C112.71 44.22 94.44 26.3 64 26.3S15.25 45.33 13.45 71.31c-1.05 15.14 4.58 28.63 15.91 36.32c7.46 5.07 17.88 7.88 34.77 7.88c17.18 0 27.03-3.71 34.49-8.73c12.43-8.35 17.18-21.67 16.05-36.59z\"\n      fill=\"#ffc022\"\n    ></path>\n    <path\n      d=\"M53.72 42.6C46.3 23.4 30.1 10.34 23.87 8.39c-2.35-.74-5.3-.81-6.63 1.35c-3.36 5.45-7.66 22.95 1.85 47.78L53.72 42.6z\"\n      fill=\"#ffc022\"\n    ></path>\n\n    <path\n      d=\"M36.12 34.21c1.54-1.29 2.29-2.55.6-5.16c-2.62-4.05-7.33-8.78-9.16-10.23c-3-2.38-5.32-3.18-6.21.65c-1.65 7.08-1.52 16.69.25 21.99c.62 1.87 2.54 2.86 4.02 1.57l10.5-8.82z\"\n      fill=\"#ffd1d1\"\n    ></path>\n\n    <path\n      d=\"M54.12 45.02c1.13.96 3.42.82 4.75-.72c1.61-1.87 3.29-8.17 2.24-17.91c-4.67.17-9.09.84-13.21 1.97c3.33 5.46 4.13 14.88 6.22 16.66z\"\n      fill=\"#ff9b31\"\n    ></path>\n\n    <path\n      d=\"M73.88 45.02c-1.13.96-3.42.82-4.75-.72c-1.61-1.87-3.29-8.17-2.24-17.91c4.67.17 9.09.84 13.21 1.97c-3.33 5.46-4.13 14.88-6.22 16.66z\"\n      fill=\"#ff9b31\"\n    ></path>\n\n    <path\n      d=\"M79.9 29.22c8.08-12.41 19.38-20.75 24.07-22.24c2.32-.74 5.02-.62 6.34 1.55c3.32 5.45 6.13 22.24-.42 45.75L85.96 42.74L79.9 29.22z\"\n      fill=\"#ffc022\"\n    ></path>\n\n    <path\n      d=\"M97.55 38.23c2.43 2.43 4.41 4.06 5.84 5.61c.95 1.03 2.69.56 2.97-.82c2.45-11.8 1.67-21.86 0-24.5c-.8-1.26-2.29-1.59-3.65-1.13c-2.44.81-8.66 5.45-13.05 12.22c-.51.79-.32 1.85.46 2.38c1.58 1.07 4.34 3.14 7.43 6.24z\"\n      fill=\"#ffd1d1\"\n    ></path>\n\n    <path\n      d=\"M55.67 77.75c-.05-3.08 4.37-4.55 8.54-4.62c4.18-.07 8.68 1.29 8.73 4.37c.05 3.08-5.22 7.13-8.54 7.13c-3.31 0-8.67-3.81-8.73-6.88z\"\n      fill=\"#000000\"\n    ></path>\n\n    <g\n      fill=\"none\"\n      stroke=\"#9e9e9e\"\n      strokeWidth=\"3\"\n      strokeLinecap=\"round\"\n      strokeMiterlimit=\"10\"\n    >\n      <path d=\"M6.7 71.03c.34.41 4.41.35 14.36 5.07\"></path>\n\n      <path d=\"M2.9 82.86s6.42-2.24 17.46-.28\"></path>\n\n      <path d=\"M8.81 92.29s2.74-1.38 12.67-2.25\"></path>\n\n      <g>\n        <path d=\"M120.87 67.51s-3.41.33-13.94 6.34\"></path>\n\n        <path d=\"M122.42 78.49s-5.09-.36-16.05 1.97\"></path>\n\n        <path d=\"M120.45 89.05s-4.83-1.71-14.78-2.25\"></path>\n      </g>\n    </g>\n\n    <path\n      d=\"M96.09 66.37c-.34 5.51-3.76 8.54-7.65 8.54s-7.04-3.88-7.04-8.66s3.28-8.71 7.65-8.47c5.07.29 7.32 4.09 7.04 8.59z\"\n      fill=\"#000200\"\n    ></path>\n\n    <path\n      d=\"M46 65.81c.78 5.61-1.58 9.03-5.49 9.82c-3.91.79-7.26-1.84-8.23-6.64c-.98-4.81.9-9.32 5.34-9.97c5.15-.75 7.74 2.2 8.38 6.79z\"\n      fill=\"#000200\"\n    ></path>\n\n    <path\n      d=\"M44.99 85.16c-2.57 1.67.47 5.54 2.25 6.85c1.78 1.31 4.98 2.92 9.67 2.44c5.54-.56 7.13-4.69 7.13-4.69s1.97 4.6 8.82 4.79c6.95.19 9.1-3.57 10.04-4.69c.94-1.13 1.88-4.04.28-5.16c-1.6-1.13-2.72.28-4.41 2.63c-1.69 2.35-5.16 3.66-8.54 2.06s-3.57-7.04-3.57-7.04l-4.79.28s-.75 4.69-2.91 6.19s-7.32 1.88-9.48-1.41c-.95-1.46-2.33-3.66-4.49-2.25z\"\n      fill=\"#000000\"\n    ></path>\n  </svg>\n);\n"
    },
    "src/widget/WebGuide.InfoBox": {
      "code": "const InfoBox = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  animation: falling-animation 0.3s linear forwards;\n\n  @keyframes falling-animation {\n    from {\n      transform: translate(-50%, -200%);\n    }\n\n    to {\n      transform: translate(-50%, -50%);\n    }\n  }\n`\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  width: 546px;\n  height: 700px;\n  background: #FFFFFE;\n  border: 1px solid #02193A;\n  border-radius: 20px;\n  padding: 20px;\n  gap: 20px;\n  z-index: 1000;\n  box-shadow: none;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  align-items: center;\n  justify-content: center;\n`\n\nconst Header = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  color: #02193A;\n\n  h1 {\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    padding: 0;\n    margin: 0;\n    font-size: 32px;\n    font-weight: 600;\n    line-height: 48px;\n  }\n`\n\nconst TopLine = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  margin: 0;\n  padding: 0;\n`\n\nconst CalloutHeaderCaption = styled.div`\n  display: inline-block;\n  max-width: 30%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: #02193a;\n  font-size: 12px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 149%;\n`\n\nconst PagesIndicators = styled.div`\n  width: auto;\n  height: 24px;\n  padding: 4px;\n  gap: 10px;\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  box-sizing: border-box;\n  justify-content: center;\n`\n\nconst Navi = styled.button`\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background: ${(props) => (props.$active ? \"#384BFF\" : \"#E3E3E3\")};\n  border: none;\n`\n\nconst Close = styled.button`\n  background: inherit;\n  outline: none;\n  border: none;\n  cursor: pointer;\n`\n\nconst Arrow = styled.button`\n  position: absolute;\n  top: -5px;\n  right: -46px;\n  background: inherit;\n  border: none;\n  outline: none;\n`\n\nconst iconClose = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M18 6L6 18\"\n      stroke=\"#02193A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M6 6.5L18 18.5\"\n      stroke=\"#02193A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n)\n\nconst WrapperAlert = styled.div`\n  display: flex;\n  width: 100%;\n  padding: 4px 6px;\n  gap: 6px;\n  border-radius: 5px;\n  align-items: center;\n  justify-content: flex-start;\n  margin-right: auto;\n  background: ${(props) =>\n    props.$status === \"warning\"\n      ? \"rgba(255, 248, 235, 1)\"\n      : props.$status === \"error\"\n      ? \"rgba(246, 240, 246, 1)\"\n      : \"rgba(234, 241, 255, 1)\"};\n\n  color: ${(props) =>\n    props.$status === \"warning\"\n      ? \"rgba(208, 145, 26, 1)\"\n      : props.$status === \"error\"\n      ? \"rgba(219, 80, 74, 1)\"\n      : \"rgba(36, 110, 253, 1)\"};\n\n  outline: none;\n`\n\nconst TextAlert = styled.span`\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 17.88px;\n  text-align: left;\n`\n\nconst IconAlert = styled.span``\n\nconst infoIcon = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n  >\n    <g clipPath=\"url(#clip0_358_90)\">\n      <path\n        d=\"M9.99996 18.3333C14.6023 18.3333 18.3333 14.6024 18.3333 10C18.3333 5.39763 14.6023 1.66667 9.99996 1.66667C5.39759 1.66667 1.66663 5.39763 1.66663 10C1.66663 14.6024 5.39759 18.3333 9.99996 18.3333Z\"\n        stroke=\"#246EFD\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M10 13.3333V10\"\n        stroke=\"#246EFD\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M10 6.66667H10.0088\"\n        stroke=\"#246EFD\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_358_90\">\n        <rect width=\"20\" height=\"20\" fill=\"white\" />\n      </clipPath>\n    </defs>\n  </svg>\n)\n\nconst warningIcon = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M8.57502 3.21665L1.51668 15C1.37116 15.252 1.29416 15.5377 1.29334 15.8288C1.29253 16.1198 1.36793 16.4059 1.51204 16.6588C1.65615 16.9116 1.86396 17.1223 2.11477 17.2699C2.36559 17.4174 2.65068 17.4968 2.94168 17.5H17.0583C17.3494 17.4968 17.6344 17.4174 17.8853 17.2699C18.1361 17.1223 18.3439 16.9116 18.488 16.6588C18.6321 16.4059 18.7075 16.1198 18.7067 15.8288C18.7059 15.5377 18.6289 15.252 18.4834 15L11.425 3.21665C11.2765 2.97174 11.0673 2.76925 10.8177 2.62872C10.5681 2.48819 10.2865 2.41437 10 2.41437C9.71357 2.41437 9.43196 2.48819 9.18235 2.62872C8.93275 2.76925 8.72358 2.97174 8.57502 3.21665Z\"\n      stroke=\"#D0911A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M10 7.5V10.8333\"\n      stroke=\"#D0911A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M10 14.1667H10.0088\"\n      stroke=\"#D0911A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n)\n\nconst errorIcon = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n  >\n    <g clipPath=\"url(#clip0_358_97)\">\n      <path\n        d=\"M6.54996 1.66666H13.45L18.3333 6.54999V13.45L13.45 18.3333H6.54996L1.66663 13.45V6.54999L6.54996 1.66666Z\"\n        stroke=\"#DB504A\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M12.5 7.5L7.5 12.5\"\n        stroke=\"#DB504A\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M7.5 7.5L12.5 12.5\"\n        stroke=\"#DB504A\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_358_97\">\n        <rect width=\"20\" height=\"20\" fill=\"white\" />\n      </clipPath>\n    </defs>\n  </svg>\n)\n\nconst Card = styled.div`\n  position: relative;\n  overflow: auto;\n  display: flex;\n  flex: 1;\n  height: 100%;\n  flex-direction: column;\n  box-sizing: border-box;\n  padding: 12px 20px;\n  gap: 10px;\n  border: none;\n  border-radius: 20px;\n  background: rgba(248, 249, 255, 1);\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  overflow-x: hidden;\n\n  h3 {\n    padding: 8px 0 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 19px;\n    color: #121212;\n    flex: none;\n    align-self: stretch;\n    flex-grow: 0;\n    text-indent: 16px;\n  }\n\n  img {\n    position: relative;\n    display: flex;\n    box-sizing: border-box;\n    width: 100%;\n    height: auto !important;\n    border-radius: 10px;\n    flex: none;\n    flex-grow: 0;\n    border: 1px solid rgb(207, 217, 222);\n  }\n\n  p {\n    padding: 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 149%;\n    color: #777777;\n    flex: none;\n    align-self: stretch;\n    flex-grow: 0;\n  }\n\n  a {\n    padding: 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 149%;\n    text-decoration-line: underline !important;\n    color: #384BFF;\n    cursor: 'poiner';\n  }\n`\n\nconst Footer = styled.div`\n  display: flex;\n  position: relative;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  width: 100%;\n  align-items: center;\n`\n\nconst ContainerCheckbox = styled.div`\n  display: flex;\n  align-items: flex-end;\n  padding: 20px 20px 20px 0;\n`\n\nconst CheckboxInput = styled.input`\n  width: 16px;\n  height: 16px;\n  border-radius: 5px;\n  border: 1px solid #384bff;\n  margin-right: 8px;\n`\n\nconst Label = styled.label`\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 17.88px;\n  color: #7a818b;\n  cursor: pointer;\n  width: max-content;\n`\n\nconst ActionsGroup = styled.div`\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: space-between;\n  align-items: center;\n  gap: 10px;\n  align-self: stretch;\n  flex-grow: 1;\n`\n\nconst ActionButton = styled.div`\n  display: flex;\n  box-sizing: border-box;\n  width: 180px;\n  height: 42px;\n  padding: 0px 20px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 90px;\n  text-align: center;\n  font-size: 14px;\n  cursor: pointer;\n  border: ${(props) => (props.$primary ? \"initial\" : \"1px solid #E2E2E5\")};\n  background: ${(props) => (props.$primary ? \"#02193A\" : \"initial\")};\n  color: ${(props) => (props.$primary ? \"#fff\" : \"initial\")};\n\n  &:hover {\n    background: ${(props) => (props.$primary ? \"#1c3559\" : \"#eee\")};\n  }\n\n  &:active {\n    background: ${(props) => (props.$primary ? \"#020c19\" : \"#ddd\")};\n  }\n`\n\nconst {\n  children,\n  title,\n  content,\n  navi,\n  onClose,\n  // status, - conflict with deprecated Window.status property\n  buttons,\n  showChecked,\n  checked,\n  onDoNotShowChange,\n} = props\n\nconst header = (\n  <Header>\n    <TopLine>\n      <CalloutHeaderCaption>\n        Step {navi?.currentChapterIndex + 1} of {navi?.totalChapters}\n      </CalloutHeaderCaption>\n      <PagesIndicators>\n        {navi.totalPages > 1 && [...Array(navi.totalPages)].map(\n          (_, index) => (\n            <Navi\n              key={index}\n              $active={index == navi.currentPageIndex ? true : false}\n            />\n          )\n        )}\n      </PagesIndicators>\n      <Close onClick={onClose}>{iconClose}</Close>\n    </TopLine>\n    <h1>{title}</h1>\n  </Header>\n)\n\nconst statuses = (\n  <WrapperAlert $status={props.status.type}>\n    <IconAlert>\n      {props.status.type === \"warning\"\n        ? warningIcon\n        : props.status.type === \"error\"\n        ? errorIcon\n        : infoIcon}\n    </IconAlert>\n    <TextAlert>{props.status.text}</TextAlert>\n  </WrapperAlert>\n)\n\nconst checkbox = (\n  <ContainerCheckbox>\n    <CheckboxInput\n      type=\"checkbox\"\n      checked={checked}\n      onChange={onDoNotShowChange}\n    />\n    <Label htmlFor=\"checkbox\">Don't show this guide again</Label>\n  </ContainerCheckbox>\n)\n\nconst navButtons = buttons?.length > 1 ? (\n  <ActionsGroup>\n    <ActionButton\n      $primary={buttons[1].variant == \"primary\" ? true : false}\n      onClick={buttons[1].onClick}\n      disabled={buttons[1].disabled}\n    >\n      {buttons[1].label}\n    </ActionButton>\n    <ActionButton\n      $primary={buttons[0].variant == \"primary\" ? true : false}\n      onClick={buttons[0].onClick}\n      disabled={buttons[0].disabled}\n    >\n      {buttons[0].label}\n    </ActionButton>\n  </ActionsGroup>\n) : buttons?.length === 1 ? (\n  <ActionsGroup>\n    <ActionButton\n      $primary={buttons[0].variant == \"primary\" ? true : false}\n      onClick={buttons[0].onClick}\n      disabled={buttons[0].disabled}\n    >\n      {buttons[0].label}\n    </ActionButton>\n  </ActionsGroup>\n) : <></>\n\nreturn (\n  <InfoBox>\n    <Container>\n      {header}\n      <Card>\n        {props.status && props.status.text ? statuses : null}\n        <Markdown text={content} />\n      </Card>\n      <Footer>\n        {showChecked ? checkbox : null}\n        {navButtons}\n      </Footer>\n    </Container>\n  </InfoBox>\n)\n"
    },
    "src/widget/WebGuide.OverlayTrigger": {
      "code": "const CustomTooltipDefault = styled(\"DappletTooltip\")`\n  z-index: 9999999; // over the notch\n\n  &[data-popper-reference-hidden=\"true\"] {\n    visibility: hidden;\n    pointer-events: none;\n  }\n\n  .tooltip-arrow::before {\n    border: none;\n    display: inline-block;\n    content: url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='19' height='38' viewBox='18 0 20 38' fill='none' ><path d='M34.3818 22.1845L19.5654 36.0575L19.5654 1.8284L34.3715 15.6052C36.2802 17.3812 36.285 20.4025 34.3818 22.1845Z' fill='%23FFFFFE' stroke='%2302193A' /><path d='M16.5693 2.96185L20.0642 2.96185L21.0642 3.96185L21.0642 33.9619L20.0642 34.9619H16.5693L16.5693 2.96185Z' fill='%23FFFFFE' /></svg>\");\n  }\n\n  &.bs-tooltip-top .tooltip-arrow {\n    bottom: -29px;\n\n    &::before {\n      transform: rotate(90deg);\n    }\n  }\n\n  &.bs-tooltip-end .tooltip-arrow {\n    left: -18px;\n\n    &::before {\n      transform: rotate(180deg);\n    }\n  }\n\n  &.bs-tooltip-bottom .tooltip-arrow {\n    top: -29px;\n\n    &::before {\n      transform: rotate(-90deg);\n    }\n  }\n\n  &.bs-tooltip-start .tooltip-arrow {\n    right: -18px;\n\n    &::before {\n      transform: rotate(0deg);\n    }\n  }\n`\n\nconst CustomTooltipMeta = styled(\"DappletTooltip\")`\n  z-index: 9999999; // over the notch\n\n  &[data-popper-reference-hidden=\"true\"] {\n    visibility: hidden;\n    pointer-events: none;\n  }\n\n  .tooltip-arrow::before {\n    border: none;\n    display: inline-block;\n    content: url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='19' height='38' viewBox='18 0 20 38' fill='none' ><path d='M34.3818 22.1845L19.5654 36.0575L19.5654 1.8284L34.3715 15.6052C36.2802 17.3812 36.285 20.4025 34.3818 22.1845Z' fill='%234E77E1' stroke='%234E77E1' /><path d='M16.5693 2.96185L20.0642 2.96185L21.0642 3.96185L21.0642 33.9619L20.0642 34.9619H16.5693L16.5693 2.96185Z' fill='%234E77E1' /></svg>\");\n  }\n\n  &.bs-tooltip-top .tooltip-arrow {\n    bottom: -29px;\n\n    &::before {\n      transform: rotate(90deg);\n    }\n  }\n\n  &.bs-tooltip-end .tooltip-arrow {\n    left: -18px;\n\n    &::before {\n      transform: rotate(180deg);\n    }\n  }\n\n  &.bs-tooltip-bottom .tooltip-arrow {\n    top: -29px;\n\n    &::before {\n      transform: rotate(-90deg);\n    }\n  }\n\n  &.bs-tooltip-start .tooltip-arrow {\n    right: -18px;\n\n    &::before {\n      transform: rotate(0deg);\n    }\n  }\n`\n\nconst InfoBox = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  width: 546px;\n  height: 656px;\n  border: 1px solid ${(props) => props.$border};\n  background: ${(props) => props.$bg};\n  border-radius: 20px;\n  padding: 20px;\n  gap: 20px;\n  z-index: 1000;\n  box-shadow: none;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  align-items: center;\n  justify-content: center;\n\n  animation: falling-animation 0.3s linear forwards;\n\n  @keyframes falling-animation {\n    from {\n      transform: translate(-50%, -200%);\n    }\n\n    to {\n      transform: translate(-50%, -50%);\n    }\n  }\n`\n\nconst Callout = styled.div`\n  display: flex;\n  width: 320px;\n  padding: 20px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n  border-radius: 10px;\n  border: 1px solid ${(props) => props.$border};\n  background: ${(props) => props.$bg};\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n`\n\nconst Header = styled.div`\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  color: ${(props) => props.$col};\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n`\n\nconst TopLine = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  margin: 0;\n  padding: 0;\n`\n\nconst CalloutHeaderCaption = styled.div`\n  display: inline-block;\n  max-width: 30%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: ${(props) => props.$col};\n  font-size: 12px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 149%;\n`\n\nconst PagesIndicators = styled.div`\n  width: auto;\n  height: 24px;\n  padding: 4px;\n  gap: 10px;\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  box-sizing: border-box;\n  justify-content: center;\n`\n\n// const Navi = styled.button` // ToDo: for navigation\nconst Navi = styled.div`\n  padding: 0;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background: ${(props) => (props.$active ? props.$navActive : props.$navInactiveBg)};\n  border: ${(props) => (props.$active ? 'none' : `1px solid ${props.$navInactiveBorder}`)};\n`\n\nconst Close = styled.button`\n  background: inherit;\n  outline: none;\n  border: none;\n  cursor: pointer;\n`\n\nconst Title = styled.div`\n  padding: 0;\n  margin: 0 0 -10px;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  color: ${(props) => props.$col};\n  font-size: ${(props) => (props.$type === \"infobox\" ? \"32px\" : \"18px\")};\n  font-style: normal;\n  font-weight: 600;\n  line-height: 149%;\n`\n\nconst WrapperAlert = styled.div`\n  display: flex;\n  padding: 4px 6px;\n  gap: 6px;\n  border-radius: 5px;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n  margin-right: auto;\n  background: ${(props) =>\n    props.$status === \"warning\"\n      ? props.$bgWarning\n      : props.$status === \"error\"\n      ? props.$bgError\n      : props.$bgInfo};\n\n  color: ${(props) =>\n    props.$status === \"warning\"\n      ? props.$colWarning\n      : props.$status === \"error\"\n      ? props.$colError\n      : props.$colInfo};\n\n  outline: none;\n`\n\nconst IconAlert = styled.div`\n  margin: 0;\n  padding: 0;\n  position: relative;\n  display: flex;\n  width: 16px;\n`\n\nconst TextAlert = styled.div`\n  font-size: 12px;\n  font-weight: 400;\n  text-align: left;\n  margin: 0;\n  padding: 0;\n`\n\nconst Card = styled.div`\n  position: relative;\n  overflow: auto;\n  display: flex;\n  flex: 1;\n  height: 100%;\n  flex-direction: column;\n  box-sizing: border-box;\n  padding: 12px 20px;\n  gap: 10px;\n  border: none;\n  border-radius: 20px;\n  background: ${(props) => props.$bg};\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  overflow-x: hidden;\n`\n\nconst MarkdownWrapper = styled.div`\n  h3 {\n    padding: 8px 0 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 19px;\n    color: ${(props) => props.$colH};\n    flex: none;\n    align-self: stretch;\n    flex-grow: 0;\n    text-indent: 16px;\n  }\n\n  img {\n    position: relative;\n    display: flex;\n    box-sizing: border-box;\n    width: 100%;\n    height: auto !important;\n    border-radius: 10px;\n    flex: none;\n    flex-grow: 0;\n    border: 1px solid rgb(207, 217, 222);\n  }\n\n  p {\n    margin-block-start: 0.5em;\n    margin-block-end: .5em;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 149%;\n    color: ${(props) => props.$colP};\n    flex: none;\n    align-self: stretch;\n    flex-grow: 0;\n  }\n\n  a {\n    padding: 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 149%;\n    text-decoration-line: underline !important;\n    color: ${(props) => props.$colH};\n    cursor: 'poiner';\n  }\n`\n\nconst Footer = styled.div`\n  display: flex;\n  position: relative;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  width: 100%;\n  align-items: center;\n  gap: 20px;\n`\n\nconst ContainerCheckbox = styled.div`\n  display: flex;\n  align-items: ${(props) => (props.$type === \"infobox\" ? \"flex-end\" : \"flex-start\")};\n`\n\nconst CheckboxInput = styled.input`\n  width: 16px;\n  height: 16px;\n  border-radius: 5px;\n  border: 1px solid #384bff;\n  margin-right: 8px;\n`\n\nconst Label = styled.label`\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 17.88px;\n  color: #7a818b;\n  cursor: pointer;\n  width: max-content;\n`\n\nconst ActionsGroup = styled.div`\n  display: flex;\n  flex-direction: ${(props) => (props.$type === \"infobox\" ? \"row-reverse\" : \"row\")};\n  justify-content: ${(props) => (props.$type === \"infobox\" ? \"space-between\" : \"center\")};;\n  align-items: center;\n  gap: 10px;\n  align-self: stretch;\n  flex-grow: 1;\n`\n\nconst ActionButton = styled.div`\n  display: flex;\n  box-sizing: border-box;\n  width: 180px;\n  height: 42px;\n  padding: 0px 20px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 90px;\n  text-align: center;\n  font-size: 14px;\n  cursor: pointer;\n  border: ${(props) => (props.$primary ? \"initial\" : `1px solid ${props.$secBorderCol}`)};\n  background: ${(props) => (props.$primary ? props.$primBg : \"initial\")};\n  color: ${(props) => (props.$primary ? props.$primCol : props.$secCol)};\n  -webkit-user-select: none; /* Chrome/Safari */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* IE/Edge */\n  user-select: none;\n\n  &:hover {\n    background: ${(props) => (props.$primary ? props.$primBgH : props.$secBgH)};\n  }\n\n  &:active {\n    background: ${(props) => (props.$primary ? props.$primBgA : props.$secBgA)};\n  }\n`\n\nconst iconClose = (color) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M18 6L6 18\"\n      stroke={color}\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M6 6.5L18 18.5\"\n      stroke={color}\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n)\n\nconst errorIcon = (color) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n  >\n    <g clipPath=\"url(#clip0_358_97)\">\n      <path\n        d=\"M6.54996 1.66666H13.45L18.3333 6.54999V13.45L13.45 18.3333H6.54996L1.66663 13.45V6.54999L6.54996 1.66666Z\"\n        stroke={color}\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M12.5 7.5L7.5 12.5\"\n        stroke={color}\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M7.5 7.5L12.5 12.5\"\n        stroke={color}\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_358_97\">\n        <rect width=\"20\" height=\"20\" fill=\"white\" />\n      </clipPath>\n    </defs>\n  </svg>\n)\n\nconst infoIcon = (color) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n  >\n    <g clipPath=\"url(#clip0_358_90)\">\n      <path\n        d=\"M9.99996 18.3333C14.6023 18.3333 18.3333 14.6024 18.3333 10C18.3333 5.39763 14.6023 1.66667 9.99996 1.66667C5.39759 1.66667 1.66663 5.39763 1.66663 10C1.66663 14.6024 5.39759 18.3333 9.99996 18.3333Z\"\n        stroke={color}\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M10 13.3333V10\"\n        stroke={color}\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M10 6.66667H10.0088\"\n        stroke={color}\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_358_90\">\n        <rect width=\"20\" height=\"20\" fill=\"white\" />\n      </clipPath>\n    </defs>\n  </svg>\n)\n\nconst warningIcon = (color) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M8.57502 3.21665L1.51668 15C1.37116 15.252 1.29416 15.5377 1.29334 15.8288C1.29253 16.1198 1.36793 16.4059 1.51204 16.6588C1.65615 16.9116 1.86396 17.1223 2.11477 17.2699C2.36559 17.4174 2.65068 17.4968 2.94168 17.5H17.0583C17.3494 17.4968 17.6344 17.4174 17.8853 17.2699C18.1361 17.1223 18.3439 16.9116 18.488 16.6588C18.6321 16.4059 18.7075 16.1198 18.7067 15.8288C18.7059 15.5377 18.6289 15.252 18.4834 15L11.425 3.21665C11.2765 2.97174 11.0673 2.76925 10.8177 2.62872C10.5681 2.48819 10.2865 2.41437 10 2.41437C9.71357 2.41437 9.43196 2.48819 9.18235 2.62872C8.93275 2.76925 8.72358 2.97174 8.57502 3.21665Z\"\n      stroke={color}\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M10 7.5V10.8333\"\n      stroke={color}\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M10 14.1667H10.0088\"\n      stroke={color}\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n)\n\nconst themes = {\n  DEFAULT: {\n    bgMain: '#fffffe',\n    colorMain: '#02193a',\n    colorP: '#777777',\n    border: '#02193a',\n    cardBg: 'rgba(248, 249, 255, 1)',\n\n    navActive: \"#384BFF\",\n    navInactiveBg: \"#E3E3E3\",\n    navInactiveBorder: 'none',\n\n    statusInfoCol: \"#246EFD\",\n    statusWarningCol: \"#D0911A\",\n    statusErrorCol: \"#DB504A\",\n    statusInfoBg: \"rgba(234, 241, 255, 1)\",\n    statusWarningBg: \"rgba(255, 248, 235, 1)\",\n    statusErrorBg: \"rgba(246, 240, 246, 1)\",\n\n    primBtnCol: 'white',\n    primBtnBg: '#02193a',\n    primBtnBgH: \"#1c3559\",\n    primBtnBgA: \"#020c19\",\n    secBtnCol: '#02193a',\n    secBtnBorderCol: '#E2E2E5',\n    secBtnBgH: \"#eee\",\n    secBtnBgA: \"#ddd\",\n  },\n  'META_GUIDE': {\n    bgMain: '#4E77E1',\n    colorMain: 'white',\n    colorP: 'rgba(248, 249, 255, 1)',\n    border: '#4E77E1',\n    cardBg: 'rgba(255, 255, 255, 0.1)',\n\n    navActive: \"white\",\n    navInactiveBg: \"#4E77E1\",\n    navInactiveBorder: 'white',\n\n    statusInfoCol: \"white\",\n    statusWarningCol: \"white\",\n    statusErrorCol: \"white\",\n    statusInfoBg: \"rgba(255, 255, 255, 0.2)\",\n    statusWarningBg: \"rgba(255, 255, 255, 0.2)\",\n    statusErrorBg: \"rgba(255, 255, 255, 0.2)\",\n\n    primBtnCol: '#4E77E1',\n    primBtnBgH: 'rgb(242 243 255)',\n    primBtnBgA: 'rgb(222 225 255)',\n    primBtnBg: 'white',\n    secBtnCol: 'white',\n    secBtnBorderCol: 'white',\n    secBtnBgH: '#5f84e4',\n    secBtnBgA: '#6c8ee5',\n  },\n}\n\nconst {\n  children,\n  content,\n  title,\n  navi,\n  onClose,\n  // status, - conflict with deprecated Window.status property\n  buttons,\n  showChecked,\n  checked,\n  onDoNotShowChange,\n  skin,\n} = props\n\nconst header = (\n  <Header $col={themes[skin].colorMain}>\n    <TopLine>\n      <CalloutHeaderCaption $col={themes[skin].colorMain}>\n        Step {navi?.currentChapterIndex + 1} of {navi?.totalChapters}\n      </CalloutHeaderCaption>\n      <PagesIndicators>\n        {navi.totalPages > 1 && [...Array(navi?.totalPages)].map(\n          (_, index) => (\n            <Navi\n              key={index}\n              $active={index == navi?.currentPageIndex ? true : false}\n              $navActive={themes[skin].navActive}\n              $navInactiveBg={themes[skin].navInactiveBg}\n              $navInactiveBorder={themes[skin].navInactiveBorder}\n            />\n          )\n        )}\n      </PagesIndicators>\n      <Close onClick={onClose}>{iconClose(themes[skin].colorMain)}</Close>\n    </TopLine>\n  </Header>\n)\n\nconst statuses = (\n  <WrapperAlert\n    $status={props.status.type}\n    $colInfo={themes[skin].statusInfoCol}\n    $colWarning={themes[skin].statusWarningCol}\n    $colError={themes[skin].statusErrorCol}\n    $bgInfo={themes[skin].statusInfoBg}\n    $bgWarning={themes[skin].statusWarningBg}\n    $bgError={themes[skin].statusErrorBg}\n  >\n    <IconAlert>\n      {props.status.type === \"warning\"\n        ? warningIcon(themes[skin].statusWarningCol)\n        : props.status.type === \"error\"\n        ? errorIcon(themes[skin].statusErrorCol)\n        : infoIcon(themes[skin].statusInfoCol)}\n    </IconAlert>\n    <TextAlert>{props.status.text}</TextAlert>\n  </WrapperAlert>\n)\n\nconst checkbox = (\n  <ContainerCheckbox $type={props.type}>\n    <CheckboxInput\n      type=\"checkbox\"\n      checked={checked}\n      onChange={onDoNotShowChange}\n    />\n    <Label htmlFor=\"checkbox\">Don't show this guide again</Label>\n  </ContainerCheckbox>\n)\n\nconst actionButton = (btn) => (\n  <ActionButton\n    key={btn.label}\n    $primary={btn.variant == \"primary\" ? true : false}\n    $primCol={themes[skin].primBtnCol}\n    $primBg={themes[skin].primBtnBg}\n    $primBgH={themes[skin].primBtnBgH}\n    $primBgA={themes[skin].primBtnBgA}\n    $secCol={themes[skin].secBtnCol}\n    $secBorderCol={themes[skin].secBtnBorderCol}\n    $secBgH={themes[skin].secBtnBgH}\n    $secBgA={themes[skin].secBtnBgA}\n    onClick={btn.onClick}\n    disabled={btn.disabled}\n  >\n    {btn.label}\n  </ActionButton>\n)\n\nconst navButtons = props.type === 'callout' ? (\n  <ActionsGroup $type={props.type}>\n    {buttons.map((btn) => actionButton(btn))}\n  </ActionsGroup>\n) : buttons?.length > 1 ? (\n  <ActionsGroup $type={props.type}>\n    {actionButton(buttons[1])}\n    {actionButton(buttons[0])}\n  </ActionsGroup>\n) : buttons?.length === 1 ? (\n  <ActionsGroup $type={props.type}>\n    {actionButton(buttons[0])}\n  </ActionsGroup>\n) : <></>\n\nconst callout = (\n  <Callout \n    data-mweb-context-type=\"wg-chapter\" \n    data-mweb-context-parsed={JSON.stringify({ id: props.id })}\n    $border={themes[skin].border}\n    $bg={themes[skin].bgMain}\n  >\n    {header}\n    {props.status?.text ? statuses : null}\n    <Title $type={props.type} $col={themes[skin].colorMain}>\n      {title}\n    </Title>\n    <MarkdownWrapper $colH={themes[skin].colorMain} $colP={themes[skin].colorP}>\n      <Markdown text={content}/>\n    </MarkdownWrapper>\n    {showChecked ? checkbox : null}\n    {navButtons}\n    <div data-mweb-insertion-point=\"hidden\" style={{ display: 'none' }}/>\n  </Callout>\n)\n\nconst calloutTooltip = {\n  DEFAULT: (\n    <CustomTooltipDefault bsPrefix=\"wg-tooltip\">\n      {callout}\n    </CustomTooltipDefault>\n  ),\n  'META_GUIDE': (\n    <CustomTooltipMeta bsPrefix=\"wg-tooltip\">\n      {callout}\n    </CustomTooltipMeta>\n  ),\n}\n\nconst infobox = (\n  <InfoBox\n    $border={themes[skin].border}\n    $bg={themes[skin].bgMain}\n  >\n    {header}\n    <Title $type={props.type} $col={themes[skin].colorMain}>\n      {title}\n    </Title>\n    <Card $bg={themes[skin].cardBg}>\n      {props.status?.text ? statuses : null}\n      <MarkdownWrapper $colH={themes[skin].colorMain} $colP={themes[skin].colorP}>\n        <Markdown text={content}/>\n      </MarkdownWrapper>\n    </Card>\n    <Footer>\n      {showChecked ? checkbox : null}\n      {navButtons}\n    </Footer>\n  </InfoBox>\n)\n\nconst overlayByType = {\n  callout: (\n    <DappletOverlayTrigger\n      show={true}\n      overlay={calloutTooltip[skin]}\n      placement={props.placement ?? \"auto\"}\n      offset={[0, 20]}\n      popperConfig={{ strategy: props.strategy ?? 'absolute' }}\n    >\n      {typeof props.children === \"function\" ? (\n        props.children\n      ) : (\n        <span>{props.children}</span>\n      )}\n    </DappletOverlayTrigger>\n  ),\n  infobox,\n}\n\nreturn overlayByType[props.type]\n"
    },
    "src/widget/WebGuide.Callout": {
      "code": "const Callout = styled.div`\n  display: flex;\n  width: 320px;\n  padding: 20px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n  border-radius: 10px;\n  border: 1px solid #02193a;\n  background: #fffffe;\n  font-family: sans-serif;\n`;\n\nconst CalloutTitle = styled.div`\n  color: #02193a;\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 149%; /* 26.82px */\n`;\n\nconst CalloutDescription = styled.div`\n  color: #7a818b;\n  text-align: center;\n  font-size: 12px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 149%; /* 17.88px */\n`;\n\nreturn (\n  <Callout>\n    <Widget\n      props={{ type: \"callout\" }}\n      src=\"bos.dapplets.near/widget/WebGuide.Header\"\n    ></Widget>\n    <Widget\n      props={{\n        status: {\n          type: \"info\",\n          text: \"this info\",\n        },\n        content: \"this content\",\n      }}\n      src=\"bos.dapplets.near/widget/WebGuide.Body\"\n    />\n    <Widget\n      props={{\n        buttons: [\n          {\n            variant: \"secondary\",\n            disabled: false,\n            onClick: () => {},\n            label: \"Prev\",\n          },\n          {\n            variant: \"primary\",\n            disabled: false,\n            onClick: () => {},\n            label: \"Next\",\n          },\n        ],\n      }}\n      src=\"bos.dapplets.near/widget/WebGuide.Footer\"\n    />\n  </Callout>\n);\n"
    },
    "src/widget/LayoutManager.EarOpened": {
      "code": "const widgets = props.widgets ?? [];\nconst {\n  isEditMode,\n  enableEditMode,\n  disableEditMode,\n  handleOpenMenu,\n  handleOnMouseLeave,\n  deleteUserLink,\n} = props;\n\nconst suitableWidgets = widgets.filter(\n  (w) => w.isSuitable === undefined || w.isSuitable === true\n);\n\nconst isMyLinksInjected = !!widgets.some(\n  (w) => w.linkAuthorId === context.accountId\n);\n\n// Disable edit mode if last widget was removed\nuseEffect(() => {\n  if (isEditMode && !isMyLinksInjected) {\n    disableEditMode();\n  }\n}, [isMyLinksInjected, isEditMode]);\n\nconst TriggerShowPanel = styled.div`\n  width: 40px;\n  height: auto;\n  border-radius: 0px 4px 4px 0px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: absolute;\n  right: -33px;\n  top: -20px;\n  z-index: 79;\n`;\n\nconst ActionsWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 6px;\n  border: 1px solid #384bff;\n  border-radius: 0px 4px 4px 0px;\n  right: 60px;\n  width: 40px;\n  min-height: 34px;\n  height: auto;\n  background: #fff;\n  z-index: 1080;\n\n  @keyframes translateAnimation {\n    0% {\n      display: none;\n      opacity: 0;\n    }\n     80% {\n      display: flex;\n      opacity: 0;\n    }\n    100% {\n      display: flex;\n      opacity: 1;\n    }\n  }\n  animation: translateAnimation 0.3s ease forwards;\n  transition: all 0.2s;\n  span{\n    display: block;\n    margin-bottom: 5px;\n\n  }\n`;\n\nconst ActionBlock = styled.span`\n  position: relative;\n\n  div {\n    z-index: 1000;\n  }\n`;\n\nreturn (\n  <TriggerShowPanel\n    onMouseOut={handleOnMouseLeave}\n    style={{\n      margin: \"0px -7px\",\n      top: suitableWidgets.length ? \"\" : \"-20px\",\n    }}\n  >\n    <Widget src=\"bos.dapplets.near/widget/LayoutManager.SupportingSpan\" />\n    <ActionsWrapper\n      style={{\n        backgroundColor: suitableWidgets.length ? \"\" : \"#DB504A!important\",\n      }}\n    >\n      {suitableWidgets.map((widget) => (\n        <ActionBlock key={widget.linkId}>\n          {isEditMode ? (\n            <Widget\n              src=\"bos.dapplets.near/widget/LayoutManager.WidgetBadgeWrapper\"\n              props={{\n                widget,\n                deleteUserLink,\n              }}\n            />\n          ) : null}\n          <Widget src={widget.src} props={widget.props} />\n        </ActionBlock>\n      ))}\n      {isEditMode ? (\n        <Widget\n          src=\"bos.dapplets.near/widget/LayoutManager.Buttons.Apply\"\n          props={{ onClick: disableEditMode }}\n        />\n      ) : isMyLinksInjected ? (\n        <Widget\n          src=\"bos.dapplets.near/widget/LayoutManager.Buttons.Edit\"\n          props={{ onClick: enableEditMode }}\n        />\n      ) : null}\n      <Widget\n        src=\"bos.dapplets.near/widget/LayoutManager.Buttons.Plus\"\n        props={{ widgets: suitableWidgets, onClick: handleOpenMenu }}\n      />\n    </ActionsWrapper>\n    {suitableWidgets.length ? (\n      <Widget src=\"bos.dapplets.near/widget/LayoutManager.SupportingSpan\" />\n    ) : null}\n  </TriggerShowPanel>\n);\n"
    },
    "src/widget/WebGuide.Main": {
      "code": "const twitterConfig = {\n  action: true,\n  chapters: [\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebExtension\",\n      type: 'infobox',\n      if: { id: \"1694995344461894022\" }, // ToDo: should be another trigger\n      // showChecked: true,\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtension/Welcome\",\n          title: \"You’re entering Mutable Web\",\n          status: [],\n          content: \"\\nMutable Web is a new web3 paradigm that allows anyone to add custom functionality to existing websites and share it with your community— no matter who owns the website.\\n\\nBecome a co-owner of any website you are use!\\n\\n### Mutation switch\\n\\n![](https://raw.githubusercontent.com/dapplets/bos-components/main/assets/onboarding-video-001.webp)\\n\\nYou can switch between website mutations created by different communities.\",\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebExtensionNotch\",\n      type: 'callout',\n      placement: 'right',\n      strategy: 'fixed',\n      namespace: \"mweb\",\n      contextType: \"notch\",\n      injectTo: \"hidden\",\n      if: { id: { eq: \"notch\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionNotch/Notch\",\n          title: \"Mutation switch\",\n          status: [{ info: 'Click on the dropdown box' }],\n          content: \"Mutation switch allows user to choose between application sets.\",\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebExtensionDropdown/1\",\n      type: 'callout',\n      placement: 'right',\n      strategy: 'fixed',\n      namespace: \"mweb\",\n      contextType: \"notch\",\n      injectTo: \"recently-used-mutations\",\n      if: { id: { eq: \"recently-used-mutations\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionDropdown/1/1\",\n          title: \"The list of recently used mutations (1/2)\",\n          status: [],\n          content: \"The current mutation is highlighted with a star. To add a “favorite” status to a mutation on the current page, simply click on the star. his mutation will become active when you open the website in a new tab.\",\n        },\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionDropdown/1/2\",\n          title: \"The list of recently used mutations (2/2)\",\n          status: [{ info: 'Click on the dropdown box below' }],\n          content: \"The “Trash” removes the mutation from the “Recentt” list.\",\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebExtensionDropdown/2\",\n      type: 'callout',\n      strategy: 'fixed',\n      placement: 'right',\n      namespace: \"mweb\",\n      contextType: \"notch\",\n      injectTo: \"hidden\",\n      if: { id: { eq: \"unused-mutations-title\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionDropdown/2/1\",\n          title: \"All mutations\",\n          status: [],\n          content: \"This is the list of all available, previously unused mutations.\",\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebExtensionDropdown/3\",\n      type: 'callout',\n      strategy: 'fixed',\n      namespace: \"mweb\",\n      contextType: \"notch\",\n      injectTo: \"hidden\",\n      if: { id: { eq: \"mutate-button\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionDropdown/3/1\",\n          title: '\"Mutate\" button',\n          status: [],\n          content: 'The \"Mutate\" button allows users to create, fork, and edit mutations.',\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebExtensionOverlay/1\",\n      type: 'callout',\n      placement: 'left',\n      strategy: 'fixed',\n      namespace: \"mweb\",\n      contextType: \"mweb-overlay\",\n      injectTo: \"mweb-overlay\",\n      if: { id: { eq: \"mweb-overlay\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionOverlay/1/MutationButton\",\n          title: \"Application panel\",\n          status: [],\n          content: \"Here are the available application settings for the current mutation.\",\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebExtensionOverlay/2\",\n      type: 'callout',\n      placement: 'bottom',\n      strategy: 'fixed',\n      namespace: \"mweb\",\n      contextType: \"mweb-overlay\",\n      injectTo: \"mutation-icon\",\n      if: { id: { eq: \"mutation-button\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionOverlay/2/MutationButton\",\n          title: \"Mutation button\",\n          status: [],\n          content: \"![](https://raw.githubusercontent.com/dapplets/bos-components/main/assets/webguide-006.png)\\n\\nThis is the current mutation icon. Click on it to open the Wallet panel. There you can connect your NEAR wallet.\",\n        },\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionOverlay/2/MutationButton\",\n          title: \"Mutation button\",\n          status: [],\n          content: \"![](https://raw.githubusercontent.com/dapplets/bos-components/main/assets/webguide-007.png)\\n\\n Once your wallet is connected, you can see information about it and disconnect whenever you want.\",\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebExtensionOverlay/3\",\n      type: 'callout',\n      placement: 'bottom',\n      strategy: 'fixed',\n      namespace: \"mweb\",\n      contextType: \"mweb-overlay-action\",\n      injectTo: \"mweb-overlay-action\",\n      if: { id: { eq: \"web-guide-action\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionOverlay/3/Action\",\n          title: \"Action button\",\n          status: [],\n          content: \"![](https://raw.githubusercontent.com/dapplets/bos-components/main/assets/webguide-005.png)\\n\\nYou can always call up this guide again on this page by clicking on this button. It is inserted by the Web Guide application. Other applications can also insert their own quick action buttons nearby.\",\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebExtensionOverlay/4\",\n      type: 'callout',\n      placement: 'left',\n      strategy: 'fixed',\n      namespace: \"mweb\",\n      contextType: \"mweb-overlay\",\n      injectTo: \"open-apps-button\",\n      if: { id: { eq: \"open-apps-button\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionOverlay/4/Applications\",\n          title: \"Applications\",\n          status: [],\n          content: \"![](https://raw.githubusercontent.com/dapplets/bos-components/main/assets/webguide-008.png)\\n\\nClick on the button to view the applications of the current mutation. Here you can turn them off and on.\",\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/app/Tipping/1\",\n      type: 'callout',\n      namespace: \"bos.dapplets.near/parser/twitter\",\n      contextType: \"post\",\n      injectTo: \"avatar\",\n      if: { id: { eq: \"1694995344461894022\" } },\n      arrowTo: \"insPoint\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/app/Tipping/1/1\",\n          status: [],\n          title: \"Tipping app\",\n          content: \"If you want to thank the author of the tweet you like...\",\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/app/Tipping/2\",\n      type: \"callout\",\n      namespace: \"mweb\",\n      contextType: \"injected-widget\",\n      injectTo: \"hidden\",\n      if: {\n        parentContextId: { eq: \"1694995344461894022\" },\n        widgetSrc: { eq: \"bos.dapplets.near/widget/Tipping.Main\" },\n      },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/app/Tipping/2/1\",\n          status: [],\n          title: \"Tipping app\",\n          content: \"... you can send them a tip through our application.\",\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/app/Paywall\",\n      type: \"callout\",\n      namespace: \"mweb\",\n      contextType: \"injected-widget\",\n      injectTo: \"hidden\",\n      if: {\n        parentContextId: { eq: \"1694995303642939408\" },\n        widgetSrc: { eq: \"bos.dapplets.near/widget/Paywall.Main\" },\n      },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/app/Paywall/1\",\n          status: [],\n          title: \"Paywall app\",\n          content: \"Paywall app allows users to add images to posts and sell access to them.\",\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/mutation/EarTrigger\",\n      type: 'callout',\n      namespace: \"mweb\",\n      contextType: \"ear-trigger\",\n      injectTo: \"hidden\",\n      if: { id: { eq: \"1694995344461894022\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/mutation/EarTrigger/1\",\n          status: [],\n          title: \"Apps control panel\",\n          content: 'We add the app control panel to each post. You can add widgets to the post or panel to extend the functionality of the site.',\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/mutation/EarTrigger/copy\",\n      type: 'callout',\n      namespace: \"mweb\",\n      contextType: \"ear-trigger\",\n      injectTo: \"hidden\",\n      if: { id: { eq: \"1694995344461894022\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/mutation/EarTrigger/copy/1\",\n          status: [],\n          title: \"Apps control panel\",\n          content: '[See other Mutable Web facilities on NEAR Social](https://social.dapplets.org/mob.near/widget/ProfilePage?accountId=dappletsproject.near)',\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n  ],\n}\n\nconst nearSocialConfig = {\n  action: true,\n  chapters: [\n    {\n      id: \"bos.dapplets.near/gateway/MutableWeb\",\n      type: 'infobox',\n      if: { id: \"1694995344461894022\" }, // ToDo: should be another trigger\n      // showChecked: true,\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWeb/Welcome\",\n          title: \"You’re entering Mutable Web\",\n          status: [],\n          content: \"[Mutable Web also runs on Legacy Web2.](https://augm.link/mutate/?t=https%3A%2F%2Ftwitter.com%2FMrConCreator&m=bos.dapplets.near%2Fmutation%2FSandbox) Check its’ Web Guide there!\\n\\nMutable Web is a new web3 paradigm that allows anyone to add custom functionality to existing websites and share them within your community — no matter who owns the website.\\n\\nBecome the co-owner of any website you are using!\\n\\n### Mutation switch\\n\\n![](https://raw.githubusercontent.com/dapplets/bos-components/main/assets/onboarding-008.png)\\n\\nYou can switch between website mutations created by different communities.\",\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebDropdown/1\",\n      type: 'callout',\n      placement: 'right',\n      strategy: 'fixed',\n      namespace: \"mweb\",\n      contextType: \"mweb-gateway\",\n      injectTo: \"mutation-wrapper\",\n      if: { id: { eq: \"mutation-wrapper\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebDropdown/1/1\",\n          title: \"Mutation switch\",\n          status: [{ info: 'Click on the dropdown box' }],\n          content: \"This is a mutation switcher to select the desired set of applications.\",\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    // {\n    //   id: \"bos.dapplets.near/gateway/MutableWebDropdown/2\",\n    //   type: 'callout',\n    //   strategy: 'fixed',\n    //   placement: 'right',\n    //   namespace: \"mweb\",\n    //   contextType: \"mweb-gateway\",\n    //   injectTo: \"mutations-list\",\n    //   if: { id: { eq: \"mutations-list\" } },\n    //   arrowTo: \"context\",\n    //   pages: [\n    //     {\n    //       id: \"bos.dapplets.near/gateway/MutableWebDropdown/2/1\",\n    //       title: \"All mutations\",\n    //       status: [],\n    //       content: \"Each mutation defines the set of applications. Select it from the list.\",\n    //     },\n    //   ],\n    //   skin: 'META_GUIDE',\n    // },\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebExtensionOverlay/1\",\n      type: 'callout',\n      placement: 'left',\n      strategy: 'fixed',\n      namespace: \"mweb\",\n      contextType: \"mweb-overlay\",\n      injectTo: \"mweb-overlay\",\n      if: { id: { eq: \"mweb-overlay\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionOverlay/1/MutationButton\",\n          title: \"Application panel\",\n          status: [],\n          content: \"Here are the available application settings for the current mutation.\",\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebExtensionOverlay/3\",\n      type: 'callout',\n      placement: 'bottom',\n      strategy: 'fixed',\n      namespace: \"mweb\",\n      contextType: \"mweb-overlay-action\",\n      injectTo: \"mweb-overlay-action\",\n      if: { id: { eq: \"web-guide-action\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionOverlay/3/Action\",\n          title: \"Action button\",\n          status: [],\n          content: \"![](https://raw.githubusercontent.com/dapplets/bos-components/main/assets/webguide-005.png)\\n\\nYou can always call up this guide again on this page by clicking on this button. It is inserted by the Web Guide application. Other applications can also insert their own quick action buttons nearby.\",\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebExtensionOverlay/4\",\n      type: 'callout',\n      placement: 'left',\n      strategy: 'fixed',\n      namespace: \"mweb\",\n      contextType: \"mweb-overlay\",\n      injectTo: \"open-apps-button\",\n      if: { id: { eq: \"open-apps-button\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionOverlay/4/Applications\",\n          title: \"Applications\",\n          status: [],\n          content: \"![](https://raw.githubusercontent.com/dapplets/bos-components/main/assets/webguide-008.png)\\n\\nClick on the button to view the applications of the current mutation. Here you can turn them off and on.\",\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    // {\n    //   id: \"bos.dapplets.near/app/Tipping/1\",\n    //   type: 'callout',\n    //   namespace: \"bos.dapplets.near/parser/near-social-json\",\n    //   contextType: \"post\",\n    //   injectTo: \"avatar\",\n    //   if: { id: { eq: \"dappletsproject.near/119034910\" } },\n    //   arrowTo: \"insPoint\",\n    //   pages: [\n    //     {\n    //       id: \"bos.dapplets.near/app/Tipping/1/1\",\n    //       status: [],\n    //       title: \"Tipping app\",\n    //       content: \"If you want to thank the author of the post you like...\",\n    //     },\n    //   ],\n    //   skin: 'META_GUIDE',\n    // },\n    {\n      id: \"bos.dapplets.near/app/Tipping/2\",\n      type: \"callout\",\n      namespace: \"mweb\",\n      contextType: \"injected-widget\",\n      injectTo: \"hidden\",\n      if: {\n        parentContextId: { eq: \"dappletsproject.near/119034910\" },\n        widgetSrc: { eq: \"bos.dapplets.near/widget/Tipping.Main\" },\n      },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/app/Tipping/2/1\",\n          status: [],\n          title: \"Tipping app\",\n          content: \"If you want to thank the author of the post you like, you can send them a tip through our application.\",\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/mutation/EarTrigger\",\n      type: 'callout',\n      namespace: \"mweb\",\n      contextType: \"ear-trigger\",\n      injectTo: \"hidden\",\n      if: { id: { eq: \"dappletsproject.near/119034910\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/mutation/EarTrigger/1\",\n          status: [],\n          title: \"Apps control panel\",\n          content: 'We’ve added a special container to all posts. This allows users to attach widgets that extend the possibilities of Near Social.',\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n    {\n      id: \"bos.dapplets.near/mutation/EarTrigger/copy\",\n      type: 'callout',\n      namespace: \"mweb\",\n      contextType: \"ear-trigger\",\n      injectTo: \"hidden\",\n      if: { id: { eq: \"dappletsproject.near/119034910\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/mutation/EarTrigger/copy/1\",\n          status: [],\n          title: \"Apps control panel\",\n          content: '[See other Mutable Web facilities on X](https://augm.link/mutate/?t=https%3A%2F%2Ftwitter.com%2FMrConCreator&m=bos.dapplets.near%2Fmutation%2FSandbox)',\n        },\n      ],\n      skin: 'META_GUIDE',\n    },\n  ],\n}\n\nconst nestedCalloutConfig = {\n  chapters: [{\n    id: \"CalloutInCallout\",\n    type: 'callout',\n    namespace: \"mweb\",\n    contextType: \"wg-chapter\",\n    injectTo: \"hidden\",\n    if: { id: { eq: \"bos.dapplets.near/mutation/EarTrigger/copy\" } }, // ID of the last chapter\n    arrowTo: \"context\",\n    pages: [\n      {\n        id: \"CalloutInCallout/1\",\n        status: [],\n        title: \"Web Guides 1/3\",\n        content: 'The WebGuide is also an application. Any user can create a guide to explain a workflow to other users. The WebGuide consists of callouts pointing to UI elements (original or embedded by other applications).',\n      },\n      {\n        id: \"CalloutInCallout/2\",\n        status: [],\n        title: \"Web Guides 2/3\",\n        content: '![](https://raw.githubusercontent.com/dapplets/bos-components/main/assets/webguide-004.png)\\n\\nWeb Guides can consist of several chapters.',\n      },\n      {\n        id: \"CalloutInCallout/3\",\n        status: [],\n        title: \"Web Guides 3/3\",\n        content: 'Use the buttons to navigate through the Web Guide.',\n      },\n    ],\n  }]\n}\n\n// ToDo: move to a smart contract\nconst guideConfigByLinkId = {\n  // production (bos.dapplets.near/mutation/sandbox)\n  '9a6537b6efbb98ad4c12ef747c7e29e9': twitterConfig,\n  '8a1ca0a9eb03ce2725db7a553a9bcab7': nearSocialConfig,\n  \"5c105a6a05975423d39a1e0d9447a22d\": nestedCalloutConfig,\n  '84998d899f0b75b6ca47197c66baf3ca': nestedCalloutConfig, // twitter\n  \n  // testing (bos.dapplets.near/mutation/testing2)\n  'b3777e928bd7ce9ad30eb636857a1853': twitterConfig,\n  '114a78557d9044ff8c6e0177bcbe690a': nearSocialConfig,\n  '0b492fd62c72d7ad87c7658e2b3a4f1e': nestedCalloutConfig,\n}\n\nconst OverlayTriggerWrapper = styled.div`\n  display: flex;\n  z-index: 500;\n\n  .OverlayTrigger {\n    position: absolute;\n    background: #db504a;\n    border: 1px solid #db504a;\n    width: 6px;\n    height: 49px;\n    right: -6px;\n    top: 10px;\n    border-radius: 0px 4px 4px 0px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    z-index: 79;\n  }\n`\n\nconst guideConfig = guideConfigByLinkId[props.link.id]\n\nconst [showApp, setShowApp] = useState(true)\nconst [chapterCounter, setChapterCounter] = useState(0)\nconst [pageCounter, setPageCounter] = useState(0)\n\nif (\n  !guideConfig\n  || !guideConfig.chapters?.length\n  || !guideConfig.chapters[0].pages?.length\n) return <></>\n\nconst handleClose = () => {\n  setShowApp(false)\n}\n\nconst handleAction = () => {\n  setShowApp((val) => !val)\n  setChapterCounter(0)\n  setPageCounter(0)\n}\n\nconst handleChapterDecrement = () => {\n  if (chapterCounter !== 0) {\n    setChapterCounter((val) => val - 1)\n    setPageCounter(\n      guideConfig.chapters[chapterCounter - 1]?.pages?.length\n        ? guideConfig.chapters[chapterCounter - 1]?.pages?.length - 1\n        : 0\n    )\n  }\n}\n\nconst handleChapterIncrement = () => {\n  setChapterCounter((val) => Math.min(val + 1, guideConfig.chapters.length - 1))\n  setPageCounter(0)\n}\n\nconst handleClickPrev = () => {\n  if (!pageCounter) {\n    handleChapterDecrement()\n  } else {\n    setPageCounter((val) => val - 1)\n  }\n}\n\nconst handleClickNext = () => {\n  if (pageCounter === guideConfig.chapters[chapterCounter]?.pages?.length - 1) {\n    handleChapterIncrement()\n  } else {\n    setPageCounter((val) => val + 1)\n  }\n}\n\nconst ChapterWrapper = (props) => {\n  const currentChapter = guideConfig.chapters[chapterCounter]\n  if (!currentChapter) return <></>\n  const pages = currentChapter.pages\n  if (!pages) return <></>\n  const currentPage = pages[pageCounter]\n  if (!currentPage) return <></>\n\n  const status = currentPage.status.length&& Object.entries(currentPage.status[0])[0] // ToDo: mocked!!!\n\n  const buttons = []\n  if (chapterCounter || pageCounter) {\n    buttons.push({\n      variant: \"secondary\",\n      disabled: false,\n      onClick: handleClickPrev,\n      label: \"Prev\",\n    })\n  }\n  if (chapterCounter === guideConfig.chapters.length - 1 && pageCounter === pages.length - 1) {\n    buttons.push({\n      variant: \"primary\",\n      disabled: false,\n      onClick: handleClose,\n      label: \"Finish\",\n    })\n  } else (\n    buttons.push({\n      variant: \"primary\",\n      disabled: false,\n      onClick: handleClickNext,\n      label: \"Next\",\n    })\n  )\n\n  return  (\n    <Widget\n      src='bos.dapplets.near/widget/WebGuide.OverlayTrigger'\n      loading={props?.children}\n      props={{\n        id: currentChapter.id,\n        type: currentChapter.type,\n        placement: currentChapter.placement,\n        strategy: currentChapter.strategy,\n        navi: {\n          currentChapterIndex: chapterCounter,\n          totalChapters: guideConfig.chapters.length,\n          currentPageIndex: pageCounter,\n          totalPages: pages.length,\n        },\n        onClose: handleClose,\n        buttons,\n        status: status && {\n          type: status[0],\n          text: status[1],\n        },\n        title: currentPage.title,\n        content: currentPage.content,\n        showChecked: currentChapter.showChecked,\n        children: currentChapter.type === 'callout'\n          && currentChapter.arrowTo === \"context\"\n            ? ({ ref }) => {\n                props.attachContextRef(ref);\n                return props.children;\n              }\n            : currentChapter.arrowTo === \"insPoint\"\n            ? ({ ref }) => {\n                props.attachInsPointRef(ref);\n                return props.children;\n              }\n            : props.children,\n        skin: currentChapter.skin ?? 'DEFAULT',\n      }}\n    />\n  )\n}\n\nreturn (\n  <>\n    {guideConfig.action ? (\n      <DappletPortal\n        target={{\n          namespace: \"mweb\",\n          contextType: \"mweb-overlay\",\n          injectTo: \"mweb-actions-panel\",\n          if: { id: { eq: \"mweb-overlay\" } },\n          arrowTo: \"context\",\n        }}\n        component={() => <Widget\n          src='bos.dapplets.near/widget/WebGuide.Action'\n          props={{\n            isActive: showApp,\n            handleAction,\n          }}\n        />}\n      />\n    ) : null}\n    {showApp ? (guideConfig.chapters[chapterCounter]?.type === 'infobox' ? (\n      <OverlayTriggerWrapper>\n        <DappletOverlay>\n          <ChapterWrapper/>\n        </DappletOverlay>\n      </OverlayTriggerWrapper>\n    ) : (\n      <DappletPortal\n        target={{\n          namespace: guideConfig.chapters[chapterCounter]?.namespace,\n          contextType: guideConfig.chapters[chapterCounter]?.contextType,\n          injectTo: guideConfig.chapters[chapterCounter]?.injectTo,\n          if: guideConfig.chapters[chapterCounter]?.if,\n          insteadOf: guideConfig.chapters[chapterCounter]?.insteadOf,\n        }}\n        component={ChapterWrapper}\n      />\n    )) : null}\n  </>\n)"
    },
    "src/widget/WebGuide.Footer": {
      "code": "const ContainerCheckbox = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst CheckboxInput = styled.input`\n  width: 16px;\n  height: 16px;\n  border-radius: 5px;\n  border: 1px solid #384bff;\n  margin-right: 8px;\n`;\n\nconst Label = styled.label`\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 17.88px;\n  color: #7a818b;\n  cursor: pointer;\n`;\n\nconst ActionsGroup = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n  align-self: stretch;\n`;\n\nconst ActionButton = styled.div`\n  display: flex;\n  height: 42px;\n  padding: 0px 20px;\n  justify-content: center;\n  align-items: center;\n  flex: 1 0 0;\n  border-radius: 90px;\n  text-align: center;\n  font-size: 14px;\n  cursor: pointer;\n  border: ${(props) => (props.$primary ? \"initial\" : \"1px solid #E2E2E5\")};\n  background: ${(props) => (props.$primary ? \"#02193A\" : \"initial\")};\n  color: ${(props) => (props.$primary ? \"#fff\" : \"initial\")};\n\n  &:hover {\n    background: ${(props) => (props.$primary ? \"#1c3559\" : \"#eee\")};\n  }\n\n  &:active {\n    background: ${(props) => (props.$primary ? \"#020c19\" : \"#ddd\")};\n  }\n`;\n\nreturn (\n  <>\n    {props.isDoNotShowChecked ? null : (\n      <ContainerCheckbox>\n        <CheckboxInput\n          type=\"checkbox\"\n          checked={props.checked}\n          onChange={props.onDoNotShowChange}\n        />\n        <Label htmlFor=\"checkbox\">Don't show this guide again</Label>\n      </ContainerCheckbox>\n    )}\n\n    <ActionsGroup>\n      {props.buttons.map((btn, i) => (\n        <ActionButton\n          $primary={btn.variant == \"primary\" ? true : false}\n          onClick={btn.onClick}\n          disabled={btn.disabled}\n        >\n          {btn.label}\n        </ActionButton>\n      ))}\n    </ActionsGroup>\n  </>\n);\n"
    },
    "src/widget/LayoutManager.WidgetBageWrapper": {
      "code": "const { widget, deleteUserLink } = props\n\nconst WidgetBadgeWrapper = styled.div`\n  position: absolute;\n  right: 0;\n  z-index: 1200;\n  background: rgba(255, 255, 255, 0.35);\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  top: -2px;\n  backdrop-filter: blur(1px);\n`;\n\nreturn (\n  <WidgetBadgeWrapper\n    className={\n      widget.linkAuthorId === context.accountId\n        ? \"WidgetHover\"\n        : \"\"\n    }\n    title={\n      widget.linkAuthorId === context.accountId\n        ? `Remove ${widget.src.split(\"widget/\").pop()}`\n        : \"disable in edit mode\"\n    }\n    style={{\n      opacity:\n        widget.linkAuthorId === context.accountId ? \"1\" : \"0\",\n    }}\n  >\n    {widget.linkAuthorId === context.accountId ? (\n      <Widget\n        src=\"bos.dapplets.near/widget/LayoutManager.DeleteWidgetButton\"\n        props={{\n          onClick: () => deleteUserLink(widget.linkId),\n        }}\n      />\n    ) : // <Widget src=\"bos.dapplets.near/widget/LayoutManager.LockedWidgetBadge\" />\n    null}\n  </WidgetBadgeWrapper>\n)"
    },
    "src/widget/LayoutManager.LockedWidgetBadge": {
      "code": "const LockedIcon = (\n  <svg\n    width=\"14\"\n    height=\"14\"\n    viewBox=\"0 0 14 14\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <circle cx=\"7\" cy=\"7\" r=\"6.5\" fill=\"#3D7FFF\" stroke=\"white\" />\n    <g>\n      <path\n        d=\"M9.33333 6.66666H4.66667C4.29848 6.66666 4 6.96514 4 7.33333V9.66666C4 10.0349 4.29848 10.3333 4.66667 10.3333H9.33333C9.70152 10.3333 10 10.0349 10 9.66666V7.33333C10 6.96514 9.70152 6.66666 9.33333 6.66666Z\"\n        stroke=\"white\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M5.33337 6.66666V5.33333C5.33337 4.8913 5.50897 4.46738 5.82153 4.15482C6.13409 3.84226 6.55801 3.66666 7.00004 3.66666C7.44207 3.66666 7.86599 3.84226 8.17855 4.15482C8.49111 4.46738 8.66671 4.8913 8.66671 5.33333V6.66666\"\n        stroke=\"white\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </g>\n  </svg>\n);\n\nconst Badge = styled.span`\n  @keyframes translateAnimationBtn {\n    0% {\n      opacity: 0;\n    }\n    50% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  animation: translateAnimationBtn 0.5s linear forwards;\n  transition: all 0.3s;\n`;\n\nreturn <Badge>{LockedIcon}</Badge>;\n"
    },
    "src/widget/WebGuide.Body": {
      "code": "const WrapperAlert = styled.div`\n  display: flex;\n  padding: 4px 6px;\n  gap: 6px;\n  border-radius: 5px;\n  align-items: center;\n  justify-content: center;\n  margin-right: auto;\n  background: ${(props) =>\n    props.$status === \"warning\"\n      ? \"rgba(255, 248, 235, 1)\"\n      : props.$status === \"error\"\n      ? \"rgba(246, 240, 246, 1)\"\n      : \"rgba(234, 241, 255, 1)\"};\n\n  color: ${(props) =>\n    props.$status === \"warning\"\n      ? \"rgba(208, 145, 26, 1)\"\n      : props.$status === \"error\"\n      ? \"rgba(219, 80, 74, 1)\"\n      : \"rgba(36, 110, 253, 1)\"};\n\n  outline: none;\n`;\n\nconst TextAlert = styled.span`\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 17.88px;\n  text-align: left;\n`;\n\nconst IconAlert = styled.span``;\n\nconst infoIcon = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n  >\n    <g clipPath=\"url(#clip0_358_90)\">\n      <path\n        d=\"M9.99996 18.3333C14.6023 18.3333 18.3333 14.6024 18.3333 10C18.3333 5.39763 14.6023 1.66667 9.99996 1.66667C5.39759 1.66667 1.66663 5.39763 1.66663 10C1.66663 14.6024 5.39759 18.3333 9.99996 18.3333Z\"\n        stroke=\"#246EFD\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M10 13.3333V10\"\n        stroke=\"#246EFD\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M10 6.66667H10.0088\"\n        stroke=\"#246EFD\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_358_90\">\n        <rect width=\"20\" height=\"20\" fill=\"white\" />\n      </clipPath>\n    </defs>\n  </svg>\n);\n\nconst warningIcon = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M8.57502 3.21665L1.51668 15C1.37116 15.252 1.29416 15.5377 1.29334 15.8288C1.29253 16.1198 1.36793 16.4059 1.51204 16.6588C1.65615 16.9116 1.86396 17.1223 2.11477 17.2699C2.36559 17.4174 2.65068 17.4968 2.94168 17.5H17.0583C17.3494 17.4968 17.6344 17.4174 17.8853 17.2699C18.1361 17.1223 18.3439 16.9116 18.488 16.6588C18.6321 16.4059 18.7075 16.1198 18.7067 15.8288C18.7059 15.5377 18.6289 15.252 18.4834 15L11.425 3.21665C11.2765 2.97174 11.0673 2.76925 10.8177 2.62872C10.5681 2.48819 10.2865 2.41437 10 2.41437C9.71357 2.41437 9.43196 2.48819 9.18235 2.62872C8.93275 2.76925 8.72358 2.97174 8.57502 3.21665Z\"\n      stroke=\"#D0911A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M10 7.5V10.8333\"\n      stroke=\"#D0911A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M10 14.1667H10.0088\"\n      stroke=\"#D0911A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n);\n\nconst errorIcon = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n  >\n    <g clipPath=\"url(#clip0_358_97)\">\n      <path\n        d=\"M6.54996 1.66666H13.45L18.3333 6.54999V13.45L13.45 18.3333H6.54996L1.66663 13.45V6.54999L6.54996 1.66666Z\"\n        stroke=\"#DB504A\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M12.5 7.5L7.5 12.5\"\n        stroke=\"#DB504A\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M7.5 7.5L12.5 12.5\"\n        stroke=\"#DB504A\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_358_97\">\n        <rect width=\"20\" height=\"20\" fill=\"white\" />\n      </clipPath>\n    </defs>\n  </svg>\n);\n\nreturn (\n  <>\n    {props.status && props.status.text ? (\n      <WrapperAlert $status={props.status.type}>\n        <IconAlert>\n          {props.status.type === \"warning\"\n            ? warningIcon\n            : props.status.type === \"error\"\n            ? errorIcon\n            : infoIcon}\n        </IconAlert>\n        <TextAlert>{props.status.text}</TextAlert>\n      </WrapperAlert>\n    ) : null}\n\n    <Markdown text={props.content} />\n  </>\n);\n"
    },
    "src/widget/LayoutManager.SupportingSpan": {
      "code": "const SupportingSpan = styled.span`\n  display: inline-block;\n  width: 100%;\n  height: 30px;\n  margin-bottom: 0px;\n`\n\nreturn <SupportingSpan />"
    },
    "src/widget/WebGuide.Header": {
      "code": "const CalloutHeader = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  align-self: stretch;\n  justify-content: space-between;\n  position: relative;\n`;\n\nconst CalloutHeaderCaption = styled.div`\n  display: inline-block;\n  max-width: 30%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: #02193a;\n  font-size: 12px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 149%;\n`;\nconst Container = styled.div`\n  width: auto;\n  height: 24px;\n  padding: 4px;\n  gap: 10px;\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  box-sizing: border-box;\n  justify-content: center;\n`;\n\nconst Navi = styled.button`\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background: ${(props) => (props.$active ? \"#384BFF\" : \"#E3E3E3\")};\n  border: none;\n`;\n\nconst Close = styled.button`\n  background: inherit;\n  outline: none;\n  border: none;\n`;\n\nconst Arrow = styled.button`\n  position: absolute;\n  top: -5px;\n  right: -46px;\n  background: inherit;\n  border: none;\n  outline: none;\n`;\n\nconst iconClose = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M18 6L6 18\"\n      stroke=\"#02193A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M6 6.5L18 18.5\"\n      stroke=\"#02193A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n);\n\nreturn (\n  <CalloutHeader>\n    <CalloutHeaderCaption>\n      Step {props.navi.currentStepIndex ? props.navi.currentStepIndex : 1} of{\" \"}\n      {props.navi.totalSteps ? props.navi.totalSteps : 3}\n    </CalloutHeaderCaption>\n    <Container>\n      {[...Array(props.navi.totalSteps ? props.navi.totalSteps : 3)].map(\n        (_, index) => (\n          <Navi\n            key={index}\n            $active={index == props.navi.currentStepIndex ? true : false}\n          />\n        )\n      )}\n    </Container>\n    <Close onClick={props.onClose}>{iconClose}</Close>\n  </CalloutHeader>\n);\n"
    },
    "src/widget/LayoutManager.DeleteWidgetButton": {
      "code": "const RemoveIcon = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"14\"\n    height=\"14\"\n    viewBox=\"0 0 14 14\"\n    fill=\"none\"\n  >\n    <circle cx=\"7\" cy=\"7\" r=\"6.5\" stroke=\"white\" />\n    <path\n      d=\"M9.24976 4.75L4.74999 9.24977\"\n      stroke=\"white\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M4.75 4.75L9.24977 9.24977\"\n      stroke=\"white\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n);\n\nconst RemoveAction = styled.div`\n  position: relative;\n  width: 22%;\n  padding-bottom: 22%;\n  float: left;\n  height: 0;\n  margin: 1%;\n  box-sizing: border-box;\n  max-width: 36px;\n  max-height: 36px;\n  min-width: 14px;\n  min-height: 14px;\n  @keyframes translateAnimationBtn {\n    0% {\n      opacity: 0;\n    }\n    50% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  animation: translateAnimationBtn 0.5s linear forwards;\n  transition: all 0.3s;\n  svg {\n    cursor:pointer;\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    box-sizing: border-box;\n     transition: all 0.3s;\n      &:nth-child(1){\n           fill: #DB504A; \n        }\n     &:hover {\n          &:nth-child(1){\n           fill: #8F1914; \n        }\n  }\n    }\n   \n`;\n\nreturn <RemoveAction onClick={props.onClick}>{RemoveIcon}</RemoveAction>;\n"
    },
    "src/widget/WebGuide.Chapter": {
      "code": "return (\n  <>\n    {props.type == \"collaut\" ? (\n      <Widget src=\"bos.dapplets.near/widget/WebGuide.Callout\"></Widget>\n    ) : (\n      <Widget src=\"bos.dapplets.near/widget/WebGuide.InfoBox\"></Widget>\n    )}\n  </>\n);\n"
    },
    "src/widget/LayoutManager.TriggerEar": {
      "code": "const { show, context } = props;\n\nconst TriggerEar = styled.div`\n  position: absolute;\n  background: #384bff;\n  border: 1px solid #384bff;\n  width: 6px;\n  height: 49px;\n  right: -6px;\n  top: 10px;\n  border-radius: 0px 4px 4px 0px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  z-index: 79;\n  transition: all 0.2s;\n`;\n\nconst Dots = styled.div`\n  display: block;\n  width: 2px;\n  height: 2px;\n  border-radius: 2px;\n  background: #fff;\n  position: relative;\n\n  &:before {\n    content: \"\";\n    display: block;\n    width: 2px;\n    height: 2px;\n    border-radius: 2px;\n    background: #fff;\n    position: absolute;\n    top: 4px;\n  }\n\n  &:after {\n    content: \"\";\n    position: absolute;\n    display: block;\n    width: 2px;\n    height: 2px;\n    border-radius: 2px;\n    background: #fff;\n    bottom: 4px;\n  }\n`;\n\nreturn (\n  <TriggerEar\n    style={{ opacity: show ? 0 : 1 }}\n    data-mweb-context-type=\"ear-trigger\"\n    data-mweb-context-parsed={JSON.stringify({ id: context?.id })}\n  >\n    <Dots />\n    <div data-mweb-insertion-point=\"hidden\" style={{ display: \"none\" }} />\n  </TriggerEar>\n);\n"
    },
    "src/widget/LayoutManager.WidgetBadgeWrapper": {
      "code": "const { widget, deleteUserLink } = props\n\nconst [isWaiting, setIsWaiting] = useState(false)\n\nconst handleRemoveWidget = (linkId) => {\n  setIsWaiting(true)\n  deleteUserLink(linkId).then(() => setIsWaiting(false)).catch(() => setIsWaiting(false));\n};\n\nconst WidgetBadgeWrapper = styled.div`\n  position: absolute;\n  right: 0;\n  z-index: 1200;\n  background: rgba(255, 255, 255, 0.35);\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  top: -2px;\n  backdrop-filter: blur(1px);\n`;\n\nreturn (\n  <WidgetBadgeWrapper\n    className={\n      widget.linkAuthorId === context.accountId\n        ? \"WidgetHover\"\n        : \"\"\n    }\n    title={\n      widget.linkAuthorId === context.accountId\n        ? `Remove ${widget.src.split(\"widget/\").pop()}`\n        : \"disable in edit mode\"\n    }\n    style={{\n      opacity:\n        widget.linkAuthorId === context.accountId ? \"1\" : \"0\",\n    }}\n  >\n    {widget.linkAuthorId === context.accountId ? isWaiting ? (\n      <span role=\"status\" aria-hidden=\"true\" class=\"spinner-grow spinner-grow-sm\" />\n    ) : (\n      <Widget\n        src=\"bos.dapplets.near/widget/LayoutManager.DeleteWidgetButton\"\n        props={{\n          onClick: () => handleRemoveWidget(widget.linkId),\n        }}\n      />\n    ) : // <Widget src=\"bos.dapplets.near/widget/LayoutManager.LockedWidgetBadge\" />\n    null}\n  </WidgetBadgeWrapper>\n)"
    },
    "src/widget/LayoutManager.Buttons.Edit": {
      "code": "const { onClick, top } = props\n\nconst ButtonEdit = styled.button`\n  position: absolute;\n  top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  display: flex;\n  width: 22px;\n  height: 22px;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #384bff;\n  border-radius: 50%;\n  box-sizing: border-box;\n  background-color: white;\n  cursor: pointer;\n  transition: all 0.2s;\n\n  &:hover {\n    background-color: rgba(208, 211, 255, 1);\n  }\n\n  svg {\n    path {\n      stroke: #384bff;\n    }\n  }\n`;\n\nconst iconEdit = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"14\"\n    height=\"14\"\n    viewBox=\"0 0 14 14\"\n    fill=\"none\"\n  >\n    <path d=\"M12 7L2 7\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n  </svg>\n);\n\nreturn <ButtonEdit style={{ top: top ? '5px' : '' }} onClick={onClick}>{iconEdit}</ButtonEdit>\n"
    },
    "src/widget/Paywall.Content": {
      "code": "if (!props.content) return <></>;\n\nconst { nearAccountId, CONTRACT_ADDRESS } = props;\nconst { content, is_purchased } = props.content;\n\nconst userAccountId = context.accountId || nearAccountId\n\n/**\n * From near-api-js/packages/near-api-js/src/utils/format.ts\n */\nconst NEAR_NOMINATION_EXP = 24;\nconst NEAR_NOMINATION = new BN('10', 10).pow(new BN(NEAR_NOMINATION_EXP, 10));\nconst ROUNDING_OFFSETS = [];\nconst BN10 = new BN(10);\n\nfor (let i = 0, offset = new BN(5); i < NEAR_NOMINATION_EXP; i++) {\n  ROUNDING_OFFSETS[i] = offset;\n  offset = offset.mul(BN10)\n}\n\nfunction trimTrailingZeroes(value) {\n  return value.replace(/\\.?0*$/, '');\n}\n\nfunction formatWithCommas(value) {\n  const pattern = /(-?\\d+)(\\d{3})/;\n  while (pattern.test(value)) {\n    value = value.replace(pattern, '$1,$2');\n  }\n  return value;\n}\n\nfunction formatNearAmount(balance, fracDigitsExternal) {\n  const fracDigits = fracDigitsExternal || NEAR_NOMINATION\n\n  const balanceBN = new BN(balance, 10);\n  if (fracDigits !== NEAR_NOMINATION_EXP) {\n    const roundingExp = NEAR_NOMINATION_EXP - fracDigits - 1;\n    if (roundingExp > 0) {\n      balanceBN.iadd(ROUNDING_OFFSETS[roundingExp]);\n    }\n  }\n\n  balance = balanceBN.toString();\n  const wholeStr = balance.substring(0, balance.length - NEAR_NOMINATION_EXP) || '0';\n  const fractionStr = balance\n    .substring(balance.length - NEAR_NOMINATION_EXP)\n    .padStart(NEAR_NOMINATION_EXP, '0')\n    .substring(0, fracDigits);\n\n  return trimTrailingZeroes(`${formatWithCommas(wholeStr)}.${fractionStr}`);\n}\n\nfunction formatNear(amount) {\n  return Number(formatNearAmount(amount, 3));\n}\n/**\n * End\n */\n\nState.init({\n  basic: false,\n  loading: false\n})\n\nconst onBuy = () => {\n  try {\n    State.update({ loading: true })\n    Near.call(\n      CONTRACT_ADDRESS,\n      \"buy\",\n      {\n        content_id: content.id\n      },\n      '50000000000000',\n      content.cost\n    );\n  } catch (err) {\n    console.error(err);\n    State.update({ loading: false });\n  }\n};\n\nconst Wrapper = styled.div`\n  .content-blur-wrapper {\n    overflow: hidden;\n    width: 100%;\n    border-radius: 16px;\n    border: 1px solid rgb(207, 217, 222);\n    aspect-ratio: 1.777;\n    cursor: default;\n    position: relative;\n    box-sizing: border-box;\n  }\n\n  .content-wrapper-basic {\n    overflow: hidden;\n    width: 100%;\n    border-radius: 4px;\n    aspect-ratio: 1.777;\n    position: relative;\n    box-sizing: border-box;\n  }\n\n  .unlock-content-overlay {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    gap: 16px;\n    background-color: rgba(255, 255, 255, 0.7);\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  .unlock-content-overlay > .text {\n    color: #000;\n    text-align: center;\n    font-family: Helvetica;\n    font-size: 15px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: normal;\n  }\n\n  .unlock-content-overlay > .price {\n    color: #000;\n    text-align: center;\n    font-family: Helvetica;\n    font-size: 28px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: normal;\n  }\n\n  .unlock-content-overlay > .main-button {\n    display: flex;\n    padding: 10px 40px;\n    justify-content: center;\n    align-items: center;\n    gap: 10px;\n    border-radius: 20px;\n    background: #1d9bf0;\n    color: #fff;\n    text-align: center;\n    font-family: Helvetica;\n    font-size: 15px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: normal;\n    border: none;\n    cursor: pointer;\n    transition-duration: 0.2s;\n  }\n\n  .unlock-content-overlay > .main-button:hover {\n    background-color: rgb(26, 140, 216);\n  }\n\n  .unlock-content-overlay > .main-button:disabled {\n    background: #99cdf8;\n    cursor: default;\n  }\n\n  .content-image {\n    width: 100%;\n  }\n\n  .blurred {\n    filter: blur(1em);\n  }\n`;\n\nconst Loader = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20px\"\n    height=\"20px\"\n    viewBox=\"0 0 100 100\"\n    preserveAspectRatio=\"xMidYMid\"\n  >\n    <circle\n      cx=\"50\"\n      cy=\"50\"\n      fill=\"none\"\n      stroke=\"#ffffff\"\n      strokeWidth=\"10\"\n      r=\"35\"\n      strokeDasharray=\"164.93361431346415 56.97787143782138\"\n    >\n      <animateTransform\n        attributeName=\"transform\"\n        type=\"rotate\"\n        repeatCount=\"indefinite\"\n        dur=\"1s\"\n        values=\"0 50 50;360 50 50\"\n        keyTimes=\"0;1\"\n      ></animateTransform>\n    </circle>\n  </svg>\n);\n\nreturn (\n  <Wrapper>\n    <div className={state.basic ? \"content-wrapper-basic\" : \"content-blur-wrapper\"}>\n    {is_purchased ? (\n        <>\n          <img className=\"content-image\" src={content.link} />\n          <Widget src=\"bos.dapplets.near/widget/Paywall.Badge\"  props={{ accountId: content.author }}/>\n        </>\n      ) : (\n        <>\n          <img className=\"content-image blurred\" src={content.link} />\n          {userAccountId ? (\n            <div className=\"unlock-content-overlay\">\n              <div className=\"text\">Unlock this content</div>\n              <div className=\"price\">{formatNear(content.cost)} $NEAR</div>\n              <button\n                className=\"main-button\"\n                onClick={() => onBuy(contentId, content.cost)}\n                disabled={state.loading}\n              >\n                {state.loading ? <Loader /> : \"Buy\"}\n              </button>\n            </div>\n          ) : (\n            <div className=\"unlock-content-overlay\">\n              <div className=\"text\">Login and unlock this content</div>\n              <div className=\"price\">{formatNear(content.cost)} $NEAR</div>\n              <button\n                className=\"main-button\"\n                onClick={() => onBuy(contentId, content.cost)}\n                disabled={true}\n              >\n                {state.loading ? <Loader /> : \"Buy\"}\n              </button>\n            </div>\n          )}\n          <Widget src=\"bos.dapplets.near/widget/Paywall.Badge\"  props={{ accountId: content.author }}/>\n        </>\n      )}\n    </div>\n  </Wrapper>\n);"
    },
    "src/widget/LayoutManager.Buttons.Apply": {
      "code": "const { onClick, top } = props\n\nconst ButtonApply = styled.button`\n  position: absolute;\n  top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  padding-right: 2px;\n  display: flex;\n  box-sizing: border-box;\n  width: 22px;\n  height: 22px;\n  align-items: center;\n  justify-content: center;\n  border: none;\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: rgba(56, 75, 255, 1);\n  transition: all 0.2s;\n\n  &:hover {\n    background-color: rgba(6, 25, 205, 1);\n  }\n`;\n\nconst iconApply = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"15\"\n    height=\"14\"\n    viewBox=\"0 0 15 14\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M2 7H9.125M3.5 9.25L1.25 7L3.5 4.75M7.25 3.25V2.5C7.25 2.10218 7.40804 1.72064 7.68934 1.43934C7.97064 1.15804 8.35218 1 8.75 1H12.5C12.8978 1 13.2794 1.15804 13.5607 1.43934C13.842 1.72064 14 2.10218 14 2.5V11.5C14 11.8978 13.842 12.2794 13.5607 12.5607C13.2794 12.842 12.8978 13 12.5 13H8.75C8.35218 13 7.97064 12.842 7.68934 12.5607C7.40804 12.2794 7.25 11.8978 7.25 11.5V10.75\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      stroke=\"white\"\n    />\n  </svg>\n);\n\nreturn <ButtonApply style={{ top: top ? '5px' : '' }} onClick={onClick}>{iconApply}</ButtonApply>\n"
    },
    "src/widget/Paywall.Main": {
      "code": "const { nearAccountId } = props\nconst { authorId, id } = props.link\n\nif (!id) return <></>\n\nconst userAccountId = context.accountId || nearAccountId\nconst CONTRACT_ADDRESS = \"v2.paywall.near\"\n\nState.update({\n  hasContent: Near.view(\n      CONTRACT_ADDRESS,\n      \"has_content\",\n      { context_id: id },\n      'final',\n      true\n    )\n})\n\nif (state.hasContent) {\n  State.update({\n    content: Near.view(\n        CONTRACT_ADDRESS,\n        \"get_one\",\n        {\n          context_id: id,\n          account_id: userAccountId || ''\n        },\n        'final',\n        true\n      )\n  })\n}\n\nreturn (\n  <>\n    {state.content\n      ? <Widget\n          src=\"bos.dapplets.near/widget/Paywall.Content\"\n          props={{\n            content: state.content,\n            CONTRACT_ADDRESS,\n            nearAccountId,\n          }\n        }/>\n      : authorId === userAccountId\n      ? <Widget\n          src=\"bos.dapplets.near/widget/Paywall.Form\"\n          props={{ linkId: id, CONTRACT_ADDRESS }}\n        />\n      : <></>}\n  </>\n)\n"
    },
    "src/widget/LayoutManager.Buttons.PlusDefault": {
      "code": "const { onClick } = props\n\nconst ButtonPlusDefault = styled.div`\n  display: flex;\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  bottom: 7px;\n  background: ${(p) => (p.default ? '#384bff !important' : '#f8f9ff !important')};\n  position: relative;\n  margin-top: 40px;\n  cursor: pointer;\n  border: 1px solid #384bff;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  transition: all 0.3s;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n`\n\nconst plusDefault = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"12\"\n    height=\"13\"\n    viewBox=\"0 0 12 13\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M6 1.5V11.5\"\n      stroke=\"white\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M1 6.5H11\"\n      stroke=\"white\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n)\n\nreturn <ButtonPlusDefault\n  default\n  title={!context.accountId ? 'Connect wallet' : null}\n  onClick={!context.accountId ? null : onClick}\n>\n  {plusDefault}\n</ButtonPlusDefault>"
    },
    "src/widget/LayoutManager.Buttons.Plus": {
      "code": "const { widgets, onClick } = props\n\nconst ButtonPlus = styled.button`\n  position: absolute;\n  padding: 0;\n  display: flex;\n  box-sizing: border-box;\n  width: 22px;\n  height: 22px;\n  background-color: white;\n  border: 1px solid #384bff;\n  border-radius: 50%;\n  cursor: pointer;\n  z-index: 1081;\n  transition: all 0.2s;\n\n  &:hover {\n    background-color: rgba(208, 211, 255, 1);\n  }\n`\n\nconst plusIcon = (\n  <svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M11 6V16\" stroke=\"#384BFF\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M6 11H16\" stroke=\"#384BFF\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n)\n\nreturn (\n  <ButtonPlus\n    style={{\n      bottom: widgets && widgets.length ? '0' : '6px',\n      border: widgets && widgets.length ? '1px solid #384bff' : 'none',\n      backgroundColor: widgets && widgets.length ? '': 'white',\n    }}\n    onClick={onClick}\n  >\n    {plusIcon}\n  </ButtonPlus>\n)\n"
    },
    "src/widget/Paywall.Badge": {
      "code": "const { accountId } = props;\n\nconst iconPaywall = (\n    <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"28\"\n        height=\"28\"\n        viewBox=\"0 0 28 28\"\n        fill=\"none\"\n    >\n        <rect width=\"28\" height=\"28\" rx=\"14\" fill=\"#3D7FFF\" />\n        <path\n            d=\"M9.95298 6.27128C11.4575 6.27128 12.2098 6.94947 12.2098 8.30585V8.78059C12.6293 7.96676 13.1718 7.30363 13.8373 6.79122C14.5027 6.26374 15.2767 6 16.1591 6C16.9403 6 17.6203 6.21099 18.1989 6.63298C18.7776 7.03989 19.2188 7.61259 19.5226 8.35106C19.8409 9.07447 20 9.91844 20 10.883C20 11.9982 19.8409 13.0155 19.5226 13.9348C19.2188 14.8391 18.7993 15.6228 18.264 16.2859C17.7288 16.934 17.1284 17.4313 16.4629 17.7779C15.7975 18.1246 15.1103 18.2979 14.4014 18.2979C13.7071 18.2979 13.0561 18.117 12.4485 17.7553C11.8553 17.3936 11.3924 16.949 11.0597 16.4215L9.95298 23H8L10.2568 9.5492C10.3002 9.293 10.3219 9.082 10.3219 8.91622C10.3219 8.20789 9.96745 7.85372 9.25859 7.85372L9.95298 6.27128ZM14.2278 16.4894C14.9078 16.4894 15.5298 16.2633 16.094 15.8112C16.6727 15.344 17.1356 14.7035 17.4828 13.8896C17.83 13.0758 18.0036 12.1414 18.0036 11.0864C18.0036 10.0616 17.7794 9.25532 17.3309 8.66755C16.8825 8.06472 16.2966 7.7633 15.5732 7.7633C14.9946 7.7633 14.4376 7.95168 13.9024 8.32846C13.3816 8.70523 12.9331 9.23271 12.557 9.9109C12.1808 10.5891 11.9132 11.3879 11.7541 12.3072L11.3635 14.5904C11.6817 15.1933 12.094 15.6605 12.6004 15.992C13.1067 16.3236 13.6492 16.4894 14.2278 16.4894Z\"\n            fill=\"white\"\n        />\n    </svg>\n);\n\nconst LabelImage = styled.div`\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    position: absolute;\n    width: fit-content;\n    padding-right: 12px;\n    border-radius: 200px;\n    background: #fff;\n    height: 28px;\n    box-sizing: border-box;\n    bottom: 10px;\n    left: 10px;\n    box-shadow: 0px 3px 6px 0px rgba(24, 124, 205, 0.25),\n        0px 12px 12px 0px rgba(24, 124, 205, 0.21),\n        0px 26px 16px 0px rgba(24, 124, 205, 0.13),\n        0px 47px 19px 0px rgba(24, 124, 205, 0.04),\n        0px 73px 20px 0px rgba(24, 124, 205, 0);\n`;\n\nconst SpanLabel = styled.span`\n    display: inline-block;\n    color: #222;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-size: 10px;\n    opacity: 0.6;\n    font-weight: 400;\n    line-height: normal;\n    padding: 0 4px;\n    box-sizing: border-box;\n`;\nconst SpanAuthor = styled.span`\n    color: #3d7fff;\n    display: inline-block;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-size: 12px;\n    font-weight: 400;\n    line-height: normal;\n    text-decoration-line: underline;\n    box-sizing: border-box;\n`;\n\nreturn (\n    <LabelImage>\n        {iconPaywall}\n        {accountId ? (\n            <>\n                <SpanLabel>by</SpanLabel>\n                <SpanAuthor>{accountId}</SpanAuthor>\n            </>\n        ) : null}\n    </LabelImage>\n)"
    },
    "src/widget/ApplicationCard": {
      "code": "if (!props.src) return;\nconst [accountId, unused, widgetName] = props.src.split(\"/\");\nconst detailsUrl = `/near/widget/ComponentDetailsPage?src=${accountId}/widget/${widgetName}`;\nconst appUrl = `/${accountId}/widget/${widgetName}`;\nconst accountUrl = `/near/widget/ProfilePage?accountId=${accountId}`;\nconst metadata =\n  props.metadata ??\n  Social.get(`${accountId}/widget/${widgetName}/metadata/**`, \"final\") ??\n  {};\nconst Card = styled.div`\n  position: relative;\n  width: 100%;\n  border-radius: 10px;\n  background: #fff;\n  border: 1px solid #eceef0;\n  box-sizing: border-box;\n  font-family: sans-serif;\n  &:hover {\n    background: rgba(24, 121, 206, 0.1);\n  }\n`;\n\nconst CardBody = styled.div`\n  padding: 10px 6px;\n  display: flex;\n  gap: 6px;\n  align-items: center;\n\n  > * {\n    min-width: 0;\n  }\n`;\n\nconst CardContent = styled.div`\n  width: 100%;\n`;\n\nconst TextLink = styled.div`\n  display: block;\n  margin: 0;\n  font-size: 14px;\n  line-height: 18px;\n  color: ${(p) => (p.bold ? \"#11181C !important\" : \"#687076 !important\")};\n  font-weight: ${(p) => (p.bold ? \"600\" : \"400\")};\n  font-size: ${(p) => (p.small ? \"12px\" : \"14px\")};\n  overflow: ${(p) => (p.ellipsis ? \"hidden\" : \"visible\")};\n  text-overflow: ${(p) => (p.ellipsis ? \"ellipsis\" : \"unset\")};\n  white-space: nowrap;\n  outline: none;\n`;\n\nconst Text = styled.p`\n  margin: 0;\n  font-size: 14px;\n  line-height: 20px;\n  color: ${(p) => (p.bold ? \"#11181C\" : \"#687076\")};\n  font-weight: ${(p) => (p.bold ? \"600\" : \"400\")};\n  font-size: ${(p) => (p.small ? \"12px\" : \"14px\")};\n  overflow: ${(p) => (p.ellipsis ? \"hidden\" : \"\")};\n  text-overflow: ${(p) => (p.ellipsis ? \"ellipsis\" : \"\")};\n  white-space: nowrap;\n\n  i {\n    margin-right: 3px;\n  }\n`;\n\nconst Thumbnail = styled.div`\n  display: block;\n  width: 60px;\n  height: 60px;\n  flex-shrink: 0;\n  border: 1px solid #eceef0;\n  border-radius: 8px;\n  overflow: hidden;\n  outline: none;\n  transition: border-color 200ms;\n\n  &:focus,\n  &:hover {\n    border-color: #d0d5dd;\n  }\n\n  img {\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n  }\n`;\n\nconst ButtonLink = styled.button`\n  padding: 8px;\n  cursor: pointer;\n  text-decoration: none;\n  outline: none;\n  border: none;\n  background: inherit;\n  &:hover,\n  &:focus {\n    text-decoration: none;\n    outline: none;\n    border: none;\n    background: inherit;\n  }\n`;\n\nconst plus = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n  >\n    <rect\n      x=\"3.75\"\n      y=\"3.75\"\n      width=\"16.5\"\n      height=\"16.5\"\n      rx=\"3.25\"\n      stroke=\"#7A818B\"\n      stroke-width=\"1.5\"\n    />\n    <path\n      d=\"M12 8V16\"\n      stroke=\"#7A818B\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M8 12H16\"\n      stroke=\"#7A818B\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n);\n\nconst select = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"18\"\n    viewBox=\"0 0 18 18\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M3.75 0C2.75544 0 1.80161 0.395088 1.09835 1.09835C0.395088 1.80161 0 2.75544 0 3.75V14.25C0 15.2446 0.395088 16.1984 1.09835 16.9016C1.80161 17.6049 2.75544 18 3.75 18H14.25C15.2446 18 16.1984 17.6049 16.9016 16.9016C17.6049 16.1984 18 15.2446 18 14.25V3.75C18 2.75544 17.6049 1.80161 16.9016 1.09835C16.1984 0.395088 15.2446 0 14.25 0H3.75ZM13.281 7.281L8.031 12.531C7.96133 12.6008 7.87857 12.6563 7.78745 12.6941C7.69633 12.7319 7.59865 12.7513 7.5 12.7513C7.40135 12.7513 7.30367 12.7319 7.21255 12.6941C7.12143 12.6563 7.03867 12.6008 6.969 12.531L4.719 10.281C4.64927 10.2113 4.59395 10.1285 4.55621 10.0374C4.51848 9.94627 4.49905 9.84862 4.49905 9.75C4.49905 9.65138 4.51848 9.55373 4.55621 9.46262C4.59395 9.37152 4.64927 9.28873 4.719 9.219C4.85983 9.07817 5.05084 8.99905 5.25 8.99905C5.34862 8.99905 5.44627 9.01848 5.53738 9.05622C5.62848 9.09395 5.71127 9.14927 5.781 9.219L7.5 10.9395L12.219 6.219C12.3598 6.07817 12.5508 5.99905 12.75 5.99905C12.9492 5.99905 13.1402 6.07817 13.281 6.219C13.4218 6.35983 13.5009 6.55084 13.5009 6.75C13.5009 6.94916 13.4218 7.14017 13.281 7.281Z\"\n      fill=\"#19CEAE\"\n    />\n  </svg>\n);\n\nreturn (\n  <Card>\n    <CardBody>\n      <Thumbnail>\n        <Widget\n          src=\"mob.near/widget/Image\"\n          props={{\n            image: metadata.image,\n            fallbackUrl:\n              \"https://ipfs.near.social/ipfs/bafkreifc4burlk35hxom3klq4mysmslfirj7slueenbj7ddwg7pc6ixomu\",\n            alt: metadata.name,\n          }}\n        />\n      </Thumbnail>\n\n      <CardContent>\n        <TextLink bold ellipsis>\n          {metadata.name || widgetName}\n        </TextLink>\n\n        <TextLink small ellipsis>\n          @{accountId}\n        </TextLink>\n      </CardContent>\n      {!props.selectedApps ? (\n        <ButtonLink\n          onClick={() => props.handleEditMutationApps(props.src)}\n          primary\n        >\n          {plus}\n        </ButtonLink>\n      ) : (\n        <ButtonLink\n          onClick={() => props.handleEditMutationApps(props.src)}\n          primary\n        >\n          {select}\n        </ButtonLink>\n      )}\n    </CardBody>\n  </Card>\n);\n"
    },
    "src/widget/Paywall.Form": {
      "code": "const { linkId, CONTRACT_ADDRESS } = props\n\n/**\n * From near-api-js/packages/near-api-js/src/utils/format.ts\n */\nconst NEAR_NOMINATION_EXP = 24;\n\nfunction cleanupAmount(amount) {\n  return amount.replace(/,/g, '').trim();\n}\n\nfunction trimLeadingZeroes(value) {\n  value = value.replace(/^0+/, '');\n  if (value === '') {\n      return '0';\n  }\n  return value;\n}\n\nfunction parseNearAmount(amt) {\n  if (!amt) { return null; }\n  amt = cleanupAmount(amt);\n  const split = amt.split('.');\n  const wholePart = split[0];\n  const fracPart = split[1] || '';\n  if (split.length > 2 || fracPart.length > NEAR_NOMINATION_EXP) {\n      throw new Error(`Cannot parse '${amt}' as NEAR amount`);\n  }\n  return trimLeadingZeroes(wholePart + fracPart.padEnd(NEAR_NOMINATION_EXP, '0'));\n}\n/**\n * End\n */\n\nState.init({\n  img: null,\n  amount: null,\n  loading: false,\n});\n\nconst uploadFileUpdateState = (body) => {\n  asyncFetch(\"https://ipfs.near.social/add\", {\n    method: \"POST\",\n    headers: { Accept: \"application/json\" },\n    body,\n  }).then((res) => {\n    const cid = res.body.cid;\n    State.update({ img: { cid } });\n  });\n};\n\nconst filesOnChange = (files) => {\n  if (files) {\n    State.update({ img: { uploading: true, cid: null } });\n    uploadFileUpdateState(files[0]);\n  }\n};\n\nconst amountOnChange = ({ target }) => {\n   State.update({ amount: target.value.trim(), wrongPrice: false });\n};\n\nconst sendOnChange = () => {\n  if (!/^\\d+([.]\\d+)?$/g.test(state.amount)) {\n    State.update({ wrongPrice: true })\n  } else {\n    try {\n      State.update({ loading: true })\n      Near.call(\n        CONTRACT_ADDRESS,\n        \"add_paid_content\",\n        {\n          link: `https://ipfs.near.social/ipfs/${state.img.cid}`,\n          cost: parseNearAmount(state.amount),\n          context_id: linkId\n        }\n      );\n    } catch (err) {\n      console.error(err);\n      State.update({ loading: false })\n    }\n  }\n};\n\nconst cancelOnChange = () => {\n  State.update({\n    img: null,\n    amount: null,\n  });\n};\n\nconst iconBtnUpload = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\"\n      stroke=\"white\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M17 8L12 3L7 8\"\n      stroke=\"white\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M12 3V15\"\n      stroke=\"white\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n);\n\nconst WrapperWidget = styled.div`\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  min-width: 350px;\n  max-width: 780px;\n  width: 100%;\n  padding: 10px;\n  border-radius: 16px;\n  box-sizing: border-box;\n  border: 1px solid #8899a6;\n  background: #fff;\n\n  .ButtonUpload {\n    cursor: pointer;\n    border-radius: 4px;\n    background: #3d7fff;\n    box-sizing: border-box;\n    width: 128px;\n    height: 44px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 6px;\n    color: #fff;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-size: 14px;\n    font-weight: 400;\n    line-height: normal;\n    &:hover {\n      opacity: 0.5;\n    }\n  }\n`;\n\nconst Title = styled.div`\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  color: #222;\n  font-size: 18px;\n  font-weight: 700;\n  line-height: normal;\n  padding-bottom: 10px;\n`;\n\nconst InputsBlock = styled.div`\n  border-radius: 4px;\n  border: 1px solid #c1c6ce;\n  padding: 10px;\n  margin-bottom: 14px;\n  box-sizing: border-box;\n  position: relative;\n`;\n\nconst UploadBlocker = styled.div`\n  position: absolute;\n  width: calc(100% - 16px);\n  height: 50px;\n  background: white;\n  opacity: .5;\n  top: 8px;\n  left: 8px;\n`;\n\nconst UploadBlock = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 14px;\n  box-sizing: border-box;\n`;\n\nconst FileInput = styled.input`\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  border-radius: 4px;\n  background: #e7ecef;\n  display: flex;\n  height: 44px;\n  padding: 10px;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: normal;\n  color: #222;\n  border: none;\n  outline: none;\n  box-sizing: border-box;\n  flex-grow: 1;\n  margin-right: 8px;\n`;\n\nconst BlockAmount = styled.div`\n  .default {\n    border-radius: 4px;\n    border: 1px solid #c1c6ce;\n    background: #fff;\n\n    display: flex;\n    height: 44px;\n    padding: 4px 10px;\n    flex-direction: column;\n    box-sizing: border-box;\n  }\n\n  .error {\n    border-color: red;\n  }\n`;\n\nconst LabelAmount = styled.div`\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  color: #919191;\n  font-size: 12px;\n  font-weight: 400;\n  line-height: normal;\n`;\n\nconst InputAmount = styled.input`\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  color: #222;\n  font-size: 14px;\n  background: #fff;\n  font-weight: 400;\n  line-height: normal;\n  border: none;\n  outline: none;\n  height: 16px;\n  box-sizing: border-box;\n  &:disabled {\n    color: #919191;\n  }\n`;\n\nconst WrongAmountMessage = styled.div`\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  color: red;\n  padding: 8px 8px 0 12px;\n  font-size: 14px;\n`;\n\nconst ButtonsBlock = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 10px;\n  box-sizing: border-box;\n`;\n\nconst ButtonCancel = styled.button`\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  border-radius: 4px;\n  display: flex;\n  background: #c1c6ce;\n  border: none;\n  outline: none;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n  font-size: 14px;\n  max-width: 230px;\n  width: 100%;\n  height: 44px;\n  font-weight: 400;\n  line-height: 149%;\n  box-sizing: border-box;\n  margin: 0 4px;\n  cursor: pointer;\n\n  &:disabled {\n    background: #dbdfe5 !important;\n    cursor: default;\n  }\n\n  &:hover {\n    background: #a9aeb5;\n  }\n`;\n\nconst ButtonSend = styled.button`\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  border-radius: 4px;\n  display: flex;\n  background: #3d7fff;\n  border: none;\n  outline: none;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n  font-size: 14px;\n  max-width: 230px;\n  width: 100%;\n  height: 44px;\n  font-weight: 400;\n  line-height: 149%;\n  box-sizing: border-box;\n  margin: 0 4px;\n  cursor: pointer;\n\n  &:disabled {\n    background: #8db4ff !important;\n    cursor: default;\n  }\n\n  &:hover {\n    background: #2564df;\n  }\n`;\n\nconst Loader = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20px\"\n    height=\"20px\"\n    viewBox=\"0 0 100 100\"\n    preserveAspectRatio=\"xMidYMid\"\n  >\n    <circle\n      cx=\"50\"\n      cy=\"50\"\n      fill=\"none\"\n      stroke=\"#ffffff\"\n      strokeWidth=\"10\"\n      r=\"35\"\n      strokeDasharray=\"164.93361431346415 56.97787143782138\"\n    >\n      <animateTransform\n        attributeName=\"transform\"\n        type=\"rotate\"\n        repeatCount=\"indefinite\"\n        dur=\"1s\"\n        values=\"0 50 50;360 50 50\"\n        keyTimes=\"0;1\"\n      ></animateTransform>\n    </circle>\n  </svg>\n);\n\nreturn (\n  <WrapperWidget>\n    <Title>Configure your content</Title>\n    <InputsBlock>\n      <UploadBlocker style={{ display: state.loading ? 'block' : 'none'}} />\n      <UploadBlock>\n        <FileInput readOnly value={state.img.cid ? state.img.cid : \"\"} />\n\n        <Files\n          multiple={false}\n          accepts={[\"image/*\"]}\n          minFileSize={1}\n          clickable\n          className=\"ButtonUpload\"\n          onChange={filesOnChange}\n        >\n          {iconBtnUpload}\n          {state.img?.uploading ? <> Uploading </> : \"Upload image\"}\n        </Files>\n      </UploadBlock>\n\n      <BlockAmount>\n        <div className={state.wrongPrice? \"default error\" : \"default\"}>\n          <LabelAmount>Price (NEAR)</LabelAmount>\n          <InputAmount\n            value={state.amount || \"\"}\n            onChange={amountOnChange}\n            disabled={state.loading}\n          />\n        </div>\n      </BlockAmount>\n      {state.wrongPrice\n        ? (<WrongAmountMessage>\n          The price must consist only of numbers separated by \".\"\n          </WrongAmountMessage>)\n        : null}\n    </InputsBlock>\n    <ButtonsBlock>\n      <ButtonCancel\n        onClick={cancelOnChange}\n        disabled={!state.img && !state.amount || state.loading}\n      >\n        Clear\n      </ButtonCancel>\n      <ButtonSend\n        onClick={sendOnChange}\n        disabled={!state.img || !state.amount || state.wrongPrice || state.loading}\n      >\n        {state.loading ? <Loader /> : \"Add\"}\n      </ButtonSend>\n    </ButtonsBlock>\n  </WrapperWidget>\n);\n"
    },
    "src/widget/PaywallUploadWidget": {
      "code": "State.init({\n  img: null,\n  isUpload: false,\n  amount: 1,\n});\nconst uploadFileUpdateState = (body) => {\n  asyncFetch(\"https://ipfs.near.social/add\", {\n    method: \"POST\",\n    headers: { Accept: \"application/json\" },\n    body,\n  }).then((res) => {\n    const cid = res.body.cid;\n    State.update({ img: { cid } });\n  });\n};\n\nconst filesOnChange = (files) => {\n  if (files) {\n    State.update({ img: { uploading: true, cid: null } });\n    uploadFileUpdateState(files[0]);\n  }\n};\n\nconst amountOnChange = ({ target }) => {\n  State.update({ amount: target.value });\n};\n\nconst sendOnChange = () => {\n  State.update({\n    isUpload: true,\n  });\n};\n\nconst cancelOnChange = () => {\n  State.update({\n    img: null,\n    isUpload: false,\n    amount: 1,\n  });\n};\nconst iconBtnUpload = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\"\n      stroke=\"white\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M17 8L12 3L7 8\"\n      stroke=\"white\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M12 3V15\"\n      stroke=\"white\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n);\n\nconst iconPaywall = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"28\"\n    height=\"28\"\n    viewBox=\"0 0 28 28\"\n    fill=\"none\"\n  >\n    <rect width=\"28\" height=\"28\" rx=\"14\" fill=\"#3D7FFF\" />\n    <path\n      d=\"M9.95298 6.27128C11.4575 6.27128 12.2098 6.94947 12.2098 8.30585V8.78059C12.6293 7.96676 13.1718 7.30363 13.8373 6.79122C14.5027 6.26374 15.2767 6 16.1591 6C16.9403 6 17.6203 6.21099 18.1989 6.63298C18.7776 7.03989 19.2188 7.61259 19.5226 8.35106C19.8409 9.07447 20 9.91844 20 10.883C20 11.9982 19.8409 13.0155 19.5226 13.9348C19.2188 14.8391 18.7993 15.6228 18.264 16.2859C17.7288 16.934 17.1284 17.4313 16.4629 17.7779C15.7975 18.1246 15.1103 18.2979 14.4014 18.2979C13.7071 18.2979 13.0561 18.117 12.4485 17.7553C11.8553 17.3936 11.3924 16.949 11.0597 16.4215L9.95298 23H8L10.2568 9.5492C10.3002 9.293 10.3219 9.082 10.3219 8.91622C10.3219 8.20789 9.96745 7.85372 9.25859 7.85372L9.95298 6.27128ZM14.2278 16.4894C14.9078 16.4894 15.5298 16.2633 16.094 15.8112C16.6727 15.344 17.1356 14.7035 17.4828 13.8896C17.83 13.0758 18.0036 12.1414 18.0036 11.0864C18.0036 10.0616 17.7794 9.25532 17.3309 8.66755C16.8825 8.06472 16.2966 7.7633 15.5732 7.7633C14.9946 7.7633 14.4376 7.95168 13.9024 8.32846C13.3816 8.70523 12.9331 9.23271 12.557 9.9109C12.1808 10.5891 11.9132 11.3879 11.7541 12.3072L11.3635 14.5904C11.6817 15.1933 12.094 15.6605 12.6004 15.992C13.1067 16.3236 13.6492 16.4894 14.2278 16.4894Z\"\n      fill=\"white\"\n    />\n  </svg>\n);\n\nconst WrapperWidget = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 509px;\n  padding: 10px;\n  height: 247px;\n  border-radius: 16px;\n  border: 1px solid #8899a6;\n  background: #fff;\n  box-sizing: border-box;\n  .ButtonUpload {\n    cursor: pointer;\n    border-radius: 4px;\n    background: #3d7fff;\n    box-sizing: border-box;\n    width: 128px;\n    height: 44px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 6px;\n    color: #fff;\n    font-family: Roboto;\n    font-size: 14px;\n    font-weight: 400;\n    line-height: normal;\n    &:hover {\n      opacity: 0.5;\n    }\n  }\n`;\n\nconst Title = styled.div`\n  color: #222;\n  font-family: Roboto;\n  font-size: 18px;\n  font-weight: 700;\n  line-height: normal;\n  padding-bottom: 10px;\n`;\n\nconst InputsBlock = styled.div`\n  border-radius: 4px;\n  border: 1px solid #c1c6ce;\n  padding: 10px;\n  width: 489px;\n  height: 142px;\n  margin-bottom: 14px;\n  box-sizing: border-box;\n`;\n\nconst UploadBlock = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 14px;\n  box-sizing: border-box;\n`;\n\nconst FileInput = styled.input`\n  border-radius: 4px;\n  background: #e7ecef;\n  display: flex;\n  height: 44px;\n  padding: 10px;\n  width: 331px;\n  font-family: Roboto;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: normal;\n  color: #222;\n  border: none;\n  outline: none;\n  box-sizing: border-box;\n`;\n\nconst BlockAmount = styled.div`\n  border-radius: 4px;\n  border: 1px solid #c1c6ce;\n  background: #fff;\n\n  display: flex;\n  height: 44px;\n  padding: 4px 10px;\n  width: 469px;\n  flex-direction: column;\n  box-sizing: border-box;\n`;\nconst LabelAmount = styled.div`\n  color: #919191;\n  font-family: Roboto;\n  font-size: 12px;\n  font-weight: 400;\n  line-height: normal;\n`;\nconst ButtonsBlock = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 10px;\n  width: 489px;\n  box-sizing: border-box;\n`;\n\nconst InputAmount = styled.input`\n  color: #222;\n  font-family: Roboto;\n  font-size: 14px;\n  background: #fff;\n  font-weight: 400;\n  line-height: normal;\n  border: none;\n  outline: none;\n  width: 449px;\n  height: 16px;\n  box-sizing: border-box;\n`;\n\nconst ButtonCancel = styled.button`\n  border-radius: 4px;\n  display: flex;\n  background: #c1c6ce;\n  border: none;\n  outline: none;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n  font-family: Roboto;\n  font-size: 14px;\n  width: 230px;\n  height: 44px;\n  font-weight: 400;\n  line-height: 149%;\n  box-sizing: border-box;\n  &:hover {\n    opacity: 0.3;\n  }\n`;\nconst ButtonSend = styled.button`\n  border-radius: 4px;\n  display: flex;\n  background: #3d7fff;\n  border: none;\n  outline: none;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n  font-family: Roboto;\n  font-size: 14px;\n  width: 230px;\n  height: 44px;\n  font-weight: 400;\n  line-height: 149%;\n  box-sizing: border-box;\n  &:hover {\n    opacity: 0.5;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n  }\n`;\n\nconst WrapperImage = styled.div`\n  display: flex;\n  width: 509px;\n  justify-content: center;\n  align-items: center;\n  height: auto;\n  position: relative;\n  box-sizing: border-box;\n`;\n\nconst LabelImage = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  position: absolute;\n  border-radius: 200px;\n  background: #fff;\n  min-width: 132px;\n  height: 28px;\n  box-sizing: border-box;\n  bottom: 10px;\n  left: 10px;\n  box-shadow: 0px 3px 6px 0px rgba(24, 124, 205, 0.25),\n    0px 12px 12px 0px rgba(24, 124, 205, 0.21),\n    0px 26px 16px 0px rgba(24, 124, 205, 0.13),\n    0px 47px 19px 0px rgba(24, 124, 205, 0.04),\n    0px 73px 20px 0px rgba(24, 124, 205, 0);\n`;\n\nconst SpanLabel = styled.span`\n  display: inline-block;\n  color: #222;\n  font-family: Roboto;\n  font-size: 10px;\n  opacity: 0.6;\n  font-weight: 400;\n  line-height: normal;\n  padding: 0 4px;\n  box-sizing: border-box;\n`;\nconst SpanAuthor = styled.span`\n  color: #3d7fff;\n  display: inline-block;\n  font-family: Roboto;\n  font-size: 12px;\n  font-weight: 400;\n  line-height: normal;\n  text-decoration-line: underline;\n  box-sizing: border-box;\n`;\n\nreturn (\n  <>\n    {state.img.cid && state.isUpload ? (\n      <WrapperImage>\n        <LabelImage>\n          {iconPaywall}\n          <SpanLabel>by</SpanLabel>\n          <SpanAuthor>mocked.near</SpanAuthor>\n        </LabelImage>\n        <img\n          src={`https://ipfs.near.social/ipfs/${state.img.cid}`}\n          alt=\"uploaded\"\n        />\n      </WrapperImage>\n    ) : (\n      <WrapperWidget>\n        <Title>Configure your content</Title>\n        <InputsBlock>\n          <UploadBlock>\n            <FileInput readOnly value={state.img.cid ? state.img.cid : \"\"} />\n\n            <Files\n              multiple={false}\n              accepts={[\"image/*\"]}\n              minFileSize={1}\n              clickable\n              className=\"ButtonUpload\"\n              onChange={filesOnChange}\n            >\n              {iconBtnUpload}\n              {state.img?.uploading ? <> Uploading </> : \"Upload image\"}\n            </Files>\n          </UploadBlock>\n\n          <BlockAmount>\n            <LabelAmount>Amount (NEAR)</LabelAmount>\n            <InputAmount\n              value={state.amount ? state.amount : \"\"}\n              onChange={amountOnChange}\n            />\n          </BlockAmount>\n        </InputsBlock>\n        <ButtonsBlock>\n          <ButtonCancel onClick={cancelOnChange}>Cancel</ButtonCancel>\n          <ButtonSend\n            onClick={sendOnChange}\n            disabled={!state.img || !state.amount}\n          >\n            Send\n          </ButtonSend>\n        </ButtonsBlock>\n      </WrapperWidget>\n    )}\n  </>\n);\n"
    },
    "src/widget/RedContainer": {
      "code": "const Wrapper = styled.div`\n  padding: 4px;\n  border: 1px solid #f00;\n  display: flex;\n`;\n\nif (!props.widgets || props.widgets.length === 0) return <></>;\n\nreturn (\n  <Wrapper>\n    {props.widgets.map((widget, i) => (\n      <Widget key={i} src={widget.src} props={widget.props} />\n    ))}\n  </Wrapper>\n);\n"
    },
    "src/widget/ContextActionsGroup": {
      "code": "const widgets = props.widgets ?? [];\nconst apps = props.apps ?? [];\nconst {\n  context,\n  isEditMode,\n  createUserLink,\n  deleteUserLink,\n  enableEditMode,\n  disableEditMode,\n} = props;\n\nState.init({\n  show: false,\n  showMenu: false,\n  waitingAppIdsSet: new Set(),\n});\n\nconst handleOnMouseEnter = () => State.update({ show: true });\n\nconst handleOnMouseLeave = () => {\n  state.showMenu ? null : isEditMode ? null : State.update({ show: false });\n};\n\nconst handleOpenMenu = () => State.update({ showMenu: true, show: false });\n\nconst handleCloseMenu = () => State.update({ showMenu: false, show: false });\n\nconst handleSelectComponent = (app) => {\n  State.update({ waitingAppIdsSet: state.waitingAppIdsSet.add(app.id) });\n  createUserLink(app.id)\n    .then(() => {\n      const waitingAppIdsSet = state.waitingAppIdsSet;\n      waitingAppIdsSet.delete(app.id);\n      State.update({ waitingAppIdsSet });\n    })\n    .catch(() => {\n      const waitingAppIdsSet = state.waitingAppIdsSet;\n      waitingAppIdsSet.delete(app.id);\n      State.update({ waitingAppIdsSet });\n    });\n};\n\nconst OverlayTriggerWrapper = styled.div`\n  display: flex;\n  z-index: 500;\n`;\n\nconst FloatingModal = styled.div`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  animation: falling-animation 0.3s linear forwards;\n  translate: all ease 0.2s;\n  @keyframes falling-animation {\n    from {\n      transform: translate(-50%, -200%);\n    }\n\n    to {\n      transform: translate(-50%, -50%);\n    }\n  }\n`;\n\nreturn (\n  <OverlayTriggerWrapper onMouseOver={handleOnMouseEnter}>\n    <Widget\n      loading={<></>}\n      src=\"bos.dapplets.near/widget/LayoutManager.TriggerEar\"\n      props={{ show: state.show, context }}\n    />\n    {state.show ? (\n      <Widget\n        loading={<></>}\n        props={{\n          widgets,\n          isEditMode,\n          enableEditMode,\n          disableEditMode,\n          handleOpenMenu,\n          handleOnMouseLeave,\n          deleteUserLink,\n        }}\n        src=\"bos.dapplets.near/widget/LayoutManager.EarOpened\"\n      />\n    ) : null}\n\n    {state.showMenu ? (\n      <DappletOverlay>\n        <FloatingModal>\n          <Widget\n            loading={<></>}\n            props={{\n              handleCloseMenu,\n              onSelect: handleSelectComponent,\n              apps,\n              waitingAppIdsSet: state.waitingAppIdsSet,\n            }}\n            src=\"bos.dapplets.near/widget/ComponentsSearch\"\n          />\n        </FloatingModal>\n      </DappletOverlay>\n    ) : null}\n  </OverlayTriggerWrapper>\n);\n"
    },
    "src/widget/Dog": {
      "code": "return (\n  <svg\n    width=\"30px\"\n    height=\"30px\"\n    viewBox=\"0 0 64 64\"\n    aria-hidden=\"true\"\n    role=\"img\"\n    preserveAspectRatio=\"xMidYMid meet\"\n  >\n    <path\n      d=\"M15.8 52.1C9 47.7 6.3 30.6 8.5 22.9c1.6-5.8 7.8-14.3 13.4-16.5c4.7-1.9 15.5-1.9 20.1 0c5.6 2.2 11.8 10.7 13.4 16.5c2.2 7.8.5 24.8-6.2 29.2c-14.2 9.2-19.2 9.2-33.4 0\"\n      fill=\"#f5d1ac\"\n    ></path>\n\n    <path\n      d=\"M5.1 24.7c3.6 7.9 4.5 8.2 7.9-1.2c1.8-5 .5-8 2.7-11.2c1.2-1.8 3.9-4.8 3.9-4.8S-1.7 9.7 5.1 24.7\"\n      fill=\"#423223\"\n    ></path>\n\n    <path\n      d=\"M14.2 7.2c-5.4 3.5-16.9 2.1-10.1 17c3.6 7.9 4.5 8.2 7.9-1.2c1.8-5 .5-8 2.7-11.2c1.2-1.8 4.9-4.3 4.9-4.3s-1.7-2.7-5.4-.3\"\n      fill=\"#947151\"\n    ></path>\n\n    <path\n      d=\"M58.9 24.6c-3.6 7.9-4.5 8.2-7.9-1.2c-1.8-5-.5-8-2.7-11.2c-1.2-1.8-3.9-4.8-3.9-4.8s21.3 2.3 14.5 17.2\"\n      fill=\"#423223\"\n    ></path>\n\n    <path\n      d=\"M49.8 7.2c5.4 3.5 16.9 2.1 10.1 17c-3.6 7.9-4.5 8.2-7.9-1.2c-1.8-5-.5-8-2.7-11.2c-1.2-1.8-4.9-4.3-4.9-4.3s1.7-2.7 5.4-.3\"\n      fill=\"#947151\"\n    ></path>\n\n    <circle cx=\"17.7\" cy=\"30.7\" fill=\"#ffffff\" r=\"6\"></circle>\n\n    <circle cx=\"16.2\" cy=\"30.7\" fill=\"#3e4347\" r=\"4.5\"></circle>\n\n    <circle cx=\"46.3\" cy=\"30.7\" fill=\"#ffffff\" r=\"6\"></circle>\n\n    <circle cx=\"47.8\" cy=\"30.7\" fill=\"#3e4347\" r=\"4.5\"></circle>\n\n    <path\n      d=\"M21.7 48.8l4.6 4.9c2.8 2.9 8.5 2.9 11.3 0l4.7-4.9l-4.8-5h-11l-4.8 5\"\n      fill=\"#7d644b\"\n    ></path>\n\n    <path\n      d=\"M32 39.6s-4.9 7-4.3 10.3c.8 4.8 7.7 4.8 8.6 0c.6-3.3-4.3-10.3-4.3-10.3\"\n      fill=\"#f15a61\"\n    ></path>\n\n    <path d=\"M32 51.7l1.1-6.7h-2.2l1.1 6.7\" fill=\"#ba454b\"></path>\n\n    <path fill=\"#423223\" d=\"M27 41.5h10v4.6H27z\"></path>\n\n    <path\n      d=\"M47.8 42.6l-7.1-7.5c-4.3-4.5-13.1-4.5-17.4 0l-7.1 7.5c-2 2.1-2 5.6 0 7.7c2 2.1 5.3 2.1 7.3 0l7.1-7.5c.7-.7 2-.7 2.7 0l7.1 7.5c2 2.1 5.3 2.1 7.3 0c2.2-2.1 2.2-5.6.1-7.7\"\n      fill=\"#947151\"\n    ></path>\n\n    <g fill=\"#3e4347\">\n      <path d=\"M26.1 35.7c0-2.6 2.6-3.1 5.9-3.1c3.3 0 5.9.5 5.9 3.1c0 2.1-4.7 3.9-5.9 3.9c-1.2 0-5.9-1.9-5.9-3.9\"></path>\n\n      <path d=\"M23.31 39.012l.989-.992l.991.989l-.989.991z\"></path>\n\n      <path d=\"M20.947 41.811l.989-.991l.99.989l-.988.99z\"></path>\n\n      <path d=\"M24.125 42.763l.989-.991l.991.988l-.988.992z\"></path>\n\n      <path d=\"M38.703 38.988l.992-.988l.988.991l-.991.989z\"></path>\n\n      <path d=\"M41.128 41.762l.992-.989l.988.991l-.991.989z\"></path>\n\n      <path d=\"M37.947 42.811l.991-.988l.989.99l-.991.99z\"></path>\n    </g>\n  </svg>\n);\n"
    },
    "src/widget/VerticalLayoutManager": {
      "code": "if (\n  (!props.widgets || props.widgets.length === 0) &&\n  (!props.components || props.components.length === 0)\n) return <></>;\n\nconst [waitingAppIdsSet, changeWaitingAppIdsSet] = useState(new Set())\n\nconst handleRemoveWidget = (linkId) => {\n  changeWaitingAppIdsSet((val) => val.add(linkId));\n  const callback = () => {\n    waitingAppIdsSet.delete(linkId)\n    changeWaitingAppIdsSet((val) => {\n      val.delete(linkId)\n      return val\n    });\n  }\n  props.deleteUserLink(linkId).then(callback).catch(callback);\n}\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 12px;\n  gap: 10px;\n`;\n\nconst WidgetWrapper = styled.div`\n  position: relative;\n`;\n\nconst WidgetBadgeWrapper = styled.div`\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 1200;\n  background: rgba(255, 255, 255, 0.35);\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4%;\n  backdrop-filter: blur(1px);\n`;\n\nreturn (\n  <Container id='vertical-layout-manager'>\n    {props.widgets\n      .filter((w) => w.isSuitable === undefined || w.isSuitable === true)\n      .map((widget) => (\n        <WidgetWrapper key={widget.linkId}>\n          {props.isEditMode ? (\n            <WidgetBadgeWrapper\n              title={\n                widget.linkAuthorId === context.accountId\n                  ? `Remove ${widget.src.split(\"widget/\").pop()}`\n                  : \"disable in edit mode\"\n              }\n              style={{\n                opacity: widget.linkAuthorId === context.accountId ? \"1\" : \"0\",\n              }}\n            >\n              {widget.linkAuthorId === context.accountId ? waitingAppIdsSet.has(widget.linkId) ? (\n                <span role=\"status\" aria-hidden=\"true\" class=\"spinner-grow spinner-grow-sm\" />\n              ) : (\n                <Widget\n                  loading={<></>}\n                  src=\"bos.dapplets.near/widget/LayoutManager.DeleteWidgetButton\"\n                  props={{\n                    onClick: () => handleRemoveWidget(widget.linkId),\n                  }}\n                />\n              ) : null}\n            </WidgetBadgeWrapper>\n          ) : null}\n          <div\n            data-mweb-context-type=\"injected-widget\"\n            data-mweb-context-parsed={JSON.stringify({\n              id: `${props.context.id}/${widget.linkId}`,\n              parentContextId: props.context.id,\n              widgetSrc: widget.src,\n            })}\n          >\n            <Widget loading={<></>} src={widget.src} props={widget.props} />\n            <div\n              data-mweb-insertion-point=\"hidden\"\n              style={{ display: \"none\" }}\n            />\n          </div>\n        </WidgetWrapper>\n      ))}\n\n      {props.components\n        ? props.components.map((cmp, i) => {\n            const WrapperComponent = cmp.component;\n            return (\n              <WidgetWrapper key={i}>\n                <WrapperComponent\n                  context={props.context}\n                  attachContextRef={props.attachContextRef}\n                  attachInsPointRef={props.attachInsPointRef}\n                />\n              </WidgetWrapper>\n            );\n          })\n        : null}\n  </Container>\n);\n"
    },
    "src/widget/DefaultLayoutManager": {
      "code": "if (\n  (!props.widgets || props.widgets.length === 0) &&\n  (!props.components || props.components.length === 0)\n)\n  return <></>;\n\nconst [waitingAppIdsSet, changeWaitingAppIdsSet] = useState(new Set());\n\nconst handleRemoveWidget = (linkId) => {\n  changeWaitingAppIdsSet((val) => val.add(linkId));\n  const callback = () => {\n    waitingAppIdsSet.delete(linkId);\n    changeWaitingAppIdsSet((val) => {\n      val.delete(linkId);\n      return val;\n    });\n  };\n  props.deleteUserLink(linkId).then(callback).catch(callback);\n};\n\nconst Container = styled.div`\n  display: flex;\n  gap: 8px;\n  margin-left: 8px;\n`;\n\nconst WidgetWrapper = styled.div`\n  max-width: 100%;\n  min-width: 18px;\n  position: relative;\n`;\n\nconst WidgetBadgeWrapper = styled.div`\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  z-index: 1200;\n  background: rgba(255, 255, 255, 0.35);\n  width: 100%;\n  height: 100%;\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  justify-content: center;\n  border-radius: 4%;\n  backdrop-filter: blur(0.5px);\n  div {\n    padding: 2px;\n  }\n`;\n\nreturn (\n  <Container id='default-layout-manager'>\n    {props.widgets\n      .filter((w) => w.isSuitable === undefined || w.isSuitable === true)\n      .map((widget) => (\n        <WidgetWrapper key={widget.linkId}>\n          {props.isEditMode ? (\n            <WidgetBadgeWrapper\n              title={\n                widget.linkAuthorId === context.accountId\n                  ? `Remove ${widget.src.split(\"widget/\").pop()} injected by ${\n                      widget.linkAuthorId\n                    } (link ID: ${widget.linkId})`\n                  : \"disable in edit mode \"\n              }\n              style={{\n                opacity: widget.linkAuthorId === context.accountId ? \"1\" : \"0\",\n              }}\n            >\n              {widget.linkAuthorId === context.accountId ? (\n                waitingAppIdsSet.has(widget.linkId) ? (\n                  <span\n                    role=\"status\"\n                    aria-hidden=\"true\"\n                    class=\"spinner-grow spinner-grow-sm\"\n                  />\n                ) : (\n                  <Widget\n                    src=\"bos.dapplets.near/widget/LayoutManager.DeleteWidgetButton\"\n                    props={{\n                      onClick: () => handleRemoveWidget(widget.linkId),\n                    }}\n                    loading={<></>}\n                  />\n                )\n              ) : null}\n            </WidgetBadgeWrapper>\n          ) : null}\n          <div\n            data-mweb-context-type=\"injected-widget\"\n            data-mweb-context-parsed={JSON.stringify({\n              id: `${props.context.id}/${widget.linkId}`,\n              parentContextId: props.context.id,\n              widgetSrc: widget.src,\n            })}\n          >\n            <Widget src={widget.src} props={widget.props} loading={<></>} />\n            <div\n              data-mweb-insertion-point=\"hidden\"\n              style={{ display: \"none\" }}\n            />\n          </div>\n        </WidgetWrapper>\n      ))}\n\n    {props.components\n      ? props.components.map((cmp, i) => {\n          const WrapperComponent = cmp.component;\n          return (\n            <WidgetWrapper key={i}>\n              <WrapperComponent\n                context={props.context}\n                attachContextRef={props.attachContextRef}\n                attachInsPointRef={props.attachInsPointRef}\n              />\n            </WidgetWrapper>\n          );\n        })\n      : null}\n  </Container>\n);\n"
    },
    "src/widget/N.DislikeButton": {
      "code": "const item = props.item;\n\nif (!item) {\n  return \"\";\n}\n\nuseEffect(() => {\n  State.update({ hasDislike: null });\n}, [item]);\n\nconst dislikes = Social.index(\"dislike\", item);\n\nconst dataLoading = dislikes === null;\n\nconst dislikesByUsers = {};\n\n(dislikes || []).forEach((dislike) => {\n  if (dislike.value.type === \"dislike\") {\n    dislikesByUsers[dislike.accountId] = dislike;\n  } else if (dislike.value.type === \"undislike\") {\n    delete dislikesByUsers[dislike.accountId];\n  }\n});\nif (state.hasDislike === true) {\n  dislikesByUsers[context.accountId] = {\n    accountId: context.accountId,\n  };\n} else if (state.hasDislike === false) {\n  delete dislikesByUsers[context.accountId];\n}\n\nconst accountsWithDislikes = Object.keys(dislikesByUsers);\nconst dislikeCount = accountsWithDislikes.length;\nconst hasDislike = context.accountId && !!dislikesByUsers[context.accountId];\n\nconst heartSvg = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    class=\"icon icon-tabler icon-tabler-thumb-down\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    stroke-width=\"2\"\n    stroke=\"currentColor\"\n    fill=\"none\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  >\n    <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"></path>\n    <path d=\"M7 13v-8a1 1 0 0 0 -1 -1h-2a1 1 0 0 0 -1 1v7a1 1 0 0 0 1 1h3a4 4 0 0 1 4 4v1a2 2 0 0 0 4 0v-5h3a2 2 0 0 0 2 -2l-1 -5a2 3 0 0 0 -2 -2h-7a3 3 0 0 0 -3 3\"></path>\n  </svg>\n);\n\nconst heartFillSvg = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    class=\"icon icon-tabler icon-tabler-thumb-down-filled\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    stroke-width=\"2\"\n    stroke=\"currentColor\"\n    fill=\"none\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  >\n    <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"></path>\n    <path\n      d=\"M13 21.008a3 3 0 0 0 2.995 -2.823l.005 -.177v-4h2a3 3 0 0 0 2.98 -2.65l.015 -.173l.005 -.177l-.02 -.196l-1.006 -5.032c-.381 -1.625 -1.502 -2.796 -2.81 -2.78l-.164 .008h-8a1 1 0 0 0 -.993 .884l-.007 .116l.001 9.536a1 1 0 0 0 .5 .866a2.998 2.998 0 0 1 1.492 2.396l.007 .202v1a3 3 0 0 0 3 3z\"\n      stroke-width=\"0\"\n      fill=\"currentColor\"\n    ></path>\n    <path\n      d=\"M5 14.008a1 1 0 0 0 .993 -.883l.007 -.117v-9a1 1 0 0 0 -.883 -.993l-.117 -.007h-1a2 2 0 0 0 -1.995 1.852l-.005 .15v7a2 2 0 0 0 1.85 1.994l.15 .005h1z\"\n      stroke-width=\"0\"\n      fill=\"currentColor\"\n    ></path>\n  </svg>\n);\n\nconst DislikeButton = styled.div`\n  line-height: 20px;\n  min-height: 20px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: left;\n  background: inherit;\n  color: inherit;\n  font-size: 16px;\n  .icon {\n    position: relative;\n    &:before {\n      margin: -8px;\n      content: \"\";\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n      border-radius: 50%;\n    }\n  }\n\n  .count {\n    margin-left: 8px;\n  }\n\n  &:not([disabled]) {\n    cursor: pointer;\n  }\n\n  &:not([disabled]):hover {\n    opacity: 1 !important;\n    color: red;\n\n    .icon:before {\n      background: rgba(255, 0, 0, 0.1);\n    }\n  }\n  .disliked {\n    color: red;\n  }\n\n  .loading {\n    @keyframes scaleAnimation {\n     0%, 100% {\n        transform: scale(1) rotate(0deg);\n      }\n      25% {\n        transform: scale(1.2) rotate(-15deg);\n      }\n      50% {\n        transform: scale(1) rotate(0deg);\n      }\n      75% {\n        transform: scale(1.2) rotate(15deg);\n      }\n    }\n\n    transform-origin: center;\n    animation: scaleAnimation 1s ease-in-out infinite;\n  }\n`;\n\nconst dislikeClick = () => {\n  if (state.loading || dataLoading || !context.accountId) {\n    return;\n  }\n  State.update({\n    loading: true,\n  });\n  const data = {\n    index: {\n      dislike: JSON.stringify({\n        key: item,\n        value: {\n          type: hasDislike ? \"undislike\" : \"dislike\",\n        },\n      }),\n    },\n  };\n\n  if (!hasDislike && props.notifyAccountId) {\n    data.index.notify = JSON.stringify({\n      key: props.notifyAccountId,\n      value: {\n        type: \"dislike\",\n        item,\n      },\n    });\n  }\n  Social.set(data, {\n    onCommit: () => State.update({ loading: false, hasDislike: !hasDislike }),\n    onCancel: () => State.update({ loading: false }),\n  });\n};\n\nconst title = hasDislike ? \"Undislike\" : \"Dislike\";\n\nreturn (\n  <div className=\"d-inline-flex align-items-center\">\n    <DislikeButton\n      disabled={state.loading || dataLoading || !context.accountId}\n      title={title}\n      onClick={dislikeClick}\n    >\n      <span\n        className={`icon ${state.loading ? \"loading \" : \"\"}${\n          hasDislike ? \"disliked\" : \"\"\n        }`}\n      >\n        {hasDislike ? heartFillSvg : heartSvg}\n      </span>\n      <span className={`count ${hasDislike ? \"disliked\" : \"\"}`}>\n        <Widget\n          loading={dislikeCount || \"\"}\n          src=\"mob.near/widget/N.Overlay.Faces\"\n          props={{ accounts: dislikesByUsers, limit: 10 }}\n        />\n      </span>\n    </DislikeButton>\n  </div>\n);\n"
    },
    "src/widget/Onboarding.Callout": {
      "code": "const Callout = styled.div`\n  display: flex;\n  width: 320px;\n  padding: 20px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n  border-radius: 10px;\n  border: 1px solid #02193a;\n  background: #fffffe;\n  position: relative;\n  left: 19px;\n  font-family: sans-serif;\n`;\n\nconst CalloutHeader = styled.div`\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    align-self: stretch;\n`;\n\nconst CalloutHeaderCaption = styled.div`\n    color: #02193A;\n    font-size: 12px;\n    font-style: normal;\n    font-weight: 600;\n    line-height: 149%; /* 17.88px */\n`;\n\nconst CalloutTitle = styled.div`\n  color: #02193a;\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 149%; /* 26.82px */\n`;\n\nconst CalloutDescription = styled.div`\n  color: #7a818b;\n  text-align: center;\n  font-size: 12px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 149%; /* 17.88px */\n`;\n\nconst ActionsGroup = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 10px;\n    align-self: stretch;\n`;\n\nconst ActionButton = styled.div`\n    display: flex;\n    height: 42px;\n    padding: 0px 20px;\n    justify-content: center;\n    align-items: center;\n    flex: 1 0 0;\n    border-radius: 90px;\n    text-align: center;\n    font-size: 14px;\n    cursor: pointer;\n    border: ${(props) => (props.$primary ? \"initial\" : \"1px solid #E2E2E5\")};\n    background: ${(props) => (props.$primary ? \"#02193A\" : \"initial\")};\n    color: ${(props) => (props.$primary ? \"#fff\" : \"initial\")};\n\n    &:hover {\n        background: ${(props) => (props.$primary ? \"#1c3559\" : \"#eee\")};\n    }\n\n    &:active {\n        background: ${(props) => (props.$primary ? \"#020c19\" : \"#ddd\")};\n    }\n`;\n\nconst { link } = props;\n\nconst steps = [\n  \"289858ca4ee414d0961ec7f7646cf8a9\",\n  \"788496b50edf33bf7b44d5e5c89c3622\",\n  \"5e39302b56084cb7644e2b89ca6d36b8\",\n];\n\nconst currentStepIndex = steps.indexOf(link.id);\nconst isLastStep = currentStepIndex === steps.length - 1;\nconst isFirstStep = currentStepIndex === 0;\n\nlet storageStepIndex = Storage.get(\"step\");\n\n// is loading\nif (storageStepIndex === null) {\n  return <></>;\n}\n\nif (storageStepIndex === undefined || storageStepIndex < 0) {\n  storageStepIndex = 0;\n} else if (storageStepIndex >= steps.length) {\n  storageStepIndex = steps.length - 1;\n}\n\nconst handleBackClick = () => {\n  Storage.set(\"step\", currentStepIndex - 1);\n};\n\nconst handleNextClick = () => {\n  Storage.set(\"step\", currentStepIndex + 1);\n};\n\nconst isVisibleStep = storageStepIndex === currentStepIndex;\n\nconst callout = (\n  <DappletCallout\n    arrow={<Widget src=\"bos.dapplets.near/widget/Onboarding.Arrow\" />}\n  >\n    <Callout>\n      <CalloutHeader>\n        <CalloutHeaderCaption>\n          Step {currentStepIndex + 1} of {steps.length}\n        </CalloutHeaderCaption>\n      </CalloutHeader>\n      <CalloutTitle>It's a sandbox story first</CalloutTitle>\n      <CalloutDescription>\n        {props.context?.parsed?.text}\n        <br />\n        LinkId: {link.id}\n      </CalloutDescription>\n      <ActionsGroup>\n        <ActionButton onClick={handleBackClick} disabled={isFirstStep}>\n          Back\n        </ActionButton>\n        <ActionButton\n          $primary={true}\n          onClick={handleNextClick}\n          disabled={isLastStep}\n        >\n          Next\n        </ActionButton>\n      </ActionsGroup>\n    </Callout>\n  </DappletCallout>\n);\n\nreturn (\n  <OverlayTrigger\n    show={isVisibleStep}\n    delay={{ show: 250, hide: 300 }}\n    placement=\"right\"\n    overlay={callout}\n  >\n    <div>Target</div>\n  </OverlayTrigger>\n);\n"
    },
    "src/widget/Onboarding.Main": {
      "code": "// const TIME_UNTIL_RESHOW = 1000 * 60 // TESTING\nconst TIME_UNTIL_RESHOW = 1000 * 60 * 60 * 3 // PROD\n\nconst [show, setShow] = useState(false)\nconst [start, setStart] = useState(false)\nconst [showFrom, setShowFrom] = useState(0)\n\nconst response = Near.view('app.webguide.near', 'get_guide', { guide_id: props?.link?.id })\nconst data = response && JSON.parse(response)\nconst lastShow = data && data?.reduce((acc, chapter) => {\n  acc[chapter.id] = Storage.privateGet(chapter.id + '/lastShow')\n  return acc\n}, {})\n\nuseEffect(() => {\n  if (\n    !start && (\n      lastShow === null || (\n        lastShow && Object.values(lastShow).every(a => a === null)\n      )\n    )\n  ) return;\n  // here if (start || (lastShow && Object.values(lastShow).some(a => a !== null))) -- ToDo: replace?\n\n  if (!start) {\n    setStart(true)\n    return\n  }\n  \n  // *** DISPLAY LOGIC ***\n\n  if (lastShow) {\n    const currentMutation = data.find((ch) => ch?.id.includes('mutation'))?.id\n    const currentTime = Date.now()\n\n    for (const key of Object.keys(lastShow)) {\n      if (!lastShow[key]) continue\n\n      // TESTING\n      // if (lastShow[key].doNotShowAgain && currentTime - lastShow[key].time > TIME_UNTIL_RESHOW * 3) {\n      //   lastShow[key].doNotShowAgain = false\n      //   lastShow[key].isViewed = false\n      // }\n      //\n\n      // DO NOT refactor the following code block to stay the logic clear!!!\n      if (currentMutation === lastShow[key].mutation) {\n        if (!lastShow[key].doNotShowAgain) {\n          lastShow[key].show = currentTime - lastShow[key].time > TIME_UNTIL_RESHOW\n        } else {\n          if (lastShow[key].isViewed) {\n            lastShow[key].show = false\n          } else {\n            lastShow[key].show = currentTime - lastShow[key].time > TIME_UNTIL_RESHOW\n          }\n        }\n      } else {\n        if (!lastShow[key].doNotShowAgain) {\n          if (lastShow[key].isViewed) {\n            lastShow[key].show = currentTime - lastShow[key].time > TIME_UNTIL_RESHOW\n          } else {\n            lastShow[key].show = true\n          }\n        } else {\n          if (lastShow[key].isViewed) {\n            lastShow[key].show = false\n          } else {\n            lastShow[key].show = true\n          }\n        }\n      }\n    }\n  }\n\n  // *** SORT LOGIC ***\n\n  if (!lastShow && context.accountId === props?.link?.authorId) {\n    // show form to the author\n    setShow(true)\n  } else if (lastShow && Object.values(lastShow).some((a) => a === undefined || a?.show)) {\n    // with sort - some chapters have been displayed or new\n    data.sort(\n      (a, b) =>\n        !lastShow[a.id] && !lastShow[b.id]\n          ? 0\n          : !lastShow[a.id]\n            ? lastShow[b.id].show ? 0 : 1\n            : !lastShow[b.id]\n              ? lastShow[a.id].show ? 0 : -1\n              : lastShow[a.id].show - lastShow[b.id].show\n    )\n    const index = Object.values(lastShow).filter((a) => a && !a.show)?.length\n    setShowFrom(index)\n    setShow(true)\n  }\n}, [start, lastShow])\n\nsetTimeout(() => setStart(true), 10000)\n\nconst OverlayTriggerWrapper = styled.div`\n  display: flex;\n  z-index: 500;\n\n  .OverlayTrigger {\n    position: absolute;\n    background: #db504a;\n    border: 1px solid #db504a;\n    width: 6px;\n    height: 49px;\n    right: -6px;\n    top: 10px;\n    border-radius: 0px 4px 4px 0px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    z-index: 79;\n  }\n`\n\nconst Onboarding = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  animation: falling-animation 0.3s linear forwards;\n\n  @keyframes falling-animation {\n    from {\n      transform: translate(-50%, -200%);\n    }\n\n    to {\n      transform: translate(-50%, -50%);\n    }\n  }\n`;\n\nconst handleClose = (isDoNotShowAgainChecked, viewedPages) => {\n  if (data) {\n    const time = Date.now()\n    const mutation = data.find((ch) => ch?.id.includes('mutation'))?.id\n    data.forEach((chapter) => {\n      const isViewed = !!(viewedPages.includes(chapter.id) || lastShow[chapter.id].isViewed)\n      const doNotShowAgain = !!((isDoNotShowAgainChecked && viewedPages.includes(chapter.id)) || lastShow[chapter.id].doNotShowAgain)\n      Storage.privateSet(\n        chapter.id + '/lastShow',\n        {\n          time,\n          doNotShowAgain,\n          mutation,\n          isViewed,\n        }\n      )\n    })\n  }\n  setShow(false)\n}\n\nconst saveData = (inputData) => {\n  if (context?.accountId) {\n    Near.call(\n      'app.webguide.near',\n      'set_guide',\n      {\n        guide_id: props.link.id,\n        data: inputData,\n      }\n    )\n  }\n}\n\nreturn (\n  <OverlayTriggerWrapper>\n    {show ? (\n      <DappletOverlay>\n        <Onboarding>\n          <Widget\n            props={{\n              handleClose,\n              data,\n              saveData,\n              setShow,\n              link: props.link,\n              showFrom,\n              oldRawData: response\n            }}\n            src=\"bos.dapplets.near/widget/Onboarding.SandboxOnboarding\"\n          />\n        </Onboarding>\n      </DappletOverlay>\n    ) : null}\n  </OverlayTriggerWrapper>\n)\n"
    },
    "src/widget/Onboarding.Arrow": {
      "code": "return (\n  <svg\n    width=\"38\"\n    height=\"38\"\n    viewBox=\"0 0 38 38\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M4.25195 15.6491L19.0683 1.77606L19.0683 36.0052L4.26223 22.2284C2.35353 20.4524 2.34881 17.4311 4.25195 15.6491Z\"\n      fill=\"#FFFFFE\"\n      stroke=\"#02193A\"\n    />\n    <path\n      d=\"M22.0636 34.8717L18.5687 34.8717L17.5687 33.8717L17.5687 3.87175L18.5687 2.87175L22.0636 2.87175L22.0636 34.8717Z\"\n      fill=\"#FFFFFE\"\n    />\n  </svg>\n);\n"
    },
    "src/widget/Onboarding.SandboxOnboarding": {
      "code": "const { handleClose, saveData, setShow, link, data, showFrom, oldRawData } = props\n\nconst [doNotShowAgain, setDoNotShowAgain] = useState(false)\nconst [activeChapterNumber, setActiveChapterNumber] = useState(data && showFrom)\nconst [newData, setNewData] = useState(oldRawData ?? '')\nconst [isEditMode, setEditMode] = useState(false)\nconst [viewedPages, setViewed] = useState([])\n\nuseEffect(() => {\n  if (!viewedPages.includes(data[activeChapterNumber].id))\n    setViewed([...viewedPages, data[activeChapterNumber].id])\n})\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  width: 630px;\n  height: 690px;\n  background: #FFFFFE;\n  border: 1px solid #02193A;\n  border-radius: 20px;\n  padding: 20px;\n  gap: 20px;\n  z-index: 1000;\n  box-shadow: none;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  align-items: center;\n  justify-content: center;\n`\n\nconst Header = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  color: #02193A;\n\n  h1 {\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    padding: 0;\n    margin: 0;\n    font-size: 32px;\n    font-weight: 600;\n    line-height: 48px;\n  }\n`\n\nconst TopLine = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  margin: 0;\n  padding: 0;\n`\n\nconst PagesIndicators = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  gap: 6px;\n`\n\nconst PageIndicatorBtn = styled.button`\n  position: relative;\n  display: flex;\n  border: none;\n  border-radius: 9em;\n  margin: 0;\n  padding: 2px;\n  background: none;\n  cursor: pointer;\n  transition-duration: .15s;\n\n  &:not(:disabled, .active):hover {\n    background: rgba(29,155,240,0.10);\n\n    div {\n      background: rgba(0, 0, 0, .2);\n    }\n  }\n\n  &:not(:disabled, .active):active {\n    background: rgba(29,155,240,0.20);\n\n    div {\n      background: rgba(0, 0, 0, .3);\n    }\n  }\n`\n\nconst PageIndicator = styled.div`\n  position: relative;\n  width: 10px;\n  height: 10px;\n  border: none;\n  border-radius: 9em;\n  background: rgba(0, 0, 0, .1);\n  margin: 0;\n  padding: 0;\n  cursor: pointer;\n  transition-duration: .15s;\n\n  &.active {\n    background: rgba(56, 75, 255, 1);\n    cursor: default;\n  }\n`\n\nconst EditButton = styled.button`\n  position: absolute;\n  left: 0;\n  top: 0;\n  margin: 0;\n  padding: 0 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  border-radius: 24px;\n  background: none;\n  cursor: pointer;\n  height: 24px;\n  color: #222;\n  transition-duration: .15s;\n  \n  :hover {\n    color: #111;\n    background: #eee;\n  }\n  \n  :active {\n    color: #000;\n    background: #ddd;\n  }\n`\n\nconst CloseButton = styled.button`\n  position: absolute;\n  right: 0;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  background: none;\n  cursor: pointer;\n\n  svg {\n    path {\n      stroke: #838891;\n      transition-duration: .2s;\n    }\n  }\n  \n  :hover {\n    svg {\n      path {\n        stroke: #555555;\n      }\n    }\n  }\n`\n\nconst closeIcon =  (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M18 6L6 18\"  strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M6 6.5L18 18.5\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n)\n\nconst WarningMessage = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 4px 10px;\n  gap: 6px;\n  align-items: center;\n  background: rgba(56, 75, 255, 0.05);\n  border-radius: 5px;\n  flex: none;\n  flex-grow: 0;\n  position: relative;\n\n  p {\n    padding: 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 150%;\n    color: #384BFF;\n    flex: none;\n    flex-grow: 0;\n  }\n\n  svg {\n    padding: 0;\n    margin: 0;\n  }\n`\n\nconst AlertIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z\" stroke=\"#384BFF\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M12.01 16L12.01 12\" stroke=\"#384BFF\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M12.01 8L12 8\" stroke=\"#384BFF\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n)\n\nconst CardContainer = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  width: 100%;\n  gap: 10px;\n  flex: 1;\n  overflow: hidden;\n`\n\nconst ArrowButton = styled.button`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 4px;\n  width: 32px;\n  height: 32px;\n  background: #F5F6FE;\n  border: none;\n  border-radius: 40px;\n  cursor: default;\n  transform: ${(p) => (p.direction === 'left' ? 'rotate(0.5turn)' : '')};\n  transition-duration: .15s;\n\n  svg {\n    path {\n      stroke: rgba(153, 152, 154, 1);\n    }\n  }\n\n  &:not(:disabled) {\n    cursor: pointer;\n\n    svg {\n      path {\n        stroke: rgba(56, 75, 255, 1);\n      }\n    }\n  }\n\n  &:not(:disabled):hover {\n    background: rgba(56, 75, 255, 1);\n\n    svg {\n      path {\n        stroke: white;\n      }\n    }\n  }\n\n  &:not(:disabled):active {\n    background: rgba(26, 45, 225, 1);\n\n    svg {\n      path {\n        stroke: white;\n      }\n    }\n  }\n`\n\nconst arrowRight = (\n  <svg width=\"24\" height=\"25\" viewBox=\"0 0 24 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M5 12.5H19\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M12 5.5L19 12.5L12 19.5\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n)\n\nconst Card = styled.div`\n  position: relative;\n  overflow: auto;\n  display: flex;\n  flex 1;\n  height: 100%;\n  flex-direction: column;\n  box-sizing: border-box;\n  padding: 10px;\n  gap: 10px;\n  border: none;\n  border-radius: 20px;\n  background: rgba(248, 249, 255, 1);\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n\n\n  h3 {\n    padding: 8px 0 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 19px;\n    color: #121212;\n    flex: none;\n    align-self: stretch;\n    flex-grow: 0;\n    text-indent: 16px;\n  }\n\n  img {\n    position: relative;\n    display: flex;\n    box-sizing: border-box;\n    width: 100%;\n    height: auto !important;\n    border-radius: 10px;\n    flex: none;\n    /* align-self: stretch; */\n    flex-grow: 0;\n    border: 1px solid rgb(207, 217, 222);\n    /* object-fit: none; */\n    /* object-position: top; */\n  }\n\n  p {\n    padding: 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 149%;\n    color: #777777;\n    flex: none;\n    align-self: stretch;\n    flex-grow: 0;\n  }\n\n  a {\n    padding: 0;\n    margin: 0;\n    /* align-self: flex-start; */\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 149%;\n    text-decoration-line: underline !important;\n    color: #384BFF;\n    cursor: 'poiner';\n  }\n`\n\nconst Footer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0px;\n  margin: 0;\n  gap: 20px;\n  width: 100%;\n`\n\nconst Checkbox = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0px;\n  cursor: pointer;\n\n  label {\n    display: flex;\n    flex-direction: row;\n    gap: 4px;\n    align-items: center;\n    padding: 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 149%;\n    text-align: center;\n    color: #7A818B;\n\n    input {\n      padding: 0;\n      margin: 0;\n      margin-bottom: 1px;\n      width: 16px;\n      height: 16px;\n      border-radius: 4px;\n      border: 1px solid #384BFF\n      cursor: pointer;\n    }\n  }\n`\n\nconst SuccessButton = styled.button`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 0px 20px;\n  width: 180px;\n  height: 42px;\n  background: #02193A;\n  border-radius: 50px;\n  border: none;\n  cursor: pointer;\n\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  font-style: normal;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 149%;\n  text-align: center;\n  color: #FFFFFF;\n  transition-duration: 0.2s;\n\n  :hover {\n    background-color: rgb(32 45 63);\n  }\n`\n\nreturn (!data || isEditMode) ? (\n  <Container>\n    <Header>\n      <h1>Add data</h1>\n      <CloseButton onClick={() => handleClose(false, viewedPages)}>\n        {closeIcon}\n      </CloseButton>\n    </Header>\n    <textarea\n      autofocus\n      style={{ width: '100%', height: '100%' }}\n      onChange={(e) => setNewData(e.target.value)}\n      value={newData}\n    />\n    <div style={{ display: 'flex', width: '80%', justifyContent: 'space-evenly' }}>\n      {isEditMode ? (\n        <SuccessButton onClick={() => setEditMode(false)}>\n          Cancel\n        </SuccessButton>\n      ) : null}\n      <SuccessButton onClick={() => {\n        saveData(newData)\n        setNewData('')\n        setShow(false)\n      }}>\n        Save\n      </SuccessButton>\n    </div>\n  </Container>\n) : (\n  <Container>\n    <Header>\n      <TopLine>\n        {context.accountId === link.authorId ? (\n          <EditButton onClick={() => setEditMode(true)}>\n            Edit data\n          </EditButton>\n        ) : null}\n        <PagesIndicators>\n          {data?.map((chapter, i) => (\n            <PageIndicatorBtn\n              key={chapter.id}\n              disabled={i === activeChapterNumber}\n              onClick={() => setActiveChapterNumber(i)}\n            >\n              <PageIndicator\n                className={i === activeChapterNumber ? 'active' : '' }\n              />\n            </PageIndicatorBtn>\n          ))}\n        </PagesIndicators>\n        <CloseButton onClick={() => handleClose(false, viewedPages)}>\n          {closeIcon}\n        </CloseButton>\n      </TopLine>\n      <h1>{data[activeChapterNumber].title}</h1>\n    </Header>\n    <CardContainer>\n      <ArrowButton\n        direction='left'\n        disabled={activeChapterNumber - 1 < 0}\n        onClick={() => setActiveChapterNumber(activeChapterNumber - 1 < 0 ? activeChapterNumber : activeChapterNumber - 1)}\n      >\n        {arrowRight}\n      </ArrowButton>\n      <Card>\n        {context.accountId === null ? (<WarningMessage>\n          <AlertIcon/>\n          <p>You must be Logged In to start using this</p>\n        </WarningMessage>) : null}\n        <Markdown text={data[activeChapterNumber].content} />\n      </Card>\n      <ArrowButton\n        direction='right'\n        disabled={activeChapterNumber + 1 > data.length - 1}\n        onClick={() => setActiveChapterNumber(activeChapterNumber + 1 > data.length - 1 ? activeChapterNumber : activeChapterNumber + 1)}\n      >\n        {arrowRight}\n      </ArrowButton>\n    </CardContainer>\n    <Footer>\n      <Checkbox>\n        <label>\n          <input type=\"checkbox\" checked={doNotShowAgain} onChange={(e) => setDoNotShowAgain(e.target.checked)} />\n          Don't show it again\n        </label>\n      </Checkbox>\n      <SuccessButton onClick={() => handleClose(doNotShowAgain, viewedPages)}>Got it</SuccessButton>\n    </Footer>\n  </Container>\n)"
    },
    "src/widget/Onboarding.QuestionIcon": {
      "code": "return (\n  <svg\n    width=\"24px\"\n    height=\"24px\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM12 7.75C11.3787 7.75 10.875 8.25368 10.875 8.875C10.875 9.28921 10.5392 9.625 10.125 9.625C9.71079 9.625 9.375 9.28921 9.375 8.875C9.375 7.42525 10.5503 6.25 12 6.25C13.4497 6.25 14.625 7.42525 14.625 8.875C14.625 9.58584 14.3415 10.232 13.883 10.704C13.7907 10.7989 13.7027 10.8869 13.6187 10.9708C13.4029 11.1864 13.2138 11.3753 13.0479 11.5885C12.8289 11.8699 12.75 12.0768 12.75 12.25V13C12.75 13.4142 12.4142 13.75 12 13.75C11.5858 13.75 11.25 13.4142 11.25 13V12.25C11.25 11.5948 11.555 11.0644 11.8642 10.6672C12.0929 10.3733 12.3804 10.0863 12.6138 9.85346C12.6842 9.78321 12.7496 9.71789 12.807 9.65877C13.0046 9.45543 13.125 9.18004 13.125 8.875C13.125 8.25368 12.6213 7.75 12 7.75ZM12 17C12.5523 17 13 16.5523 13 16C13 15.4477 12.5523 15 12 15C11.4477 15 11 15.4477 11 16C11 16.5523 11.4477 17 12 17Z\"\n      fill=\"#5460B5\"\n    />\n  </svg>\n);\n"
    },
    "src/widget/Onboarding.Question": {
      "code": "return (\n  <OverlayTrigger\n    placement=\"right\"\n    overlay={\n      <DappletCallout\n        arrow={<Widget src=\"bos.dapplets.near/widget/Onboarding.Arrow\" />}\n      >\n        <Widget src=\"bos.dapplets.near/widget/Onboarding.Callout\" />\n      </DappletCallout>\n    }\n  >\n    <div>\n      <Widget src=\"bos.dapplets.near/widget/Onboarding.QuestionIcon\" />\n    </div>\n  </OverlayTrigger>\n);\n"
    },
    "src/widget/WebGuideTest.InfoBox": {
      "code": "const InfoBox = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  animation: falling-animation 0.3s linear forwards;\n\n  @keyframes falling-animation {\n    from {\n      transform: translate(-50%, -200%);\n    }\n\n    to {\n      transform: translate(-50%, -50%);\n    }\n  }\n`\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  width: 546px;\n  height: 700px;\n  background: #FFFFFE;\n  border: 1px solid #02193A;\n  border-radius: 20px;\n  padding: 20px;\n  gap: 20px;\n  z-index: 1000;\n  box-shadow: none;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  align-items: center;\n  justify-content: center;\n`\n\nconst Header = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  color: #02193A;\n\n  h1 {\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    padding: 0;\n    margin: 0;\n    font-size: 32px;\n    font-weight: 600;\n    line-height: 48px;\n  }\n`\n\nconst TopLine = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  margin: 0;\n  padding: 0;\n`\n\nconst CalloutHeaderCaption = styled.div`\n  display: inline-block;\n  max-width: 30%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: #02193a;\n  font-size: 12px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 149%;\n`\n\nconst PagesIndicators = styled.div`\n  width: auto;\n  height: 24px;\n  padding: 4px;\n  gap: 10px;\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  box-sizing: border-box;\n  justify-content: center;\n`\n\nconst Navi = styled.button`\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background: ${(props) => (props.$active ? \"#384BFF\" : \"#E3E3E3\")};\n  border: none;\n`\n\nconst Close = styled.button`\n  background: inherit;\n  outline: none;\n  border: none;\n  cursor: pointer;\n`\n\nconst Arrow = styled.button`\n  position: absolute;\n  top: -5px;\n  right: -46px;\n  background: inherit;\n  border: none;\n  outline: none;\n`\n\nconst iconClose = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M18 6L6 18\"\n      stroke=\"#02193A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M6 6.5L18 18.5\"\n      stroke=\"#02193A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n)\n\nconst WrapperAlert = styled.div`\n  display: flex;\n  width: 100%;\n  padding: 4px 6px;\n  gap: 6px;\n  border-radius: 5px;\n  align-items: center;\n  justify-content: flex-start;\n  margin-right: auto;\n  background: ${(props) =>\n    props.$status === \"warning\"\n      ? \"rgba(255, 248, 235, 1)\"\n      : props.$status === \"error\"\n      ? \"rgba(246, 240, 246, 1)\"\n      : \"rgba(234, 241, 255, 1)\"};\n\n  color: ${(props) =>\n    props.$status === \"warning\"\n      ? \"rgba(208, 145, 26, 1)\"\n      : props.$status === \"error\"\n      ? \"rgba(219, 80, 74, 1)\"\n      : \"rgba(36, 110, 253, 1)\"};\n\n  outline: none;\n`\n\nconst TextAlert = styled.span`\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 17.88px;\n  text-align: left;\n`\n\nconst IconAlert = styled.span``\n\nconst infoIcon = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n  >\n    <g clipPath=\"url(#clip0_358_90)\">\n      <path\n        d=\"M9.99996 18.3333C14.6023 18.3333 18.3333 14.6024 18.3333 10C18.3333 5.39763 14.6023 1.66667 9.99996 1.66667C5.39759 1.66667 1.66663 5.39763 1.66663 10C1.66663 14.6024 5.39759 18.3333 9.99996 18.3333Z\"\n        stroke=\"#246EFD\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M10 13.3333V10\"\n        stroke=\"#246EFD\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M10 6.66667H10.0088\"\n        stroke=\"#246EFD\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_358_90\">\n        <rect width=\"20\" height=\"20\" fill=\"white\" />\n      </clipPath>\n    </defs>\n  </svg>\n)\n\nconst warningIcon = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M8.57502 3.21665L1.51668 15C1.37116 15.252 1.29416 15.5377 1.29334 15.8288C1.29253 16.1198 1.36793 16.4059 1.51204 16.6588C1.65615 16.9116 1.86396 17.1223 2.11477 17.2699C2.36559 17.4174 2.65068 17.4968 2.94168 17.5H17.0583C17.3494 17.4968 17.6344 17.4174 17.8853 17.2699C18.1361 17.1223 18.3439 16.9116 18.488 16.6588C18.6321 16.4059 18.7075 16.1198 18.7067 15.8288C18.7059 15.5377 18.6289 15.252 18.4834 15L11.425 3.21665C11.2765 2.97174 11.0673 2.76925 10.8177 2.62872C10.5681 2.48819 10.2865 2.41437 10 2.41437C9.71357 2.41437 9.43196 2.48819 9.18235 2.62872C8.93275 2.76925 8.72358 2.97174 8.57502 3.21665Z\"\n      stroke=\"#D0911A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M10 7.5V10.8333\"\n      stroke=\"#D0911A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M10 14.1667H10.0088\"\n      stroke=\"#D0911A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n)\n\nconst errorIcon = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n  >\n    <g clipPath=\"url(#clip0_358_97)\">\n      <path\n        d=\"M6.54996 1.66666H13.45L18.3333 6.54999V13.45L13.45 18.3333H6.54996L1.66663 13.45V6.54999L6.54996 1.66666Z\"\n        stroke=\"#DB504A\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M12.5 7.5L7.5 12.5\"\n        stroke=\"#DB504A\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M7.5 7.5L12.5 12.5\"\n        stroke=\"#DB504A\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_358_97\">\n        <rect width=\"20\" height=\"20\" fill=\"white\" />\n      </clipPath>\n    </defs>\n  </svg>\n)\n\nconst Card = styled.div`\n  position: relative;\n  overflow: auto;\n  display: flex;\n  flex: 1;\n  height: 100%;\n  flex-direction: column;\n  box-sizing: border-box;\n  padding: 12px 20px;\n  gap: 10px;\n  border: none;\n  border-radius: 20px;\n  background: rgba(248, 249, 255, 1);\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  overflow-x: hidden;\n\n  h3 {\n    padding: 8px 0 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 19px;\n    color: #121212;\n    flex: none;\n    align-self: stretch;\n    flex-grow: 0;\n    text-indent: 16px;\n  }\n\n  img {\n    position: relative;\n    display: flex;\n    box-sizing: border-box;\n    width: 100%;\n    height: auto !important;\n    border-radius: 10px;\n    flex: none;\n    flex-grow: 0;\n    border: 1px solid rgb(207, 217, 222);\n  }\n\n  p {\n    padding: 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 149%;\n    color: #777777;\n    flex: none;\n    align-self: stretch;\n    flex-grow: 0;\n  }\n\n  a {\n    padding: 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 149%;\n    text-decoration-line: underline !important;\n    color: #384BFF;\n    cursor: 'poiner';\n  }\n`\n\nconst Footer = styled.div`\n  display: flex;\n  position: relative;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  width: 100%;\n  align-items: center;\n`\n\nconst ContainerCheckbox = styled.div`\n  display: flex;\n  align-items: flex-end;\n  padding: 20px 20px 20px 0;\n`\n\nconst CheckboxInput = styled.input`\n  width: 16px;\n  height: 16px;\n  border-radius: 5px;\n  border: 1px solid #384bff;\n  margin-right: 8px;\n`\n\nconst Label = styled.label`\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 17.88px;\n  color: #7a818b;\n  cursor: pointer;\n  width: max-content;\n`\n\nconst ActionsGroup = styled.div`\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: space-between;\n  align-items: center;\n  gap: 10px;\n  align-self: stretch;\n  flex-grow: 1;\n`\n\nconst ActionButton = styled.div`\n  display: flex;\n  box-sizing: border-box;\n  width: 180px;\n  height: 42px;\n  padding: 0px 20px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 90px;\n  text-align: center;\n  font-size: 14px;\n  cursor: pointer;\n  border: ${(props) => (props.$primary ? \"initial\" : \"1px solid #E2E2E5\")};\n  background: ${(props) => (props.$primary ? \"#02193A\" : \"initial\")};\n  color: ${(props) => (props.$primary ? \"#fff\" : \"initial\")};\n\n  &:hover {\n    background: ${(props) => (props.$primary ? \"#1c3559\" : \"#eee\")};\n  }\n\n  &:active {\n    background: ${(props) => (props.$primary ? \"#020c19\" : \"#ddd\")};\n  }\n`\n\nconst {\n  children,\n  title,\n  content,\n  navi,\n  onClose,\n  // status, - conflict with deprecated Window.status property\n  buttons,\n  showChecked,\n  checked,\n  onDoNotShowChange,\n} = props\n\nreturn (\n  <InfoBox>\n    <Container>\n      <Header>\n        <TopLine>\n          <CalloutHeaderCaption>\n            Step {navi?.currentChapterIndex + 1} of {navi?.totalChapters}\n          </CalloutHeaderCaption>\n          <PagesIndicators>\n            {navi.totalPages > 1 && [...Array(navi.totalPages)].map(\n              (_, index) => (\n                <Navi\n                  key={index}\n                  $active={index == navi.currentPageIndex ? true : false}\n                />\n              )\n            )}\n          </PagesIndicators>\n          <Close onClick={onClose}>{iconClose}</Close>\n        </TopLine>\n        <h1>{title}</h1>\n      </Header>\n      <Card>\n        {props.status && props.status.text ? (\n          <WrapperAlert $status={props.status.type}>\n            <IconAlert>\n              {props.status.type === \"warning\"\n                ? warningIcon\n                : props.status.type === \"error\"\n                ? errorIcon\n                : infoIcon}\n            </IconAlert>\n            <TextAlert>{props.status.text}</TextAlert>\n          </WrapperAlert>\n        ) : null}\n\n        <Markdown text={content} />\n      </Card>\n      <Footer>\n        {showChecked ? (\n          <ContainerCheckbox>\n            <CheckboxInput\n              type=\"checkbox\"\n              checked={checked}\n              onChange={onDoNotShowChange}\n            />\n            <Label htmlFor=\"checkbox\">Don't show this guide again</Label>\n          </ContainerCheckbox>\n        ) : null}\n        {buttons?.length > 1 ? (\n          <ActionsGroup>\n            <ActionButton\n              $primary={buttons[1].variant == \"primary\" ? true : false}\n              onClick={buttons[1].onClick}\n              disabled={buttons[1].disabled}\n            >\n              {buttons[1].label}\n            </ActionButton>\n            <ActionButton\n              $primary={buttons[0].variant == \"primary\" ? true : false}\n              onClick={buttons[0].onClick}\n              disabled={buttons[0].disabled}\n            >\n              {buttons[0].label}\n            </ActionButton>\n          </ActionsGroup>\n        ) : buttons?.length === 1 ? (\n          <ActionsGroup>\n            <ActionButton\n              $primary={buttons[0].variant == \"primary\" ? true : false}\n              onClick={buttons[0].onClick}\n              disabled={buttons[0].disabled}\n            >\n              {buttons[0].label}\n            </ActionButton>\n          </ActionsGroup>\n        ) : <></>}\n      </Footer>\n    </Container>\n  </InfoBox>\n)\n"
    },
    "src/widget/WebGuideTest.Main": {
      "code": "const twitterConfig = {\n  chapters: [\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebExtension\",\n      type: 'infobox',\n      if: { id: \"1694995344461894022\" }, // ToDo: should be another trigger\n      // showChecked: true,\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtension/Welcome\",\n          title: \"You’re entering Mutable Web\",\n          status: [{ info: 'You must be logged in to make all features available' }],\n          content: \"\\nMutable Web is a new web3 paradigm that allows anyone to add custom functionality to existing websites and share it with your community— no matter who owns the website.\\n\\nBecome a co-owner of any website you are use!\\n\\n### Mutation switch\\n\\n![](https://raw.githubusercontent.com/dapplets/bos-components/main/assets/onboarding-video-001.webp)\\n\\nYou can switch between website mutations created by different communities.\\n\\n[See more examples in our playground](https://twitter.com/MrConCreator)\\n\",\n        },\n      ]\n    },\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebExtensionNotch\",\n      type: 'callout',\n      placement: 'right',\n      strategy: 'fixed',\n      namespace: \"mweb\",\n      contextType: \"notch\",\n      injectTo: \"hidden\",\n      if: { id: { eq: \"notch\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionNotch/Notch\",\n          title: \"Mutation switch\",\n          status: [{ info: 'Click on the dropdown box' }],\n          content: \"Mutation switch allows user to choose between application sets.\",\n        },\n      ]\n    },\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebExtensionDropdown/1\",\n      type: 'callout',\n      placement: 'right',\n      strategy: 'fixed',\n      namespace: \"mweb\",\n      contextType: \"notch\",\n      injectTo: \"recently-used-mutations\",\n      if: { id: { eq: \"recently-used-mutations\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionDropdown/1/1\",\n          title: \"The list of recently used mutations (1/2)\",\n          status: [],\n          content: \"The current mutation is highlighted with a star. To add a “favorite” status to a mutation on the current page, simply click on the star. his mutation will become active when you open the website in a new tab.\",\n        },\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionDropdown/1/2\",\n          title: \"The list of recently used mutations (2/2)\",\n          status: [{ info: 'Click on the dropdown box below' }],\n          content: \"The “Trash” removes the mutation from the “Recentt” list.\",\n        },\n      ]\n    },\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebExtensionDropdown/2\",\n      type: 'callout',\n      strategy: 'fixed',\n      placement: 'right',\n      namespace: \"mweb\",\n      contextType: \"notch\",\n      injectTo: \"hidden\",\n      if: { id: { eq: \"unused-mutations-title\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionDropdown/2/1\",\n          title: \"All mutations\",\n          status: [],\n          content: \"This is the list of all available, previously unused mutations.\",\n        },\n      ]\n    },\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebExtensionDropdown/3\",\n      type: 'callout',\n      strategy: 'fixed',\n      namespace: \"mweb\",\n      contextType: \"notch\",\n      injectTo: \"hidden\",\n      if: { id: { eq: \"mutate-button\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebExtensionDropdown/3/1\",\n          title: '\"Mutate\" button',\n          status: [],\n          content: 'The \"Mutate\" button allows users to create, fork, and edit mutations.',\n        },\n      ]\n    },\n    {\n      id: \"bos.dapplets.near/app/Tipping/1\",\n      type: 'callout',\n      namespace: \"bos.dapplets.near/parser/twitter\",\n      contextType: \"post\",\n      injectTo: \"avatar\",\n      if: { id: { eq: \"1694995344461894022\" } },\n      arrowTo: \"insPoint\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/app/Tipping/1/1\",\n          status: [],\n          title: \"Tipping app\",\n          content: \"If you want to thank the author of the tweet you like...\",\n        },\n      ],\n    },\n    {\n      id: \"bos.dapplets.near/app/Tipping/2\",\n      type: \"callout\",\n      namespace: \"mweb\",\n      contextType: \"injected-widget\",\n      injectTo: \"hidden\",\n      if: {\n        parentContextId: { eq: \"1694995344461894022\" },\n        widgetSrc: { eq: \"bos.dapplets.near/widget/Tipping.Main\" },\n      },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/app/Tipping/2/1\",\n          status: [],\n          title: \"Tipping app\",\n          content: \"... you can send them a tip through our application.\",\n        },\n      ],\n    },\n    {\n      id: \"bos.dapplets.near/app/Paywall\",\n      type: \"callout\",\n      namespace: \"mweb\",\n      contextType: \"injected-widget\",\n      injectTo: \"hidden\",\n      if: {\n        parentContextId: { eq: \"1694995303642939408\" },\n        widgetSrc: { eq: \"bos.dapplets.near/widget/Paywall.Main\" },\n      },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/app/Paywall/1\",\n          status: [],\n          title: \"Paywall app\",\n          content: \"Paywall app allows users to add images to posts and sell access to them.\",\n        },\n      ],\n    },\n    {\n      id: \"bos.dapplets.near/mutation/EarTrigger\",\n      type: 'callout',\n      namespace: \"mweb\",\n      contextType: \"ear-trigger\",\n      injectTo: \"hidden\",\n      if: { id: { eq: \"1694995344461894022\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/mutation/EarTrigger/1\",\n          status: [],\n          title: \"Apps control panel\",\n          content: 'We add the app control panel to each post. You can add widgets to the post or panel to extend the functionality of the site.',\n        },\n      ],\n    },\n    {\n      id: \"bos.dapplets.near/mutation/EarTrigger/copy\",\n      type: 'callout',\n      namespace: \"mweb\",\n      contextType: \"ear-trigger\",\n      injectTo: \"hidden\",\n      if: { id: { eq: \"1694995344461894022\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/mutation/EarTrigger/copy/1\",\n          status: [],\n          title: \"Apps control panel\",\n          content: '[See other Mutable Web facilities on NEAR Social](https://social.dapplets.org/mob.near/widget/ProfilePage?accountId=dappletsproject.near)',\n        },\n      ],\n    },\n  ],\n}\n\nconst nearSocialConfig = {\n  chapters: [\n    {\n      id: \"bos.dapplets.near/gateway/MutableWeb\",\n      type: 'infobox',\n      if: { id: \"1694995344461894022\" }, // ToDo: should be another trigger\n      // showChecked: true,\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWeb/Welcome\",\n          title: \"You’re entering Mutable Web\",\n          status: [{ info: 'You must be logged in to make all features available' }],\n          content: \"Mutable Web is a new web3 paradigm that allows anyone to add custom functionality to existing websites and share them within your community — no matter who owns the website.\\n\\nBecome the co-owner of any website you are using!\\n\\n### Mutation switch\\n\\n![](https://raw.githubusercontent.com/dapplets/bos-components/main/assets/onboarding-008.png)\\n\\nYou can switch between website mutations created by different communities.\\n\\n[Mutable Web also runs on X](https://augm.link/mutate/?t=https%3A%2F%2Ftwitter.com%2FMrConCreator&m=bos.dapplets.near%2Fmutation%2FSandbox). Сheck its’ Web Guide there!\",\n        },\n      ]\n    },\n    {\n      id: \"bos.dapplets.near/gateway/MutableWebDropdown/1\",\n      type: 'callout',\n      placement: 'right',\n      strategy: 'fixed',\n      namespace: \"mweb\",\n      contextType: \"mweb-gateway\",\n      injectTo: \"mutation-wrapper\",\n      if: { id: { eq: \"mutation-wrapper\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/gateway/MutableWebDropdown/1/1\",\n          title: \"Mutation switch\",\n          status: [{ info: 'Click on the dropdown box' }],\n          content: \"This is a mutation switcher to select the desired set of applications.\",\n        },\n      ]\n    },\n    // {\n    //   id: \"bos.dapplets.near/gateway/MutableWebDropdown/2\",\n    //   type: 'callout',\n    //   strategy: 'fixed',\n    //   placement: 'right',\n    //   namespace: \"mweb\",\n    //   contextType: \"mweb-gateway\",\n    //   injectTo: \"mutations-list\",\n    //   if: { id: { eq: \"mutations-list\" } },\n    //   arrowTo: \"context\",\n    //   pages: [\n    //     {\n    //       id: \"bos.dapplets.near/gateway/MutableWebDropdown/2/1\",\n    //       title: \"All mutations\",\n    //       status: [],\n    //       content: \"Each mutation defines the set of applications. Select it from the list.\",\n    //     },\n    //   ]\n    // },\n    // {\n    //   id: \"bos.dapplets.near/app/Tipping/1\",\n    //   type: 'callout',\n    //   namespace: \"bos.dapplets.near/parser/near-social-json\",\n    //   contextType: \"post\",\n    //   injectTo: \"avatar\",\n    //   if: { id: { eq: \"dappletsproject.near/119034910\" } },\n    //   arrowTo: \"insPoint\",\n    //   pages: [\n    //     {\n    //       id: \"bos.dapplets.near/app/Tipping/1/1\",\n    //       status: [],\n    //       title: \"Tipping app\",\n    //       content: \"If you want to thank the author of the post you like...\",\n    //     },\n    //   ],\n    // },\n    {\n      id: \"bos.dapplets.near/app/Tipping/2\",\n      type: \"callout\",\n      namespace: \"mweb\",\n      contextType: \"injected-widget\",\n      injectTo: \"hidden\",\n      if: {\n        parentContextId: { eq: \"dappletsproject.near/119034910\" },\n        widgetSrc: { eq: \"bos.dapplets.near/widget/Tipping.Main\" },\n      },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/app/Tipping/2/1\",\n          status: [],\n          title: \"Tipping app\",\n          content: \"If you want to thank the author of the post you like, you can send them a tip through our application.\",\n        },\n      ],\n    },\n    {\n      id: \"bos.dapplets.near/mutation/EarTrigger\",\n      type: 'callout',\n      namespace: \"mweb\",\n      contextType: \"ear-trigger\",\n      injectTo: \"hidden\",\n      if: { id: { eq: \"dappletsproject.near/119034910\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/mutation/EarTrigger/1\",\n          status: [],\n          title: \"Apps control panel\",\n          content: 'We’ve added a special container to all posts. This allows users to attach widgets that extend the possibilities of Near Social.',\n        },\n      ],\n    },\n    {\n      id: \"bos.dapplets.near/mutation/EarTrigger/copy\",\n      type: 'callout',\n      namespace: \"mweb\",\n      contextType: \"ear-trigger\",\n      injectTo: \"hidden\",\n      if: { id: { eq: \"dappletsproject.near/119034910\" } },\n      arrowTo: \"context\",\n      pages: [\n        {\n          id: \"bos.dapplets.near/mutation/EarTrigger/copy/1\",\n          status: [],\n          title: \"Apps control panel\",\n          content: '[See other Mutable Web facilities on X](https://augm.link/mutate/?t=https%3A%2F%2Ftwitter.com%2FMrConCreator&m=bos.dapplets.near%2Fmutation%2FSandbox)',\n        },\n      ],\n    },\n  ],\n}\n\nconst nestedCalloutConfig = {\n  chapters: [{\n    id: \"CalloutInCallout\",\n    type: 'callout',\n    namespace: \"mweb\",\n    contextType: \"wg-chapter\",\n    injectTo: \"hidden\",\n    if: { id: { eq: \"bos.dapplets.near/mutation/EarTrigger/copy\" } }, // ID of the last chapter\n    arrowTo: \"context\",\n    pages: [\n      {\n        id: \"CalloutInCallout/1\",\n        status: [],\n        title: \"Web Guides 1/3\",\n        content: 'The WebGuide is also an application. Any user can create a guide to explain a workflow to other users. The WebGuide consists of callouts pointing to UI elements (original or embedded by other applications).',\n      },\n      {\n        id: \"CalloutInCallout/2\",\n        status: [],\n        title: \"Web Guides 2/3\",\n        content: '![](https://raw.githubusercontent.com/dapplets/bos-components/main/assets/webguide-004.png)\\n\\nWeb Guides can consist of several chapters.',\n      },\n      {\n        id: \"CalloutInCallout/3\",\n        status: [],\n        title: \"Web Guides 3/3\",\n        content: 'Use the buttons to navigate through the Web Guide.',\n      },\n    ],\n  }]\n}\n\n// ToDo: move to a smart contract\nconst guideConfigByLinkId = {\n  // production (bos.dapplets.near/mutation/sandbox)\n  '9a6537b6efbb98ad4c12ef747c7e29e9': twitterConfig,\n  '8a1ca0a9eb03ce2725db7a553a9bcab7': nearSocialConfig,\n  \"5c105a6a05975423d39a1e0d9447a22d\": nestedCalloutConfig,\n  '84998d899f0b75b6ca47197c66baf3ca': nestedCalloutConfig, // twitter\n  \n  // testing (bos.dapplets.near/mutation/testing2)\n  'b3777e928bd7ce9ad30eb636857a1853': twitterConfig,\n  '114a78557d9044ff8c6e0177bcbe690a': nearSocialConfig,\n  '0b492fd62c72d7ad87c7658e2b3a4f1e': nestedCalloutConfig,\n}\n\nconst OverlayTriggerWrapper = styled.div`\n  display: flex;\n  z-index: 500;\n\n  .OverlayTrigger {\n    position: absolute;\n    background: #db504a;\n    border: 1px solid #db504a;\n    width: 6px;\n    height: 49px;\n    right: -6px;\n    top: 10px;\n    border-radius: 0px 4px 4px 0px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    z-index: 79;\n  }\n`\n\nconst guideConfig = guideConfigByLinkId[props.link.id]\n\nconst [showApp, setShowApp] = useState(true)\nconst [chapterCounter, setChapterCounter] = useState(0)\nconst [pageCounter, setPageCounter] = useState(0)\n\nif (\n  !guideConfig\n  || !guideConfig.chapters?.length\n  || !guideConfig.chapters[0].pages?.length\n) return <></>\n\nconst handleClose = () => {\n  setShowApp(false)\n}\n\nconst handleChapterDecrement = () => {\n  if (chapterCounter !== 0) {\n    setChapterCounter((val) => val - 1)\n    setPageCounter(\n      guideConfig.chapters[chapterCounter - 1]?.pages?.length\n        ? guideConfig.chapters[chapterCounter - 1]?.pages?.length - 1\n        : 0\n    )\n  }\n}\n\nconst handleChapterIncrement = () => {\n  setChapterCounter((val) => Math.min(val + 1, guideConfig.chapters.length - 1))\n  setPageCounter(0)\n}\n\nconst handleClickPrev = () => {\n  if (!pageCounter) {\n    handleChapterDecrement()\n  } else {\n    setPageCounter((val) => val - 1)\n  }\n}\n\nconst handleClickNext = () => {\n  if (pageCounter === guideConfig.chapters[chapterCounter]?.pages?.length - 1) {\n    handleChapterIncrement()\n  } else {\n    setPageCounter((val) => val + 1)\n  }\n}\n\nconst ChapterWrapper = (props) => {\n  const currentChapter = guideConfig.chapters[chapterCounter]\n  if (!currentChapter) return <></>\n  const pages = currentChapter.pages\n  if (!pages) return <></>\n  const currentPage = pages[pageCounter]\n  if (!currentPage) return <></>\n\n  const status = currentPage.status.length&& Object.entries(currentPage.status[0])[0] // ToDo: mocked!!!\n\n  const buttons = []\n  if (chapterCounter || pageCounter) {\n    buttons.push({\n      variant: \"secondary\",\n      disabled: false,\n      onClick: handleClickPrev,\n      label: \"Prev\",\n    })\n  }\n  if (chapterCounter === guideConfig.chapters.length - 1 && pageCounter === pages.length - 1) {\n    buttons.push({\n      variant: \"primary\",\n      disabled: false,\n      onClick: handleClose,\n      label: \"Finish\",\n    })\n  } else (\n    buttons.push({\n      variant: \"primary\",\n      disabled: false,\n      onClick: handleClickNext,\n      label: \"Next\",\n    })\n  )\n\n  return  (\n    <Widget\n      src='bos.dapplets.near/widget/WebGuideTest.OverlayTrigger'\n      loading={props?.children}\n      props={{\n        id: currentChapter.id,\n        type: currentChapter.type,\n        placement: currentChapter.placement,\n        strategy: currentChapter.strategy,\n        navi: {\n          currentChapterIndex: chapterCounter,\n          totalChapters: guideConfig.chapters.length,\n          currentPageIndex: pageCounter,\n          totalPages: pages.length,\n        },\n        onClose: handleClose,\n        buttons,\n        status: status && {\n          type: status[0],\n          text: status[1],\n        },\n        title: currentPage.title,\n        content: currentPage.content,\n        showChecked: currentChapter.showChecked,\n        children: currentChapter.type === 'callout'\n          && currentChapter.arrowTo === \"context\"\n            ? ({ ref }) => {\n                props.attachContextRef(ref);\n                return props.children;\n              }\n            : currentChapter.arrowTo === \"insPoint\"\n            ? ({ ref }) => {\n                props.attachInsPointRef(ref);\n                return props.children;\n              }\n            : props.children,\n      }}\n    />\n  )\n}\n\nreturn showApp ? (guideConfig.chapters[chapterCounter]?.type === 'infobox' ? (\n  <OverlayTriggerWrapper>\n    <DappletOverlay>\n      <ChapterWrapper/>\n    </DappletOverlay>\n  </OverlayTriggerWrapper>\n) : (\n  <DappletPortal\n    target={{\n      namespace: guideConfig.chapters[chapterCounter]?.namespace,\n      contextType: guideConfig.chapters[chapterCounter]?.contextType,\n      injectTo: guideConfig.chapters[chapterCounter]?.injectTo,\n      if: guideConfig.chapters[chapterCounter]?.if,\n      insteadOf: guideConfig.chapters[chapterCounter]?.insteadOf,\n    }}\n    component={ChapterWrapper}\n  />\n)) : <></>\n"
    },
    "src/widget/WebGuideTest.OverlayTrigger": {
      "code": "const CustomTooltipDefault = styled(\"DappletTooltip\")`\n  z-index: 9999999; // over the notch\n\n  &[data-popper-reference-hidden=\"true\"] {\n    visibility: hidden;\n    pointer-events: none;\n  }\n\n  .tooltip-arrow::before {\n    border: none;\n    display: inline-block;\n    content: url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='19' height='38' viewBox='18 0 20 38' fill='none' ><path d='M34.3818 22.1845L19.5654 36.0575L19.5654 1.8284L34.3715 15.6052C36.2802 17.3812 36.285 20.4025 34.3818 22.1845Z' fill='%23FFFFFE' stroke='%2302193A' /><path d='M16.5693 2.96185L20.0642 2.96185L21.0642 3.96185L21.0642 33.9619L20.0642 34.9619H16.5693L16.5693 2.96185Z' fill='%23FFFFFE' /></svg>\");\n  }\n\n  &.bs-tooltip-top .tooltip-arrow {\n    bottom: -29px;\n\n    &::before {\n      transform: rotate(90deg);\n    }\n  }\n\n  &.bs-tooltip-end .tooltip-arrow {\n    left: -18px;\n\n    &::before {\n      transform: rotate(180deg);\n    }\n  }\n\n  &.bs-tooltip-bottom .tooltip-arrow {\n    top: -29px;\n\n    &::before {\n      transform: rotate(-90deg);\n    }\n  }\n\n  &.bs-tooltip-start .tooltip-arrow {\n    right: -18px;\n\n    &::before {\n      transform: rotate(0deg);\n    }\n  }\n`\n\nconst CustomTooltipMeta = styled(\"DappletTooltip\")`\n  z-index: 9999999; // over the notch\n\n  &[data-popper-reference-hidden=\"true\"] {\n    visibility: hidden;\n    pointer-events: none;\n  }\n\n  .tooltip-arrow::before {\n    border: none;\n    display: inline-block;\n    content: url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='19' height='38' viewBox='18 0 20 38' fill='none' ><path d='M34.3818 22.1845L19.5654 36.0575L19.5654 1.8284L34.3715 15.6052C36.2802 17.3812 36.285 20.4025 34.3818 22.1845Z' fill='%234E77E1' stroke='%234E77E1' /><path d='M16.5693 2.96185L20.0642 2.96185L21.0642 3.96185L21.0642 33.9619L20.0642 34.9619H16.5693L16.5693 2.96185Z' fill='%234E77E1' /></svg>\");\n  }\n\n  &.bs-tooltip-top .tooltip-arrow {\n    bottom: -29px;\n\n    &::before {\n      transform: rotate(90deg);\n    }\n  }\n\n  &.bs-tooltip-end .tooltip-arrow {\n    left: -18px;\n\n    &::before {\n      transform: rotate(180deg);\n    }\n  }\n\n  &.bs-tooltip-bottom .tooltip-arrow {\n    top: -29px;\n\n    &::before {\n      transform: rotate(-90deg);\n    }\n  }\n\n  &.bs-tooltip-start .tooltip-arrow {\n    right: -18px;\n\n    &::before {\n      transform: rotate(0deg);\n    }\n  }\n`\n\nconst InfoBox = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  width: 546px;\n  height: 656px;\n  border: 1px solid ${(props) => props.$border};\n  background: ${(props) => props.$bg};\n  border-radius: 20px;\n  padding: 20px;\n  gap: 20px;\n  z-index: 1000;\n  box-shadow: none;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  align-items: center;\n  justify-content: center;\n\n  animation: falling-animation 0.3s linear forwards;\n\n  @keyframes falling-animation {\n    from {\n      transform: translate(-50%, -200%);\n    }\n\n    to {\n      transform: translate(-50%, -50%);\n    }\n  }\n`\n\nconst Callout = styled.div`\n  display: flex;\n  width: 320px;\n  padding: 20px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n  border-radius: 10px;\n  border: 1px solid ${(props) => props.$border};\n  background: ${(props) => props.$bg};\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n`\n\nconst Header = styled.div`\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  color: ${(props) => props.$col};\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n`\n\nconst TopLine = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  margin: 0;\n  padding: 0;\n`\n\nconst CalloutHeaderCaption = styled.div`\n  display: inline-block;\n  max-width: 30%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: ${(props) => props.$col};\n  font-size: 12px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 149%;\n`\n\nconst PagesIndicators = styled.div`\n  width: auto;\n  height: 24px;\n  padding: 4px;\n  gap: 10px;\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  box-sizing: border-box;\n  justify-content: center;\n`\n\n// const Navi = styled.button` // ToDo: for navigation\nconst Navi = styled.div`\n  padding: 0;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background: ${(props) => (props.$active ? props.$navActive : props.$navInactiveBg)};\n  border: ${(props) => (props.$active ? 'none' : `1px solid ${props.$navInactiveBorder}`)};\n`\n\nconst Close = styled.button`\n  background: inherit;\n  outline: none;\n  border: none;\n  cursor: pointer;\n`\n\nconst Title = styled.div`\n  padding: 0;\n  margin: 0 0 -10px;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  color: ${(props) => props.$col};\n  font-size: ${(props) => (props.$type === \"infobox\" ? \"32px\" : \"18px\")};\n  font-style: normal;\n  font-weight: 600;\n  line-height: 149%;\n`\n\nconst WrapperAlert = styled.div`\n  display: flex;\n  padding: 4px 6px;\n  gap: 6px;\n  border-radius: 5px;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n  margin-right: auto;\n  background: ${(props) =>\n    props.$status === \"warning\"\n      ? \"rgba(255, 248, 235, 1)\"\n      : props.$status === \"error\"\n      ? \"rgba(246, 240, 246, 1)\"\n      : \"rgba(255, 255, 255, 0.2)\"};\n\n  color: ${(props) =>\n    props.$status === \"warning\"\n      ? \"rgba(208, 145, 26, 1)\"\n      : props.$status === \"error\"\n      ? \"rgba(219, 80, 74, 1)\"\n      : \"white\"};\n\n  outline: none;\n`\n\nconst IconAlert = styled.div`\n  margin: 0;\n  padding: 0;\n  position: relative;\n  display: flex;\n  width: 16px;\n`\n\nconst TextAlert = styled.div`\n  font-size: 12px;\n  font-weight: 400;\n  text-align: left;\n  margin: 0;\n  padding: 0;\n`\n\nconst Card = styled.div`\n  position: relative;\n  overflow: auto;\n  display: flex;\n  flex: 1;\n  height: 100%;\n  flex-direction: column;\n  box-sizing: border-box;\n  padding: 12px 20px;\n  gap: 10px;\n  border: none;\n  border-radius: 20px;\n  background: ${(props) => props.$bg};\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n  overflow-x: hidden;\n`\n\nconst MarkdownWrapper = styled.div`\n  h3 {\n    padding: 8px 0 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 19px;\n    color: ${(props) => props.$colH};\n    flex: none;\n    align-self: stretch;\n    flex-grow: 0;\n    text-indent: 16px;\n  }\n\n  img {\n    position: relative;\n    display: flex;\n    box-sizing: border-box;\n    width: 100%;\n    height: auto !important;\n    border-radius: 10px;\n    flex: none;\n    flex-grow: 0;\n    border: 1px solid rgb(207, 217, 222);\n  }\n\n  p {\n    margin-block-start: 0.5em;\n    margin-block-end: .5em;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 149%;\n    color: ${(props) => props.$colP};\n    flex: none;\n    align-self: stretch;\n    flex-grow: 0;\n  }\n\n  a {\n    padding: 0;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 149%;\n    text-decoration-line: underline !important;\n    color: ${(props) => props.$colH};\n    cursor: 'poiner';\n  }\n`\n\nconst Footer = styled.div`\n  display: flex;\n  position: relative;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  width: 100%;\n  align-items: center;\n  gap: 20px;\n`\n\nconst ContainerCheckbox = styled.div`\n  display: flex;\n  align-items: ${(props) => (props.$type === \"infobox\" ? \"flex-end\" : \"flex-start\")};\n`\n\nconst CheckboxInput = styled.input`\n  width: 16px;\n  height: 16px;\n  border-radius: 5px;\n  border: 1px solid #384bff;\n  margin-right: 8px;\n`\n\nconst Label = styled.label`\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 17.88px;\n  color: #7a818b;\n  cursor: pointer;\n  width: max-content;\n`\n\nconst ActionsGroup = styled.div`\n  display: flex;\n  flex-direction: ${(props) => (props.$type === \"infobox\" ? \"row-reverse\" : \"row\")};\n  justify-content: ${(props) => (props.$type === \"infobox\" ? \"space-between\" : \"center\")};;\n  align-items: center;\n  gap: 10px;\n  align-self: stretch;\n  flex-grow: 1;\n`\n\nconst ActionButton = styled.div`\n  display: flex;\n  box-sizing: border-box;\n  width: 180px;\n  height: 42px;\n  padding: 0px 20px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 90px;\n  text-align: center;\n  font-size: 14px;\n  cursor: pointer;\n  border: ${(props) => (props.$primary ? \"initial\" : `1px solid ${props.$secBorderCol}`)};\n  background: ${(props) => (props.$primary ? props.$primBg : \"initial\")};\n  color: ${(props) => (props.$primary ? props.$primCol : props.$secCol)};\n  -webkit-user-select: none; /* Chrome/Safari */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* IE/Edge */\n  user-select: none;\n\n  &:hover {\n    background: ${(props) => (props.$primary ? props.$primBgH : props.$secBgH)};\n  }\n\n  &:active {\n    background: ${(props) => (props.$primary ? props.$primBgA : props.$secBgA)};\n  }\n`\n\nconst iconClose = (color) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M18 6L6 18\"\n      stroke={color}\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M6 6.5L18 18.5\"\n      stroke={color}\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n)\n\nconst errorIcon = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n  >\n    <g clipPath=\"url(#clip0_358_97)\">\n      <path\n        d=\"M6.54996 1.66666H13.45L18.3333 6.54999V13.45L13.45 18.3333H6.54996L1.66663 13.45V6.54999L6.54996 1.66666Z\"\n        stroke=\"#DB504A\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M12.5 7.5L7.5 12.5\"\n        stroke=\"#DB504A\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M7.5 7.5L12.5 12.5\"\n        stroke=\"#DB504A\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_358_97\">\n        <rect width=\"20\" height=\"20\" fill=\"white\" />\n      </clipPath>\n    </defs>\n  </svg>\n)\n\nconst infoIcon = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n  >\n    <g clipPath=\"url(#clip0_358_90)\">\n      <path\n        d=\"M9.99996 18.3333C14.6023 18.3333 18.3333 14.6024 18.3333 10C18.3333 5.39763 14.6023 1.66667 9.99996 1.66667C5.39759 1.66667 1.66663 5.39763 1.66663 10C1.66663 14.6024 5.39759 18.3333 9.99996 18.3333Z\"\n        // stroke=\"#246EFD\"\n        stroke=\"white\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M10 13.3333V10\"\n        // stroke=\"#246EFD\"\n        stroke=\"white\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M10 6.66667H10.0088\"\n        // stroke=\"#246EFD\"\n        stroke=\"white\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_358_90\">\n        <rect width=\"20\" height=\"20\" fill=\"white\" />\n      </clipPath>\n    </defs>\n  </svg>\n)\n\nconst warningIcon = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n  >\n    <path\n      d=\"M8.57502 3.21665L1.51668 15C1.37116 15.252 1.29416 15.5377 1.29334 15.8288C1.29253 16.1198 1.36793 16.4059 1.51204 16.6588C1.65615 16.9116 1.86396 17.1223 2.11477 17.2699C2.36559 17.4174 2.65068 17.4968 2.94168 17.5H17.0583C17.3494 17.4968 17.6344 17.4174 17.8853 17.2699C18.1361 17.1223 18.3439 16.9116 18.488 16.6588C18.6321 16.4059 18.7075 16.1198 18.7067 15.8288C18.7059 15.5377 18.6289 15.252 18.4834 15L11.425 3.21665C11.2765 2.97174 11.0673 2.76925 10.8177 2.62872C10.5681 2.48819 10.2865 2.41437 10 2.41437C9.71357 2.41437 9.43196 2.48819 9.18235 2.62872C8.93275 2.76925 8.72358 2.97174 8.57502 3.21665Z\"\n      stroke=\"#D0911A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M10 7.5V10.8333\"\n      stroke=\"#D0911A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M10 14.1667H10.0088\"\n      stroke=\"#D0911A\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n)\n\nconst themes = {\n  DEFAULT: {\n    bgMain: '#fffffe',\n    colorMain: '#02193a',\n    colorP: '#777777',\n    border: '#02193a',\n    cardBg: 'rgba(248, 249, 255, 1)',\n    navActive: \"#384BFF\",\n    navInactiveBg: \"#E3E3E3\",\n    navInactiveBorder: 'none',\n    primBtnCol: 'white',\n    primBtnBg: '#02193a',\n    primBtnBgH: \"#1c3559\",\n    primBtnBgA: \"#020c19\",\n    secBtnCol: '#02193a',\n    secBtnBorderCol: '#E2E2E5',\n    secBtnBgH: \"#eee\",\n    secBtnBgA: \"#ddd\",\n  },\n  'META_GUIDE': {\n    bgMain: '#4E77E1',\n    colorMain: 'white',\n    colorP: 'rgba(248, 249, 255, 1)',\n    border: '#4E77E1',\n    cardBg: 'rgba(255, 255, 255, 0.1)',\n    navActive: \"white\",\n    navInactiveBg: \"#4E77E1\",\n    navInactiveBorder: 'white',\n    primBtnCol: '#4E77E1',\n    primBtnBgH: 'rgb(242 243 255)',\n    primBtnBgA: 'rgb(222 225 255)',\n    primBtnBg: 'white',\n    secBtnCol: 'white',\n    secBtnBorderCol: 'white',\n    secBtnBgH: '#5f84e4',\n    secBtnBgA: '#6c8ee5',\n  },\n}\n\nconst {\n  children,\n  content,\n  title,\n  navi,\n  onClose,\n  // status, - conflict with deprecated Window.status property\n  buttons,\n  showChecked,\n  checked,\n  onDoNotShowChange,\n  skin,\n} = props\n\nconst header = (\n  <Header $col={themes[skin].colorMain}>\n    <TopLine>\n      <CalloutHeaderCaption $col={themes[skin].colorMain}>\n        Step {navi?.currentChapterIndex + 1} of {navi?.totalChapters}\n      </CalloutHeaderCaption>\n      <PagesIndicators>\n        {navi.totalPages > 1 && [...Array(navi?.totalPages)].map(\n          (_, index) => (\n            <Navi\n              key={index}\n              $active={index == navi?.currentPageIndex ? true : false}\n              $navActive={themes[skin].navActive}\n              $navInactiveBg={themes[skin].navInactiveBg}\n              $navInactiveBorder={themes[skin].navInactiveBorder}\n            />\n          )\n        )}\n      </PagesIndicators>\n      <Close onClick={onClose}>{iconClose(themes[skin].colorMain)}</Close>\n    </TopLine>\n  </Header>\n)\n\nconst statuses = (\n  <WrapperAlert $status={props.status.type}>\n    <IconAlert>\n      {props.status.type === \"warning\"\n        ? warningIcon\n        : props.status.type === \"error\"\n        ? errorIcon\n        : infoIcon}\n    </IconAlert>\n    <TextAlert>{props.status.text}</TextAlert>\n  </WrapperAlert>\n)\n\nconst checkbox = (\n  <ContainerCheckbox $type={props.type}>\n    <CheckboxInput\n      type=\"checkbox\"\n      checked={checked}\n      onChange={onDoNotShowChange}\n    />\n    <Label htmlFor=\"checkbox\">Don't show this guide again</Label>\n  </ContainerCheckbox>\n)\n\nconst actionButton = (btn) => (\n  <ActionButton\n    key={btn.label}\n    $primary={btn.variant == \"primary\" ? true : false}\n    $primCol={themes[skin].primBtnCol}\n    $primBg={themes[skin].primBtnBg}\n    $primBgH={themes[skin].primBtnBgH}\n    $primBgA={themes[skin].primBtnBgA}\n    $secCol={themes[skin].secBtnCol}\n    $secBorderCol={themes[skin].secBtnBorderCol}\n    $secBgH={themes[skin].secBtnBgH}\n    $secBgA={themes[skin].secBtnBgA}\n    onClick={btn.onClick}\n    disabled={btn.disabled}\n  >\n    {btn.label}\n  </ActionButton>\n)\n\nconst navButtons = props.type === 'callout' ? (\n  <ActionsGroup $type={props.type}>\n    {buttons.map((btn) => actionButton(btn))}\n  </ActionsGroup>\n) : buttons?.length > 1 ? (\n  <ActionsGroup $type={props.type}>\n    {actionButton(buttons[1])}\n    {actionButton(buttons[0])}\n  </ActionsGroup>\n) : buttons?.length === 1 ? (\n  <ActionsGroup $type={props.type}>\n    {actionButton(buttons[0])}\n  </ActionsGroup>\n) : <></>\n\nconst callout = (\n  <Callout \n    data-mweb-context-type=\"wg-chapter\" \n    data-mweb-context-parsed={JSON.stringify({ id: props.id })}\n    $border={themes[skin].border}\n    $bg={themes[skin].bgMain}\n  >\n    {header}\n    {props.status?.text ? statuses : null}\n    <Title $type={props.type} $col={themes[skin].colorMain}>\n      {title}\n    </Title>\n    <MarkdownWrapper $colH={themes[skin].colorMain} $colP={themes[skin].colorP}>\n      <Markdown text={content}/>\n    </MarkdownWrapper>\n    {showChecked ? checkbox : null}\n    {navButtons}\n    <div data-mweb-insertion-point=\"hidden\" style={{ display: 'none' }}/>\n  </Callout>\n)\n\nconst calloutTooltip = {\n  DEFAULT: (\n    <CustomTooltipDefault bsPrefix=\"wg-tooltip\">\n      {callout}\n    </CustomTooltipDefault>\n  ),\n  'META_GUIDE': (\n    <CustomTooltipMeta bsPrefix=\"wg-tooltip\">\n      {callout}\n    </CustomTooltipMeta>\n  ),\n}\n\nconst infobox = (\n  <InfoBox\n    $border={themes[skin].border}\n    $bg={themes[skin].bgMain}\n  >\n    {header}\n    <Title $type={props.type} $col={themes[skin].colorMain}>\n      {title}\n    </Title>\n    <Card $bg={themes[skin].cardBg}>\n      {props.status?.text ? statuses : null}\n      <MarkdownWrapper $colH={themes[skin].colorMain} $colP={themes[skin].colorP}>\n        <Markdown text={content}/>\n      </MarkdownWrapper>\n    </Card>\n    <Footer>\n      {showChecked ? checkbox : null}\n      {navButtons}\n    </Footer>\n  </InfoBox>\n)\n\nconst overlayByType = {\n  callout: (\n    <DappletOverlayTrigger\n      show={true}\n      overlay={calloutTooltip[skin]}\n      placement={props.placement ?? \"auto\"}\n      offset={[0, 20]}\n      popperConfig={{ strategy: props.strategy ?? 'absolute' }}\n    >\n      {typeof props.children === \"function\" ? (\n        props.children\n      ) : (\n        <span>{props.children}</span>\n      )}\n    </DappletOverlayTrigger>\n  ),\n  infobox,\n}\n\nreturn overlayByType[props.type]\n"
    },
    "src/widget/WebGuide.Action": {
      "code": "const { isActive, handleAction } = props\n\nconst ButtonActionWrapper = styled.button`\n  display: flex;\n  box-sizing: border-box;\n  overflow: hidden;\n  cursor: pointer;\n  justify-content: center;\n  align-items: center;\n  width: 46px;\n  height: 22px;\n  outline: none;\n  padding: 0;\n  border-radius: 4px;\n  box-shadow: 0 4px 5px 0 rgba(45, 52, 60, 0.1);\n  transition: all 0.2s ease;\n  border: ${(props) => (props.$isActive ? \"rgba(56, 75, 255, 1)\" : \"1px solid rgba(226, 226, 229, 1)\")};\n  background: ${(props) => (props.$isActive ? \"rgba(56, 75, 255, 1)\" : \"rgba(248, 249, 255, 1)\")};\n\n  &:hover {\n    background: ${(props) => (props.$isActive ? \"#AFB7FF\" : \"#FFFFFF\")};\n    border: ${(props) => (props.$isActive ? \"#AFB7FF\" : \"#FFFFFF\")};\n  }\n\n  &:active {\n    background: ${(props) => (props.$isActive ? \"#9199E1\" : \"#EEEFF5\")};\n    border: ${(props) => (props.$isActive ? \"#9199E1\" : \"#EEEFF5\")};\n  }\n`;\n\nconst ImgButtonWrapper = styled.span`\n  display: flex;\n  box-sizing: border-box;\n  overflow: hidden;\n  cursor: pointer;\n  border-radius: 50%;\n  justify-content: center;\n  align-items: center;\n  width: 18px;\n  height: 18px;\n`;\n\nconst iconQuestionMark = (isActive) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"18\"\n    viewBox=\"0 0 18 18\"\n    fill=\"none\"\n  >\n    <rect width=\"18\" height=\"18\" rx=\"9\" fill={isActive ? \"white\" : \"#02193A\"} />\n    <path\n      d=\"M7.84446 12.85H9.60281V14.5H7.84446V12.85ZM9.01669 3.5C12.1524 3.621 13.5181 6.591 11.6542 8.8185C11.1677 9.3685 10.3823 9.7315 9.9955 10.1935C9.60281 10.65 9.60281 11.2 9.60281 11.75H7.84446C7.84446 10.8315 7.84446 10.056 8.23716 9.506C8.62399 8.956 9.40939 8.6315 9.89586 8.2685C11.3143 7.0365 10.9626 5.293 9.01669 5.15C8.55035 5.15 8.10311 5.32384 7.77335 5.63327C7.4436 5.94271 7.25835 6.36239 7.25835 6.8H5.5C5.5 5.92479 5.87051 5.08542 6.53001 4.46655C7.18952 3.84768 8.08401 3.5 9.01669 3.5Z\"\n      fill={isActive ? \"#384BFF\": \"white\"}\n    />\n  </svg>\n);\n\nreturn (\n  <ButtonActionWrapper\n    $isActive={isActive}\n    onClick={handleAction}\n    data-mweb-context-type=\"mweb-overlay-action\"\n    data-mweb-context-parsed={JSON.stringify({ id: 'web-guide-action' })}\n  >\n    <ImgButtonWrapper>{iconQuestionMark(isActive)}</ImgButtonWrapper>\n    <div\n      data-mweb-insertion-point=\"mweb-overlay-action\"\n      style={{ display: \"none\" }}\n    />\n  </ButtonActionWrapper>\n);\n"
    }
  }
}